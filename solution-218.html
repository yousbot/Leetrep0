<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-218.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-218.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>218 - The Skyline Problem</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Question Formatted question description: https://leetcode.ca/all/218.html 218. The Skyline Problem Level Hard Description A cityâs skyline is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Now suppose you are given the locations and height of...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-218.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-218.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-218.html" rel="stylesheet"/>
   <link href="solution-218.html" rel="stylesheet"/>
   <link href="solution-218.html" rel="stylesheet"/>
   <link href="solution-218.html" rel="stylesheet"/>
   <link href="solution-218.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="218 - The Skyline Problem" property="og:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/218.html 218. The Skyline Problem Level Hard Description A cityâs skyline is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Now suppose you are given the locations and height of all the buildings as shown on a cityscape photo (Figure A), write a program to output the skyline formed by these buildings collectively (Figure B). The geometric information of each building is represented by a triplet of integers [Li, Ri, Hi], where Li and Ri are the x coordinates of the left and right edge of the ith building, respectively, and Hi is its height. It is guaranteed that 0 â¤ Li, Ri â¤ INT_MAX, 0 &amp;lt; Hi â¤ INT_MAX, and Ri - Li &amp;gt; 0. You may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height 0. For instance, the dimensions of all buildings in Figure A are recorded as: [ [2 9 10], [3 7 15], [5 12 12], [15 20 10], [19 24 8] ]. The output is a list of âkey pointsâ (red dots in Figure B) in the format of [ [x1,y1], [x2, y2], [x3, y3], ... ] that uniquely defines a skyline. A key point is the left endpoint of a horizontal line segment. Note that the last key point, where the rightmost building ends, is merely used to mark the termination of the skyline, and always has zero height. Also, the ground in between any two adjacent buildings should be considered part of the skyline contour. For instance, the skyline in Figure B should be represented as: [ [2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24, 0] ]. Notes: The number of buildings in any input list is guaranteed to be in the range [0, 10000]. The input list is already sorted in ascending order by the left x position Li. The output list must be sorted by the x position. There must be no consecutive horizontal lines of equal height in the output skyline. For instance, [...[2 3], [4 5], [7 5], [11 5], [12 7]...] is not acceptable; the three lines of height 5 should be merged into one in the final output as such: [...[2 3], [4 5], [12 7], ...] Algorithm The skyline is defined as the outer contour of the rectangles formed by the buildings when viewed from a distance. The problem input is a list of buildings, each represented by a list [left, right, height], and the output is a list of key points defining the skyline, where each key point is a list [x, height] representing a vertical line at x with a height change. Preparation Initialization: The solution initializes an empty list ans for the skyline key points, a list lines for all unique building edge x coordinates (both left and right edges), and a PriorityQueue pq to maintain active buildings by height in descending..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-07-05T22:21:01-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-07-05-218-The-Skyline-Problem/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-218.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="218 - The Skyline Problem" property="twitter:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/218.html 218. The Skyline Problem Level Hard Description A cityâs skyline is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Now suppose you are given the locations and height of all the buildings as shown on a cityscape photo (Figure A), write a program to output the skyline formed by these buildings collectively (Figure B). The geometric information of each building is represented by a triplet of integers [Li, Ri, Hi], where Li and Ri are the x coordinates of the left and right edge of the ith building, respectively, and Hi is its height. It is guaranteed that 0 â¤ Li, Ri â¤ INT_MAX, 0 &amp;lt; Hi â¤ INT_MAX, and Ri - Li &amp;gt; 0. You may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height 0. For instance, the dimensions of all buildings in Figure A are recorded as: [ [2 9 10], [3 7 15], [5 12 12], [15 20 10], [19 24 8] ]. The output is a list of âkey pointsâ (red dots in Figure B) in the format of [ [x1,y1], [x2, y2], [x3, y3], ... ] that uniquely defines a skyline. A key point is the left endpoint of a horizontal line segment. Note that the last key point, where the rightmost building ends, is merely used to mark the termination of the skyline, and always has zero height. Also, the ground in between any two adjacent buildings should be considered part of the skyline contour. For instance, the skyline in Figure B should be represented as: [ [2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24, 0] ]. Notes: The number of buildings in any input list is guaranteed to be in the range [0, 10000]. The input list is already sorted in ascending order by the left x position Li. The output list must be sorted by the x position. There must be no consecutive horizontal lines of equal height in the output skyline. For instance, [...[2 3], [4 5], [7 5], [11 5], [12 7]...] is not acceptable; the three lines of height 5 should be merged into one in the final output as such: [...[2 3], [4 5], [12 7], ...] Algorithm The skyline is defined as the outer contour of the rectangles formed by the buildings when viewed from a distance. The problem input is a list of buildings, each represented by a list [left, right, height], and the output is a list of key points defining the skyline, where each key point is a list [x, height] representing a vertical line at x with a height change. Preparation Initialization: The solution initializes an empty list ans for the skyline key points, a list lines for all unique building edge x coordinates (both left and right edges), and a PriorityQueue pq to maintain active buildings by height in descending..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    218 - The Skyline Problem | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="218 - The Skyline Problem" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-218.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-07-05-218-The-Skyline-Problem/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-07-05T22:21:01-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"218 - The Skyline Problem","dateModified":"2016-07-05T22:21:01-07:00","datePublished":"2016-07-05T22:21:01-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-07-05-218-The-Skyline-Problem/"},"url":"https://leetcode.ca/2016-07-05-218-The-Skyline-Problem/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="question">
       Question
      </h1>
      <p>
       Formatted question description:
       <a href="solution-218.html">
        https://leetcode.ca/all/218.html
       </a>
      </p>
      <h1 id="218-the-skyline-problem">
       218. The Skyline Problem
      </h1>
      <h2 id="level">
       Level
      </h2>
      <p>
       Hard
      </p>
      <h2 id="description">
       Description
      </h2>
      <p>
       A cityâs skyline is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Now suppose you are
       <strong>
        given the locations and height of all the buildings
       </strong>
       as shown on a cityscape photo (Figure A), write a program to
       <strong>
        output the skyline
       </strong>
       formed by these buildings collectively (Figure B).
      </p>
      <p>
       <img alt="Image text" src="https://assets.leetcode.com/static_assets/public/images/problemset/skyline1.jpg"/>
       <img alt="Image text" src="https://assets.leetcode.com/static_assets/public/images/problemset/skyline2.jpg"/>
      </p>
      <p>
       The geometric information of each building is represented by a triplet of integers
       <code class="language-plaintext highlighter-rouge">
        [Li, Ri, Hi]
       </code>
       , where
       <code class="language-plaintext highlighter-rouge">
        Li
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        Ri
       </code>
       are the x coordinates of the left and right edge of the ith building, respectively, and
       <code class="language-plaintext highlighter-rouge">
        Hi
       </code>
       is its height. It is guaranteed that
       <code class="language-plaintext highlighter-rouge">
        0 â¤ Li, Ri â¤ INT_MAX
       </code>
       ,
       <code class="language-plaintext highlighter-rouge">
        0 &lt; Hi â¤ INT_MAX
       </code>
       ,
       <code class="language-plaintext highlighter-rouge">
        and Ri - Li &gt; 0
       </code>
       . You may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height 0.
      </p>
      <p>
       For instance, the dimensions of all buildings in Figure A are recorded as:
       <code class="language-plaintext highlighter-rouge">
        [ [2 9 10], [3 7 15], [5 12 12], [15 20 10], [19 24 8] ]
       </code>
       .
      </p>
      <p>
       The output is a list of â
       <strong>
        key points
       </strong>
       â (red dots in Figure B) in the format of
       <code class="language-plaintext highlighter-rouge">
        [ [x1,y1], [x2, y2], [x3, y3], ... ]
       </code>
       that uniquely defines a skyline.
       <strong>
        A key point is the left endpoint of a horizontal line segment
       </strong>
       . Note that the last key point, where the rightmost building ends, is merely used to mark the termination of the skyline, and always has zero height. Also, the ground in between any two adjacent buildings should be considered part of the skyline contour.
      </p>
      <p>
       For instance, the skyline in Figure B should be represented as:
       <code class="language-plaintext highlighter-rouge">
        [ [2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24, 0] ]
       </code>
       .
      </p>
      <p>
       <strong>
        Notes:
       </strong>
      </p>
      <ul>
       <li>
        The number of buildings in any input list is guaranteed to be in the range
        <code class="language-plaintext highlighter-rouge">
         [0, 10000]
        </code>
        .
       </li>
       <li>
        The input list is already sorted in ascending order by the left x position
        <code class="language-plaintext highlighter-rouge">
         Li
        </code>
        .
       </li>
       <li>
        The output list must be sorted by the x position.
       </li>
       <li>
        There must be no consecutive horizontal lines of equal height in the output skyline. For instance,
        <code class="language-plaintext highlighter-rouge">
         [...[2 3], [4 5], [7 5], [11 5], [12 7]...]
        </code>
        is not acceptable; the three lines of height 5 should be merged into one in the final output as such:
        <code class="language-plaintext highlighter-rouge">
         [...[2 3], [4 5], [12 7], ...]
        </code>
       </li>
      </ul>
      <h1 id="algorithm">
       Algorithm
      </h1>
      <p>
       The skyline is defined as the outer contour of the rectangles formed by the buildings when viewed from a distance. The problem input is a list of buildings, each represented by a list
       <code class="language-plaintext highlighter-rouge">
        [left, right, height]
       </code>
       , and the output is a list of key points defining the skyline, where each key point is a list
       <code class="language-plaintext highlighter-rouge">
        [x, height]
       </code>
       representing a vertical line at
       <code class="language-plaintext highlighter-rouge">
        x
       </code>
       with a height change.
      </p>
      <h3 id="preparation">
       Preparation
      </h3>
      <ol>
       <li>
        <p>
         <strong>
          Initialization
         </strong>
         : The solution initializes an empty list
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         for the skyline key points, a list
         <code class="language-plaintext highlighter-rouge">
          lines
         </code>
         for all unique building edge
         <code class="language-plaintext highlighter-rouge">
          x
         </code>
         coordinates (both left and right edges), and a
         <code class="language-plaintext highlighter-rouge">
          PriorityQueue
         </code>
         <code class="language-plaintext highlighter-rouge">
          pq
         </code>
         to maintain active buildings by height in descending order (negative heights are used since Pythonâs
         <code class="language-plaintext highlighter-rouge">
          PriorityQueue
         </code>
         is a min-heap).
        </p>
       </li>
       <li>
        <p>
         <strong>
          Collecting Edges
         </strong>
         : It iterates through all buildings and adds both the left and right edge
         <code class="language-plaintext highlighter-rouge">
          x
         </code>
         coordinates to
         <code class="language-plaintext highlighter-rouge">
          lines
         </code>
         .
        </p>
       </li>
       <li>
        <p>
         <strong>
          Sorting Edges
         </strong>
         : The
         <code class="language-plaintext highlighter-rouge">
          lines
         </code>
         list is sorted to process edge coordinates in ascending order.
        </p>
       </li>
      </ol>
      <h3 id="processing-each-edge">
       Processing Each Edge
      </h3>
      <ol>
       <li>
        <p>
         <strong>
          Iterating Through Edges
         </strong>
         : For each edge
         <code class="language-plaintext highlighter-rouge">
          line
         </code>
         in
         <code class="language-plaintext highlighter-rouge">
          lines
         </code>
         , the algorithm performs two main tasks:
        </p>
        <ul>
         <li>
          <p>
           <strong>
            Adding Buildings to the Queue
           </strong>
           : It adds to
           <code class="language-plaintext highlighter-rouge">
            pq
           </code>
           all buildings that start before or at the current
           <code class="language-plaintext highlighter-rouge">
            line
           </code>
           (i.e., buildings whose left edge is
           <code class="language-plaintext highlighter-rouge">
            &lt;= line
           </code>
           ). Each entry in
           <code class="language-plaintext highlighter-rouge">
            pq
           </code>
           is a list
           <code class="language-plaintext highlighter-rouge">
            [-height, left, right]
           </code>
           , where
           <code class="language-plaintext highlighter-rouge">
            height
           </code>
           is negated to simulate a max-heap behavior, allowing buildings with the greatest height to be processed first.
          </p>
         </li>
         <li>
          <p>
           <strong>
            Removing Expired Buildings
           </strong>
           : It removes from
           <code class="language-plaintext highlighter-rouge">
            pq
           </code>
           all buildings that end before or at
           <code class="language-plaintext highlighter-rouge">
            line
           </code>
           (i.e., buildings whose right edge is
           <code class="language-plaintext highlighter-rouge">
            &lt;= line
           </code>
           ), as they are no longer part of the skyline past this point.
          </p>
         </li>
        </ul>
       </li>
       <li>
        <p>
         <strong>
          Determining the Highest Building
         </strong>
         : After adding new buildings and removing expired ones, the highest remaining building (if any) influences the skyline at
         <code class="language-plaintext highlighter-rouge">
          line
         </code>
         . The height of this building is determined from
         <code class="language-plaintext highlighter-rouge">
          pq.queue[0][0]
         </code>
         (negated back to positive).
        </p>
       </li>
       <li>
        <p>
         <strong>
          Updating the Skyline
         </strong>
         : If the current
         <code class="language-plaintext highlighter-rouge">
          high
         </code>
         is different from the height of the last added key point in
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         , a new key point
         <code class="language-plaintext highlighter-rouge">
          [line, high]
         </code>
         is added to
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         . This step skips redundant key points where the height does not change.
        </p>
       </li>
      </ol>
      <h3 id="output">
       Output
      </h3>
      <ol>
       <li>
        <strong>
         Returning the Result
        </strong>
        : Finally, after processing all edges, the
        <code class="language-plaintext highlighter-rouge">
         ans
        </code>
        list, which now contains the skyline key points, is returned.
       </li>
      </ol>
      <h3 id="example-illustration">
       Example Illustration
      </h3>
      <p>
       Suppose the input is
       <code class="language-plaintext highlighter-rouge">
        buildings = [[2,9,10], [3,7,15], [5,12,12]]
       </code>
       . The key steps would involve:
      </p>
      <ul>
       <li>
        Sorting the edges:
        <code class="language-plaintext highlighter-rouge">
         lines = [2, 3, 5, 7, 9, 12]
        </code>
        .
       </li>
       <li>
        Iterating through each edge, updating
        <code class="language-plaintext highlighter-rouge">
         pq
        </code>
        with active buildings, and determining the highest building at each edge.
       </li>
       <li>
        Constructing
        <code class="language-plaintext highlighter-rouge">
         ans
        </code>
        based on height changes at each processed edge, resulting in the skyline.
       </li>
      </ul>
      <p>
       This solution efficiently computes the skyline by leveraging a priority queue to keep track of active buildings and their heights, ensuring that the highest buildings at each edge are accurately reflected in the output.
      </p>
      <h1 id="code">
       Code
      </h1>
      <ul class="uk-tab" data-uk-switcher="{connect:'#605d554f-e76f-4af8-9c39-e3768913fa27'}">
       <li class="uk-active">
        <a href="solution-218.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-218.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-218.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-218.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-218.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="605d554f-e76f-4af8-9c39-e3768913fa27">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">The_Skyline_Problem</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">The_Skyline_Problem</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">The_Skyline_Problem</span><span class="o">();</span>

        <span class="n">Solution_Heap</span> <span class="n">s</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="na">new</span> <span class="nf">Solution_Heap</span><span class="o">();</span>

        <span class="c1">// output: [ [2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24, 0] ]</span>
        <span class="n">s</span><span class="o">.</span><span class="na">getSkyline</span><span class="o">(</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[][]{</span> <span class="o">{</span><span class="mi">2</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">10</span><span class="o">},</span> <span class="o">{</span><span class="mi">3</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">15</span><span class="o">},</span> <span class="o">{</span><span class="mi">5</span><span class="o">,</span><span class="mi">12</span><span class="o">,</span><span class="mi">12</span><span class="o">},</span> <span class="o">{</span><span class="mi">15</span><span class="o">,</span><span class="mi">20</span><span class="o">,</span><span class="mi">10</span><span class="o">},</span> <span class="o">{</span><span class="mi">19</span><span class="o">,</span><span class="mi">24</span><span class="o">,</span><span class="mi">8</span><span class="o">}</span> <span class="o">}</span> <span class="o">)</span>
            <span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">class</span> <span class="nc">Solution_Heap</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="nf">getSkyline</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">buildings</span><span class="o">)</span> <span class="o">{</span>

            <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">buildings</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">buildings</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span>
                <span class="o">||</span> <span class="n">buildings</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Edge</span><span class="o">&gt;</span> <span class="n">edges</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Edge</span><span class="o">&gt;();</span>

            <span class="c1">// add all left/right edges</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="nl">each:</span> <span class="n">buildings</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">edges</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="n">each</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">each</span><span class="o">[</span><span class="mi">2</span><span class="o">],</span> <span class="kc">true</span><span class="o">));</span>
                <span class="n">edges</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="n">each</span><span class="o">[</span><span class="mi">1</span><span class="o">],</span> <span class="n">each</span><span class="o">[</span><span class="mi">2</span><span class="o">],</span> <span class="kc">false</span><span class="o">));</span>
            <span class="o">}</span>

            <span class="c1">// sort edges, NlogN</span>
            <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">edges</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">x</span> <span class="o">!=</span> <span class="n">b</span><span class="o">.</span><span class="na">x</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">b</span><span class="o">.</span><span class="na">x</span><span class="o">);</span>
                <span class="o">}</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">isStart</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">.</span><span class="na">isStart</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">b</span><span class="o">.</span><span class="na">height</span><span class="o">,</span> <span class="n">a</span><span class="o">.</span><span class="na">height</span><span class="o">);</span> <span class="c1">// higher edge at front</span>
                <span class="o">}</span>

                <span class="k">if</span> <span class="o">(!</span><span class="n">a</span><span class="o">.</span><span class="na">isStart</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">b</span><span class="o">.</span><span class="na">isStart</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">height</span><span class="o">,</span> <span class="n">b</span><span class="o">.</span><span class="na">height</span><span class="o">);</span> <span class="c1">// lower edge at front</span>
                <span class="o">}</span>

                <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="na">isStart</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span> <span class="c1">// lower edge at front</span>
            <span class="o">});</span>

            <span class="c1">// process edges, comparator is reverseOrder()</span>
            <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">heightHeap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">reverseOrder</span><span class="o">());</span>

            <span class="k">for</span> <span class="o">(</span><span class="nc">Edge</span> <span class="n">edge</span> <span class="o">:</span> <span class="n">edges</span><span class="o">)</span> <span class="o">{</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">edge</span><span class="o">.</span><span class="na">isStart</span><span class="o">)</span> <span class="o">{</span>

                    <span class="k">if</span> <span class="o">(</span><span class="n">heightHeap</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">||</span> <span class="n">edge</span><span class="o">.</span><span class="na">height</span> <span class="o">&gt;</span> <span class="n">heightHeap</span><span class="o">.</span><span class="na">peek</span><span class="o">())</span> <span class="o">{</span>
                        <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span> <span class="n">edge</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">edge</span><span class="o">.</span><span class="na">height</span> <span class="o">));</span>
                    <span class="o">}</span>

                    <span class="n">heightHeap</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">edge</span><span class="o">.</span><span class="na">height</span><span class="o">);</span>

                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>

                    <span class="n">heightHeap</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">edge</span><span class="o">.</span><span class="na">height</span><span class="o">);</span>

                    <span class="k">if</span> <span class="o">(</span><span class="n">heightHeap</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()){</span>
                        <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">edge</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span> <span class="o">);</span> <span class="c1">// last point</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">edge</span><span class="o">.</span><span class="na">height</span> <span class="o">&gt;</span> <span class="n">heightHeap</span><span class="o">.</span><span class="na">peek</span><span class="o">()){</span> <span class="c1">// @note: intersect</span>
                        <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">edge</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">heightHeap</span><span class="o">.</span><span class="na">peek</span><span class="o">())</span> <span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">class</span> <span class="nc">Edge</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">x</span><span class="o">;</span> <span class="c1">// xåæ </span>
            <span class="kt">int</span> <span class="n">height</span><span class="o">;</span>
            <span class="kt">boolean</span> <span class="n">isStart</span><span class="o">;</span>

            <span class="kd">public</span> <span class="nf">Edge</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">isStart</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">height</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">isStart</span> <span class="o">=</span> <span class="n">isStart</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// merge sort example</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution_mergeSort</span> <span class="o">{</span>

        <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="nf">getSkyline</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">buildings</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span><span class="o">(</span><span class="n">buildings</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">buildings</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;();</span>
            <span class="o">}</span>

            <span class="k">return</span> <span class="nf">getSkyline</span><span class="o">(</span><span class="n">buildings</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">buildings</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// NlogN</span>
        <span class="kd">private</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="nf">getSkyline</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">buildings</span><span class="o">,</span> <span class="kt">int</span> <span class="n">lo</span><span class="o">,</span> <span class="kt">int</span> <span class="n">hi</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="o">)</span> <span class="o">{</span>

                <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">+</span> <span class="o">(</span><span class="n">hi</span> <span class="o">-</span> <span class="n">lo</span><span class="o">)</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
                <span class="k">return</span> <span class="nf">mergeSkylines</span><span class="o">(</span><span class="n">getSkyline</span><span class="o">(</span><span class="n">buildings</span><span class="o">,</span> <span class="n">lo</span><span class="o">,</span> <span class="n">mid</span><span class="o">),</span> <span class="n">getSkyline</span><span class="o">(</span><span class="n">buildings</span><span class="o">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">hi</span><span class="o">));</span>

            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>

                <span class="c1">//  lo == hi, base case, add the final already-merged building to skyline</span>
                <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">skyline</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;();</span>

                <span class="n">skyline</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">buildings</span><span class="o">[</span><span class="n">lo</span><span class="o">][</span><span class="mi">0</span><span class="o">],</span> <span class="n">buildings</span><span class="o">[</span><span class="n">lo</span><span class="o">][</span><span class="mi">2</span><span class="o">]});</span> <span class="c1">// only care about [left-index, height]</span>
                <span class="n">skyline</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">buildings</span><span class="o">[</span><span class="n">lo</span><span class="o">][</span><span class="mi">1</span><span class="o">],</span> <span class="mi">0</span><span class="o">});</span> <span class="c1">// right-index is just for last right edge</span>

                <span class="k">return</span> <span class="n">skyline</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// merge two Skylines</span>
        <span class="kd">private</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="nf">mergeSkylines</span><span class="o">(</span><span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">skyline1</span><span class="o">,</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">skyline2</span><span class="o">)</span> <span class="o">{</span>

            <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">skyline</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;();</span>
            <span class="kt">int</span> <span class="n">height1</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">height2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

            <span class="k">while</span><span class="o">(</span><span class="n">skyline1</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">skyline2</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>

                <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

                <span class="c1">// @note: always remove the smaller index first, so order is guaranteed</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">skyline1</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">skyline2</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">])</span> <span class="o">{</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="n">skyline1</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
                    <span class="n">height1</span> <span class="o">=</span> <span class="n">skyline1</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">1</span><span class="o">];</span>
                    <span class="n">height</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">height1</span><span class="o">,</span> <span class="n">height2</span><span class="o">);</span>
                    <span class="n">skyline1</span><span class="o">.</span><span class="na">removeFirst</span><span class="o">();</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">skyline1</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">skyline2</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">])</span> <span class="o">{</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="n">skyline2</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
                    <span class="n">height2</span> <span class="o">=</span> <span class="n">skyline2</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">1</span><span class="o">];</span>
                    <span class="n">height</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">height1</span><span class="o">,</span> <span class="n">height2</span><span class="o">);</span>
                    <span class="n">skyline2</span><span class="o">.</span><span class="na">removeFirst</span><span class="o">();</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="n">skyline1</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
                    <span class="n">height1</span> <span class="o">=</span> <span class="n">skyline1</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">1</span><span class="o">];</span>
                    <span class="n">height2</span> <span class="o">=</span> <span class="n">skyline2</span><span class="o">.</span><span class="na">getFirst</span><span class="o">()[</span><span class="mi">1</span><span class="o">];</span>
                    <span class="n">height</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">height1</span><span class="o">,</span> <span class="n">height2</span><span class="o">);</span>
                    <span class="n">skyline1</span><span class="o">.</span><span class="na">removeFirst</span><span class="o">();</span>
                    <span class="n">skyline2</span><span class="o">.</span><span class="na">removeFirst</span><span class="o">();</span>
                <span class="o">}</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">skyline</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">height</span> <span class="o">!=</span> <span class="n">skyline</span><span class="o">.</span><span class="na">getLast</span><span class="o">()[</span><span class="mi">1</span><span class="o">])</span> <span class="o">{</span>
                    <span class="n">skyline</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">index</span><span class="o">,</span> <span class="n">height</span><span class="o">});</span>
                <span class="o">}</span>
            <span class="o">}</span>

            <span class="c1">// final check</span>
            <span class="n">skyline</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">skyline1</span><span class="o">);</span>
            <span class="n">skyline</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">skyline2</span><span class="o">);</span>

            <span class="k">return</span> <span class="n">skyline</span><span class="o">;</span>
        <span class="o">}</span>

    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/the-skyline-problem/</span>
<span class="c1">// Time: O(NlogN)</span>
<span class="c1">// Space: O(N)</span>
<span class="c1">// Ref: https://discuss.leetcode.com/topic/14939/my-c-code-using-one-priority-queue-812-ms</span>
<span class="kt">bool</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">getSkyline</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">buildings</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">ans</span><span class="p">;</span>
         <span class="n">sort</span><span class="p">(</span><span class="n">buildings</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">buildings</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">cmp</span><span class="p">);</span>
         <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="n">buildings</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
         <span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">live</span><span class="p">;</span><span class="c1">// first: height, second: right</span>
         <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">||</span> <span class="o">!</span><span class="n">live</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">live</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">live</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span> <span class="o">&gt;=</span> <span class="n">buildings</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span> <span class="p">{</span>
                 <span class="n">x</span> <span class="o">=</span> <span class="n">buildings</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
                 <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">&amp;&amp;</span> <span class="n">buildings</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
                     <span class="n">live</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">buildings</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">buildings</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]));</span>
                     <span class="o">++</span><span class="n">i</span><span class="p">;</span>
                 <span class="p">}</span>
             <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                 <span class="n">x</span> <span class="o">=</span> <span class="n">live</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span><span class="p">;</span>
                 <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">live</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">live</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">)</span> <span class="n">live</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
             <span class="p">}</span>
             <span class="n">y</span> <span class="o">=</span> <span class="n">live</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">live</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">first</span><span class="p">;</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">ans</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">ans</span><span class="p">.</span><span class="n">back</span><span class="p">().</span><span class="n">second</span> <span class="o">!=</span> <span class="n">y</span><span class="p">)</span> <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">));</span>
         <span class="p">}</span>
         <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="s">'''
&gt;&gt;&gt; a = []
&gt;&gt;&gt; a.append((3, 5))
&gt;&gt;&gt; a.append((3, -5))
&gt;&gt;&gt; a.append((2, -10))
&gt;&gt;&gt; a.append((2, 10))
&gt;&gt;&gt; a
[(3, 5), (3, -5), (2, -10), (2, 10)]

&gt;&gt;&gt; a.sort()
&gt;&gt;&gt; a
[(2, -10), (2, 10), (3, -5), (3, 5)]



&gt;&gt;&gt; from queue import PriorityQueue
&gt;&gt;&gt; pq = PriorityQueue()
&gt;&gt;&gt;
&gt;&gt;&gt; pq.put([1,2,3])
&gt;&gt;&gt; pq.put([-10,20,30])
&gt;&gt;&gt; pq.put([11,22,33])
&gt;&gt;&gt;
&gt;&gt;&gt; pq
&lt;Queue.PriorityQueue instance at 0x10aec51b8&gt;
&gt;&gt;&gt; pq.queue[0][0]
-10
&gt;&gt;&gt; pq.get()
[-10, 20, 30]
&gt;&gt;&gt; pq.queue[0][0]
1
'''</span>

<span class="kn">from</span> <span class="nn">queue</span> <span class="kn">import</span> <span class="n">PriorityQueue</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">getSkyline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buildings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">ans</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">pq</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="n">PriorityQueue</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">build</span> <span class="ow">in</span> <span class="n">buildings</span><span class="p">:</span>
            <span class="n">lines</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span><span class="n">build</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">build</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
        <span class="n">lines</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">curbuilding</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buildings</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span> <span class="c1"># å¯¹äºæ¯ä¸ä¸ªè¾¹ççº¿ lines[i]ï¼æ¾åºææåå« lines[i] çå»ºç­ç©
</span>            <span class="k">while</span> <span class="n">curbuilding</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">buildings</span><span class="p">[</span><span class="n">curbuilding</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">pq</span><span class="p">.</span><span class="n">put</span><span class="p">([</span><span class="o">-</span><span class="n">buildings</span><span class="p">[</span><span class="n">curbuilding</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">buildings</span><span class="p">[</span><span class="n">curbuilding</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">buildings</span><span class="p">[</span><span class="n">curbuilding</span><span class="p">][</span><span class="mi">1</span><span class="p">]])</span> <span class="c1"># å»ºç­ç©çé«åº¦æå»ºä¼åéåï¼å¤§æ ¹å ï¼ï¼è¿éä¼åæ¬lineèªå·±çbuilding
</span>                <span class="n">curbuilding</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="n">pq</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="ow">and</span> <span class="n">pq</span><span class="p">.</span><span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">line</span><span class="p">:</span> <span class="c1"># higher at heap top after negated
</span>                <span class="n">pq</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="c1"># i.e. pop(), remove no-overlapping building
</span>            <span class="n">high</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># å»ºç­ç©çå·¦è¾¹çå°äºç­äº lines[i]ï¼å³è¾¹çå¤§äº lines[i]ï¼åè¿äºå»ºç­ç©ä¸­é«åº¦æé«çå»ºç­ç©çé«åº¦å°±æ¯è¯¥çº¿è½®å»ç¹çé«åº¦
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">pq</span><span class="p">.</span><span class="n">empty</span><span class="p">():</span>
                <span class="n">high</span> <span class="o">=</span> <span class="o">-</span><span class="n">pq</span><span class="p">.</span><span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">ans</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">high</span><span class="p">:</span> <span class="c1"># ç»¿è²å»ºç­çå·¦è¾¹çlineï¼å°±è¦è·³è¿
</span>                <span class="k">continue</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">line</span><span class="p">,</span> <span class="n">high</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">ans</span>

<span class="c1">############
</span>
<span class="s">'''
The solution uses a list called points to store the critical points and heights of the buildings. Each point is represented as a tuple (x, h), where x is the x-coordinate and h is the height. The points are sorted in ascending order based on the x-coordinate.

The solution also uses a heap to store the heights in descending order. The heap is initialized with a height of 0. For each point, if the height is negative, it means it is the start of a building, so the negative height is added to the heap. If the height is positive, it means it is the end of a building, so the corresponding negative height is removed from the heap.

After processing each point, the maximum height is obtained from the heap, and if it is different from the previous maximum height, the current point is added to the skyline.

Finally, the skyline is returned, excluding the initial point (0, 0) that was added as a starting point.

Note: The solution assumes that the input buildings is a list of tuples (left, right, height), where left and right represent the x-coordinates of the building's left and right edges, and height represents the height of the building.
'''</span>

<span class="kn">import</span> <span class="nn">heapq</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">getSkyline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buildings</span><span class="p">):</span>
        <span class="c1"># Create a list to store the critical points and heights
</span>        <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">height</span> <span class="ow">in</span> <span class="n">buildings</span><span class="p">:</span>
            <span class="n">points</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="o">-</span><span class="n">height</span><span class="p">))</span>  <span class="c1"># Start of building, negative height
</span>            <span class="n">points</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">right</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>  <span class="c1"># End of building, positive height
</span>
        <span class="c1"># Sort the points in ascending order based on x-coordinate
</span>        <span class="c1"># If two points have the same x-coordinate, the one with larger height comes first
</span>        <span class="n">points</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>

        <span class="c1"># Create a heap to store the heights in descending order
</span>        <span class="n">heights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Initialize the heap with a height of 0
</span>        <span class="n">skyline</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>  <span class="c1"># Initialize the skyline with a point (0, 0)
</span>
        <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">points</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">h</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">heights</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>  <span class="c1"># Add the negative height to the heap
</span>            <span class="k">else</span><span class="p">:</span>
                <span class="n">heights</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="o">-</span><span class="n">h</span><span class="p">)</span>  <span class="c1"># Remove the corresponding negative height from the heap
</span>                <span class="n">heapq</span><span class="p">.</span><span class="n">heapify</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>  <span class="c1"># Reorganize the heap
</span>
            <span class="c1"># The current maximum height is the first element in the heap
</span>            <span class="n">max_height</span> <span class="o">=</span> <span class="o">-</span><span class="n">heights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># If the maximum height has changed, add the current point to the skyline
</span>            <span class="k">if</span> <span class="n">max_height</span> <span class="o">!=</span> <span class="n">skyline</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">skyline</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">max_height</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">skyline</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># Exclude the initial point (0, 0)
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">Matrix</span> <span class="k">struct</span><span class="p">{</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">height</span> <span class="kt">int</span> <span class="p">}</span>
<span class="k">type</span> <span class="n">Queue</span> <span class="p">[]</span><span class="n">Matrix</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Queue</span><span class="p">)</span> <span class="n">Len</span><span class="p">()</span> <span class="kt">int</span>            <span class="p">{</span> <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Queue</span><span class="p">)</span> <span class="n">Top</span><span class="p">()</span> <span class="n">Matrix</span>         <span class="p">{</span> <span class="k">return</span> <span class="n">q</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Queue</span><span class="p">)</span> <span class="n">Swap</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="kt">int</span><span class="p">)</span>       <span class="p">{</span> <span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Queue</span><span class="p">)</span> <span class="n">Less</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span>  <span class="p">{</span> <span class="k">return</span> <span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">height</span> <span class="o">&gt;</span> <span class="n">q</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">height</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="o">*</span><span class="n">Queue</span><span class="p">)</span> <span class="n">Push</span><span class="p">(</span><span class="n">x</span> <span class="k">interface</span><span class="p">{})</span> <span class="p">{</span> <span class="o">*</span><span class="n">q</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="o">*</span><span class="n">q</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="p">(</span><span class="n">Matrix</span><span class="p">))</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="o">*</span><span class="n">Queue</span><span class="p">)</span> <span class="n">Pop</span><span class="p">()</span> <span class="k">interface</span><span class="p">{}</span> <span class="p">{</span>
	<span class="n">old</span><span class="p">,</span> <span class="n">x</span> <span class="o">:=</span> <span class="o">*</span><span class="n">q</span><span class="p">,</span> <span class="p">(</span><span class="o">*</span><span class="n">q</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="o">*</span><span class="n">q</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="o">*</span><span class="n">q</span> <span class="o">=</span> <span class="n">old</span><span class="p">[</span><span class="o">:</span><span class="nb">len</span><span class="p">(</span><span class="n">old</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">x</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">getSkyline</span><span class="p">(</span><span class="n">buildings</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="p">[][]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="n">skys</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">pq</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][]</span><span class="kt">int</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">Queue</span><span class="p">{}</span>
	<span class="n">heap</span><span class="o">.</span><span class="n">Init</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">buildings</span> <span class="p">{</span>
		<span class="n">lines</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="m">1</span><span class="p">])</span>
	<span class="p">}</span>
	<span class="n">sort</span><span class="o">.</span><span class="n">Ints</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
	<span class="n">city</span><span class="p">,</span> <span class="n">n</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buildings</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">line</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">lines</span> <span class="p">{</span>
		<span class="c">// å°ææç¬¦åæ¡ä»¶çç©å½¢å å¥éå</span>
		<span class="k">for</span> <span class="p">;</span> <span class="n">city</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="m">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">line</span> <span class="o">&amp;&amp;</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="m">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">line</span><span class="p">;</span> <span class="n">city</span><span class="o">++</span> <span class="p">{</span>
			<span class="n">v</span> <span class="o">:=</span> <span class="n">Matrix</span><span class="p">{</span><span class="n">left</span><span class="o">:</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="m">0</span><span class="p">],</span> <span class="n">right</span><span class="o">:</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="m">1</span><span class="p">],</span> <span class="n">height</span><span class="o">:</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="m">2</span><span class="p">]}</span>
			<span class="n">heap</span><span class="o">.</span><span class="n">Push</span><span class="p">(</span><span class="n">pq</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
		<span class="p">}</span>
		<span class="c">// ä»éåç§»é¤ä¸ç¬¦åæ¡ä»¶çç©å½¢</span>
		<span class="k">for</span> <span class="n">pq</span><span class="o">.</span><span class="n">Len</span><span class="p">()</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">pq</span><span class="o">.</span><span class="n">Top</span><span class="p">()</span><span class="o">.</span><span class="n">right</span> <span class="o">&lt;=</span> <span class="n">line</span> <span class="p">{</span>
			<span class="n">heap</span><span class="o">.</span><span class="n">Pop</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span>
		<span class="p">}</span>
		<span class="n">high</span> <span class="o">:=</span> <span class="m">0</span>
		<span class="c">// éåä¸ºç©ºè¯´ææ¯æå³ä¾§å»ºç­ç©çç»ç¹ï¼å¶è½®å»ç¹ä¸º (line, 0)</span>
		<span class="k">if</span> <span class="n">pq</span><span class="o">.</span><span class="n">Len</span><span class="p">()</span> <span class="o">!=</span> <span class="m">0</span> <span class="p">{</span>
			<span class="n">high</span> <span class="o">=</span> <span class="n">pq</span><span class="o">.</span><span class="n">Top</span><span class="p">()</span><span class="o">.</span><span class="n">height</span>
		<span class="p">}</span>
		<span class="c">// å¦æè¯¥ç¹é«åº¦ååä¸ä¸ªè½®å»ç¹ä¸æ ·çè¯ï¼ç´æ¥å¿½ç¥</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">skys</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">skys</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">skys</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">][</span><span class="m">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">high</span> <span class="p">{</span>
			<span class="k">continue</span>
		<span class="p">}</span>
		<span class="n">skys</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">skys</span><span class="p">,</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="n">line</span><span class="p">,</span> <span class="n">high</span><span class="p">})</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">skys</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">get_skyline</span><span class="p">(</span><span class="n">buildings</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">skys</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;&gt;</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[];</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">lines</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[];</span>
        <span class="k">for</span> <span class="n">building</span> <span class="k">in</span> <span class="n">buildings</span><span class="nf">.iter</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">lines</span><span class="nf">.push</span><span class="p">(</span><span class="n">building</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="n">lines</span><span class="nf">.push</span><span class="p">(</span><span class="n">building</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="n">lines</span><span class="nf">.sort_unstable</span><span class="p">();</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">pq</span> <span class="o">=</span> <span class="nn">std</span><span class="p">::</span><span class="nn">collections</span><span class="p">::</span><span class="nn">BinaryHeap</span><span class="p">::</span><span class="nf">new</span><span class="p">();</span>
        <span class="k">let</span> <span class="p">(</span><span class="k">mut</span> <span class="n">city</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">buildings</span><span class="nf">.len</span><span class="p">());</span>

        <span class="k">for</span> <span class="n">line</span> <span class="k">in</span> <span class="n">lines</span> <span class="p">{</span>
            <span class="k">while</span> <span class="n">city</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">line</span> <span class="o">&amp;&amp;</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">line</span> <span class="p">{</span>
                <span class="n">pq</span><span class="nf">.push</span><span class="p">((</span><span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">buildings</span><span class="p">[</span><span class="n">city</span><span class="p">][</span><span class="mi">1</span><span class="p">]));</span>
                <span class="n">city</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">while</span> <span class="o">!</span><span class="n">pq</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">pq</span><span class="nf">.peek</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="na">.1</span> <span class="o">&lt;=</span> <span class="n">line</span> <span class="p">{</span>
                <span class="n">pq</span><span class="nf">.pop</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">let</span> <span class="k">mut</span> <span class="n">high</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">if</span> <span class="o">!</span><span class="n">pq</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">high</span> <span class="o">=</span> <span class="n">pq</span><span class="nf">.peek</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="na">.0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="o">!</span><span class="n">skys</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">skys</span><span class="nf">.last</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">high</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">skys</span><span class="nf">.push</span><span class="p">(</span><span class="nd">vec!</span><span class="p">[</span><span class="n">line</span><span class="p">,</span> <span class="n">high</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="n">skys</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-218.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
