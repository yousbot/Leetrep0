<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-214.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-214.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>214 - Shortest Palindrome</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Question Formatted question description: https://leetcode.ca/all/214.html You are given a string s. You can convert s to a palindrome by adding characters in front of it. Return the shortest palindrome you can find by performing this transformation. &amp;nbsp; Example 1: Input: s = &quot;aacecaaa&quot; Output: &quot;aaacecaaa&quot;...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-214.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-214.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-214.html" rel="stylesheet"/>
   <link href="solution-214.html" rel="stylesheet"/>
   <link href="solution-214.html" rel="stylesheet"/>
   <link href="solution-214.html" rel="stylesheet"/>
   <link href="solution-214.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="214 - Shortest Palindrome" property="og:title"/>
   <meta content='Leetcode Question Formatted question description: https://leetcode.ca/all/214.html You are given a string s. You can convert s to a palindrome by adding characters in front of it. Return the shortest palindrome you can find by performing this transformation. &amp;nbsp; Example 1: Input: s = "aacecaaa" Output: "aaacecaaa" Example 2: Input: s = "abcd" Output: "dcbabcd" &amp;nbsp; Constraints: 0 &amp;lt;= s.length &amp;lt;= 5 * 104 s consists of lowercase English letters only. Algorithm In the worst-case scenario, where there are no identical characters in the string s, the minimum number of characters required to be added is s.size() - 1. In the first example, the string contains a palindrome. To form a complete palindrome, only one character needs to be added to the front. To solve this, first reverse the string s to obtain t. Then, compare the original string s with the reversed string t, starting from the first character and proceeding one character at a time: If they are equal, it indicates that s is already a palindrome. No additional characters need to be added, and the function can return immediately. If they are not equal, remove the last character from s, remove the first character from t, and continue comparing. This process repeats until the strings are equal or the loop concludes. This method ensures that the two strings are concatenated in the correct manner to form a palindrome. Examples: Worst Case: âabcdaâ+âadcbaâ Reversed: a b c d a s: a d c b a Try to move both towards the center to find a possible overlap. By removing one character, we save an âaâ. Reversed: a b c d a s: a d c b a Move further, âdaâ and âadâ overlap, and the remaining part, âabcâ vs âcbaâ, forms a palindrome. Reversed: a b c d a s: a d c b a Therefore, âdaâ and âadâ go to the next recursion. Reversed: d a s: a d Moving one more character aligns the strings perfectly, yielding the final result. âabcâ+dfs()+âcbaâ =&amp;gt; âabcâ+âdadâ+âcbaâ Reversed: d a s: a d Another Example: âaacecaaaâ The iteration stops at the last âaâ, i=7. "a"+dfs("aacecaa")+"a" This approach strategically reduces the problem size by identifying overlapping parts between the original and reversed strings, effectively minimizing the number of characters needed to transform the input into a palindrome. Code Java C++ Python Go C# RenderScript public class Shortest_Palindrome { public class Solution { public String shortestPalindrome(String s) { if (s == null || s.length() == 0) { return ""; } int i = 0, n = s.length(); for (int j = n - 1; j &amp;gt;= 0; --j) { // @note: j will cross i, eg. making i=2 for "adcba" if (s.charAt(i) == s.charAt(j)) { ++i; } } // now [0, i) is a possible palindrome, but need extra check if (i == n) { return s; } String remaining = s.substring(i); // need to add reverse part of it String rem_rev = new StringBuilder(remaining).reverse().toString(); return rem_rev + shortestPalindrome(s.substring(0,...' property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-07-01T22:21:01-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-07-01-214-Shortest-Palindrome/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-214.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="214 - Shortest Palindrome" property="twitter:title"/>
   <meta content='Leetcode Question Formatted question description: https://leetcode.ca/all/214.html You are given a string s. You can convert s to a palindrome by adding characters in front of it. Return the shortest palindrome you can find by performing this transformation. &amp;nbsp; Example 1: Input: s = "aacecaaa" Output: "aaacecaaa" Example 2: Input: s = "abcd" Output: "dcbabcd" &amp;nbsp; Constraints: 0 &amp;lt;= s.length &amp;lt;= 5 * 104 s consists of lowercase English letters only. Algorithm In the worst-case scenario, where there are no identical characters in the string s, the minimum number of characters required to be added is s.size() - 1. In the first example, the string contains a palindrome. To form a complete palindrome, only one character needs to be added to the front. To solve this, first reverse the string s to obtain t. Then, compare the original string s with the reversed string t, starting from the first character and proceeding one character at a time: If they are equal, it indicates that s is already a palindrome. No additional characters need to be added, and the function can return immediately. If they are not equal, remove the last character from s, remove the first character from t, and continue comparing. This process repeats until the strings are equal or the loop concludes. This method ensures that the two strings are concatenated in the correct manner to form a palindrome. Examples: Worst Case: âabcdaâ+âadcbaâ Reversed: a b c d a s: a d c b a Try to move both towards the center to find a possible overlap. By removing one character, we save an âaâ. Reversed: a b c d a s: a d c b a Move further, âdaâ and âadâ overlap, and the remaining part, âabcâ vs âcbaâ, forms a palindrome. Reversed: a b c d a s: a d c b a Therefore, âdaâ and âadâ go to the next recursion. Reversed: d a s: a d Moving one more character aligns the strings perfectly, yielding the final result. âabcâ+dfs()+âcbaâ =&amp;gt; âabcâ+âdadâ+âcbaâ Reversed: d a s: a d Another Example: âaacecaaaâ The iteration stops at the last âaâ, i=7. "a"+dfs("aacecaa")+"a" This approach strategically reduces the problem size by identifying overlapping parts between the original and reversed strings, effectively minimizing the number of characters needed to transform the input into a palindrome. Code Java C++ Python Go C# RenderScript public class Shortest_Palindrome { public class Solution { public String shortestPalindrome(String s) { if (s == null || s.length() == 0) { return ""; } int i = 0, n = s.length(); for (int j = n - 1; j &amp;gt;= 0; --j) { // @note: j will cross i, eg. making i=2 for "adcba" if (s.charAt(i) == s.charAt(j)) { ++i; } } // now [0, i) is a possible palindrome, but need extra check if (i == n) { return s; } String remaining = s.substring(i); // need to add reverse part of it String rem_rev = new StringBuilder(remaining).reverse().toString(); return rem_rev + shortestPalindrome(s.substring(0,...' property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    214 - Shortest Palindrome | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="214 - Shortest Palindrome" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-214.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-07-01-214-Shortest-Palindrome/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-07-01T22:21:01-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"214 - Shortest Palindrome","dateModified":"2016-07-01T22:21:01-07:00","datePublished":"2016-07-01T22:21:01-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-07-01-214-Shortest-Palindrome/"},"url":"https://leetcode.ca/2016-07-01-214-Shortest-Palindrome/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="question">
       Question
      </h1>
      <p>
       Formatted question description:
       <a href="solution-214.html">
        https://leetcode.ca/all/214.html
       </a>
      </p>
      <p>
       You are given a string
       <code>
        s
       </code>
       . You can convert
       <code>
        s
       </code>
       to a
       <span data-keyword="palindrome-string">
        palindrome
       </span>
       by adding characters in front of it.
      </p>
      <p>
       Return
       <em>
        the shortest palindrome you can find by performing this transformation
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre><strong>Input:</strong> s = "aacecaaa"
<strong>Output:</strong> "aaacecaaa"
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre><strong>Input:</strong> s = "abcd"
<strong>Output:</strong> "dcbabcd"
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         0 &lt;= s.length &lt;= 5 * 10
         <sup>
          4
         </sup>
        </code>
       </li>
       <li>
        <code>
         s
        </code>
        consists of lowercase English letters only.
       </li>
      </ul>
      <h1 id="algorithm">
       Algorithm
      </h1>
      <ul>
       <li>
        In the worst-case scenario, where there are no identical characters in the string
        <code class="language-plaintext highlighter-rouge">
         s
        </code>
        , the minimum number of characters required to be added is
        <code class="language-plaintext highlighter-rouge">
         s.size() - 1
        </code>
        .
       </li>
       <li>
        In the first example, the string contains a palindrome. To form a complete palindrome, only one character needs to be added to the front.
       </li>
      </ul>
      <p>
       To solve this, first reverse the string
       <code class="language-plaintext highlighter-rouge">
        s
       </code>
       to obtain
       <code class="language-plaintext highlighter-rouge">
        t
       </code>
       . Then, compare the original string
       <code class="language-plaintext highlighter-rouge">
        s
       </code>
       with the reversed string
       <code class="language-plaintext highlighter-rouge">
        t
       </code>
       , starting from the first character and proceeding one character at a time:
      </p>
      <ul>
       <li>
        If they are equal, it indicates that
        <code class="language-plaintext highlighter-rouge">
         s
        </code>
        is already a palindrome. No additional characters need to be added, and the function can return immediately.
       </li>
       <li>
        If they are not equal, remove the last character from
        <code class="language-plaintext highlighter-rouge">
         s
        </code>
        , remove the first character from
        <code class="language-plaintext highlighter-rouge">
         t
        </code>
        , and continue comparing. This process repeats until the strings are equal or the loop concludes.
       </li>
      </ul>
      <p>
       This method ensures that the two strings are concatenated in the correct manner to form a palindrome.
      </p>
      <h3 id="examples">
       Examples:
      </h3>
      <p>
       <strong>
        Worst Case
       </strong>
       : âabcdaâ+âadcbaâ
      </p>
      <div class="language-plaintext highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code>Reversed:  a b c d a
s:                   a d c b a
</code></pre>
       </div>
      </div>
      <p>
       Try to move both towards the center to find a possible overlap. By removing one character, we save an âaâ.
      </p>
      <div class="language-plaintext highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code>Reversed:  a b c d a
s:                 a d c b a
</code></pre>
       </div>
      </div>
      <p>
       Move further, âdaâ and âadâ overlap, and the remaining part, âabcâ vs âcbaâ, forms a palindrome.
      </p>
      <div class="language-plaintext highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code>Reversed:  a b c d a
s:               a d c b a
</code></pre>
       </div>
      </div>
      <p>
       Therefore, âdaâ and âadâ go to the next recursion.
      </p>
      <div class="language-plaintext highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code>Reversed:  d a
s:             a d
</code></pre>
       </div>
      </div>
      <p>
       Moving one more character aligns the strings perfectly, yielding the final result.
      </p>
      <ul>
       <li>
        âabcâ+dfs()+âcbaâ =&gt; âabcâ+âdadâ+âcbaâ
        <div class="language-plaintext highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code>Reversed:  d a
s:           a d
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      <p>
       <strong>
        Another Example
       </strong>
       : âaacecaaaâ
      </p>
      <ul>
       <li>
        The iteration stops at the last âaâ,
        <code class="language-plaintext highlighter-rouge">
         i=7
        </code>
        .
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         "a"+dfs("aacecaa")+"a"
        </code>
       </li>
      </ul>
      <p>
       This approach strategically reduces the problem size by identifying overlapping parts between the original and reversed strings, effectively minimizing the number of characters needed to transform the input into a palindrome.
      </p>
      <h1 id="code">
       Code
      </h1>
      <ul class="uk-tab" data-uk-switcher="{connect:'#14c214cc-bf84-4610-aa73-7fc827277915'}">
       <li class="uk-active">
        <a href="solution-214.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-214.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-214.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-214.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-214.html">
         C#
        </a>
       </li>
       <li>
        <a href="solution-214.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="14c214cc-bf84-4610-aa73-7fc827277915">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Shortest_Palindrome</span> <span class="o">{</span>


    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">shortestPalindrome</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">s</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="s">""</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">j</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// @note: j will cross i, eg. making i=2 for "adcba"</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">))</span> <span class="o">{</span>
                    <span class="o">++</span><span class="n">i</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="c1">// now [0, i) is a possible palindrome, but need extra check</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="nc">String</span> <span class="n">remaining</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">);</span> <span class="c1">// need to add reverse part of it</span>
            <span class="nc">String</span> <span class="n">rem_rev</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="n">remaining</span><span class="o">).</span><span class="na">reverse</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
            <span class="k">return</span> <span class="n">rem_rev</span> <span class="o">+</span> <span class="n">shortestPalindrome</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">i</span><span class="o">))</span> <span class="o">+</span> <span class="n">remaining</span><span class="o">;</span>

        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="err">############</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">shortestPalindrome</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">base</span> <span class="o">=</span> <span class="mi">131</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">mul</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">mod</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="mi">1</span><span class="n">e9</span> <span class="o">+</span> <span class="mi">7</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">prefix</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">suffix</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'a'</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(((</span><span class="kt">long</span><span class="o">)</span> <span class="n">prefix</span> <span class="o">*</span> <span class="n">base</span> <span class="o">+</span> <span class="n">t</span><span class="o">)</span> <span class="o">%</span> <span class="n">mod</span><span class="o">);</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">((</span><span class="n">suffix</span> <span class="o">+</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span> <span class="n">t</span> <span class="o">*</span> <span class="n">mul</span><span class="o">)</span> <span class="o">%</span> <span class="n">mod</span><span class="o">);</span>
            <span class="n">mul</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(((</span><span class="kt">long</span><span class="o">)</span> <span class="n">mul</span> <span class="o">*</span> <span class="n">base</span><span class="o">)</span> <span class="o">%</span> <span class="n">mod</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">prefix</span> <span class="o">==</span> <span class="n">suffix</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">idx</span> <span class="o">==</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">idx</span><span class="o">)).</span><span class="na">reverse</span><span class="o">().</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/shortest-palindrome/</span>
<span class="c1">// Time: O(N)</span>
<span class="c1">// Space: O(1) ignoring the space taken by the answer</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">string</span> <span class="n">shortestPalindrome</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">unsigned</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">16777619</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rh</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">maxLen</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="n">d</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'a'</span><span class="p">;</span>
            <span class="n">rh</span> <span class="o">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'a'</span><span class="p">)</span> <span class="o">*</span> <span class="n">p</span><span class="p">;</span>
            <span class="n">p</span> <span class="o">*=</span> <span class="n">d</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="o">==</span> <span class="n">rh</span><span class="p">)</span> <span class="n">maxLen</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">string</span><span class="p">(</span><span class="n">rbegin</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">rbegin</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">+</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="n">maxLen</span><span class="p">)</span> <span class="o">+</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="s">'''
reversed(): returns a reverse iterator

&gt;&gt;&gt; s = "aabbcc"
&gt;&gt;&gt; reversed(s)
&lt;reversed object at 0x108384a60&gt;
&gt;&gt;&gt; ''.join(reversed(s))
'ccbbaa'


&gt;&gt;&gt; s = "aabbcc"
&gt;&gt;&gt; s[::-1]
'ccbbaa'
'''</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">shortestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">""</span>

        <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">s</span>

        <span class="n">remaining</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span>
        <span class="n">rem_rev</span> <span class="o">=</span> <span class="n">remaining</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">rem_rev</span> <span class="o">+</span> <span class="bp">self</span><span class="p">.</span><span class="n">shortestPalindrome</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="n">remaining</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">shortestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">base</span> <span class="o">=</span> <span class="mi">131</span>
        <span class="n">mod</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">7</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">suffix</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">mul</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="p">(</span><span class="n">prefix</span> <span class="o">*</span> <span class="n">base</span> <span class="o">+</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">%</span> <span class="n">mod</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">+</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">mul</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
            <span class="n">mul</span> <span class="o">=</span> <span class="p">(</span><span class="n">mul</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
            <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="n">suffix</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">s</span> <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">n</span> <span class="k">else</span> <span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">:][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="c1"># brutal force TLE
</span>  <span class="k">def</span> <span class="nf">_shortestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
    <span class="s">"""
    :type s: str
    :rtype: str
    """</span>

    <span class="k">def</span> <span class="nf">isPal</span><span class="p">(</span><span class="n">cand</span><span class="p">):</span>
      <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
      <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cand</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="n">cand</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>
          <span class="k">return</span> <span class="bp">False</span>
        <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">end</span> <span class="o">-=</span> <span class="mi">1</span>
      <span class="k">return</span> <span class="bp">True</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span>
    <span class="n">ansLen</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)):</span>
      <span class="n">newPal</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span>
      <span class="k">if</span> <span class="n">isPal</span><span class="p">(</span><span class="n">newPal</span><span class="p">)</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ansLen</span><span class="p">:</span>
        <span class="n">ansLen</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="n">newPal</span>
    <span class="k">return</span> <span class="n">ans</span>

  <span class="k">def</span> <span class="nf">shortestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">s</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">:]):</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">shortestPalindrome</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
	<span class="n">base</span><span class="p">,</span> <span class="n">mod</span> <span class="o">:=</span> <span class="m">131</span><span class="p">,</span> <span class="kt">int</span><span class="p">(</span><span class="m">1e9</span><span class="p">)</span><span class="o">+</span><span class="m">7</span>
	<span class="n">prefix</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">mul</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span>
	<span class="n">idx</span> <span class="o">:=</span> <span class="m">0</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">s</span> <span class="p">{</span>
		<span class="n">t</span> <span class="o">:=</span> <span class="kt">int</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">'a'</span><span class="p">)</span> <span class="o">+</span> <span class="m">1</span>
		<span class="n">prefix</span> <span class="o">=</span> <span class="p">(</span><span class="n">prefix</span><span class="o">*</span><span class="n">base</span> <span class="o">+</span> <span class="n">t</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
		<span class="n">suffix</span> <span class="o">=</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">+</span> <span class="n">t</span><span class="o">*</span><span class="n">mul</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
		<span class="n">mul</span> <span class="o">=</span> <span class="p">(</span><span class="n">mul</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
		<span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="n">suffix</span> <span class="p">{</span>
			<span class="n">idx</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="m">1</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">n</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">s</span>
	<span class="p">}</span>
	<span class="n">x</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="o">:</span><span class="p">])</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="m">1</span> <span class="p">{</span>
		<span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="kt">string</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">s</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// https://leetcode.com/problems/shortest-palindrome/</span>

<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">Solution</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">ShortestPalindrome</span><span class="p">(</span><span class="kt">string</span> <span class="n">s</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="n">s</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">;</span> <span class="p">--</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">k</span> <span class="p">=</span> <span class="n">i</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">j</span> <span class="p">&lt;</span> <span class="n">k</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">==</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
                <span class="p">{</span>
                    <span class="p">++</span><span class="n">j</span><span class="p">;</span>
                    <span class="p">--</span><span class="n">k</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="p">&gt;=</span> <span class="n">k</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">var</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">Length</span> <span class="p">*</span> <span class="m">2</span> <span class="p">-</span> <span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">);</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">l</span> <span class="p">=</span> <span class="n">s</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">l</span> <span class="p">&gt;=</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="p">--</span><span class="n">l</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">l</span><span class="p">]);</span>
                <span class="p">}</span>
                <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">shortest_palindrome</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">let</span> <span class="n">base</span> <span class="o">=</span> <span class="mi">131</span><span class="p">;</span>
        <span class="k">let</span> <span class="p">(</span><span class="k">mut</span> <span class="n">idx</span><span class="p">,</span> <span class="k">mut</span> <span class="n">prefix</span><span class="p">,</span> <span class="k">mut</span> <span class="n">suffix</span><span class="p">,</span> <span class="k">mut</span> <span class="n">mul</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">in</span> <span class="n">s</span><span class="nf">.chars</span><span class="p">()</span><span class="nf">.enumerate</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">let</span> <span class="n">t</span> <span class="o">=</span> <span class="n">c</span> <span class="k">as</span> <span class="nb">u64</span> <span class="o">-</span> <span class="sc">'0'</span> <span class="k">as</span> <span class="nb">u64</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">*</span> <span class="n">base</span> <span class="o">+</span> <span class="n">t</span><span class="p">;</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="n">suffix</span> <span class="o">+</span> <span class="n">t</span> <span class="o">*</span> <span class="n">mul</span><span class="p">;</span>
            <span class="n">mul</span> <span class="o">*=</span> <span class="n">base</span><span class="p">;</span>
            <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="n">suffix</span> <span class="p">{</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">s</span><span class="nf">.len</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">s</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">let</span> <span class="n">x</span><span class="p">:</span> <span class="nb">String</span> <span class="o">=</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="o">..</span><span class="p">])</span><span class="nf">.chars</span><span class="p">()</span><span class="nf">.rev</span><span class="p">()</span><span class="nf">.collect</span><span class="p">();</span>
            <span class="nn">String</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-214.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
