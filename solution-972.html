<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-972.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-972.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>972 - Equal Rational Numbers</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Formatted question description: https://leetcode.ca/all/972.html 972. Equal Rational Numbers Level Hard Description Given two strings S and T, each of which represents a non-negative rational number, return True if and only if they represent the same number. The strings may use parentheses to denote the repeating...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-972.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-972.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-972.html" rel="stylesheet"/>
   <link href="solution-972.html" rel="stylesheet"/>
   <link href="solution-972.html" rel="stylesheet"/>
   <link href="solution-972.html" rel="stylesheet"/>
   <link href="solution-972.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="972 - Equal Rational Numbers" property="og:title"/>
   <meta content="Leetcode Formatted question description: https://leetcode.ca/all/972.html 972. Equal Rational Numbers Level Hard Description Given two strings S and T, each of which represents a non-negative rational number, return True if and only if they represent the same number. The strings may use parentheses to denote the repeating part of the rational number. In general a rational number can be represented using up to three parts: an integer part, a non-repeating part, and a repeating part. The number will be represented in one of the following three ways: &amp;lt;IntegerPart&amp;gt; (e.g. 0, 12, 123) &amp;lt;IntegerPart&amp;gt;&amp;lt;.&amp;gt;&amp;lt;NonRepeatingPart&amp;gt; (e.g. 0.5, 1., 2.12, 2.0001) &amp;lt;IntegerPart&amp;gt;&amp;lt;.&amp;gt;&amp;lt;NonRepeatingPart&amp;gt;&amp;lt;(&amp;gt;&amp;lt;RepeatingPart&amp;gt;&amp;lt;)&amp;gt; (e.g. 0.1(6), 0.9(9), 0.00(1212)) The repeating portion of a decimal expansion is conventionally denoted within a pair of round brackets. For example: 1 / 6 = 0.16666666â¦ = 0.1(6) = 0.1666(6) = 0.166(66) Both 0.1(6) or 0.1666(6) or 0.166(66) are correct representations of 1 / 6. Example 1: Input: S = â0.(52)â, T = â0.5(25)â Output: true Explanation: Because â0.(52)â represents 0.52525252â¦, and â0.5(25)â represents 0.52525252525â¦.. , the strings represent the same number. Example 2: Input: S = â0.1666(6)â, T = â0.166(66)â Output: true Example 3: Input: S = â0.9(9)â, T = â1.â Output: true Explanation: â0.9(9)â represents 0.999999999â¦ repeated forever, which equals 1. [See this link for an explanation.] â1.â represents the number 1, which is formed correctly: (IntegerPart) = â1â and (NonRepeatingPart) = ââ. Note: Each part consists only of digits. The &amp;lt;IntegerPart&amp;gt; will not begin with 2 or more zeros. (There is no other restriction on the digits of each part.) 1 &amp;lt;= &amp;lt;IntegerPart&amp;gt;.length &amp;lt;= 4 0 &amp;lt;= &amp;lt;NonRepeatingPart&amp;gt;.length &amp;lt;= 4 1 &amp;lt;= &amp;lt;RepeatingPart&amp;gt;.length &amp;lt;= 4 Solution For both strings S and T, convert each number into a rational number, which contains a numerator and a denominator. To convert a string to a rational number, consider the following cases. The string only contains the integer part. If the decimal point exists, remove the decimal point. Set the numerator to be the integer part and the denominator to be 1. For example, 12 is represented as 12/1. The string represents a decimal with no repeating parts. For example, 2.12 has an integer part 2 and a decimal part 0.12. The decimal part can be represented as 12/100, and the result of fraction reduction is 3/25. Adding the integer part to the rational number and the result is 53/25. The string represents a repeating decimal. Consider the following two cases. 3.1. Only the repeating part exists. For example, 1.(142857) has an integer part 1 and a decimal part 0.(142857), The decimal part can be represented as 142857/999999, and the result of fraction reduction is 1/7. Adding the integer part to the rational number and the result is 8/7. 3.2 Both the non-repeating part and the repeating part exist. For example, 3.1(3) has an integer part 3 and a decimal part 0.1(3). The decimal part can be represented by (13-1)/90 = 12/90, and the result of fraction reduction is 2/15. Adding the integer part to the rational number..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2018-07-29T22:21:01-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2018-07-29-972-Equal-Rational-Numbers/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-972.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="972 - Equal Rational Numbers" property="twitter:title"/>
   <meta content="Leetcode Formatted question description: https://leetcode.ca/all/972.html 972. Equal Rational Numbers Level Hard Description Given two strings S and T, each of which represents a non-negative rational number, return True if and only if they represent the same number. The strings may use parentheses to denote the repeating part of the rational number. In general a rational number can be represented using up to three parts: an integer part, a non-repeating part, and a repeating part. The number will be represented in one of the following three ways: &amp;lt;IntegerPart&amp;gt; (e.g. 0, 12, 123) &amp;lt;IntegerPart&amp;gt;&amp;lt;.&amp;gt;&amp;lt;NonRepeatingPart&amp;gt; (e.g. 0.5, 1., 2.12, 2.0001) &amp;lt;IntegerPart&amp;gt;&amp;lt;.&amp;gt;&amp;lt;NonRepeatingPart&amp;gt;&amp;lt;(&amp;gt;&amp;lt;RepeatingPart&amp;gt;&amp;lt;)&amp;gt; (e.g. 0.1(6), 0.9(9), 0.00(1212)) The repeating portion of a decimal expansion is conventionally denoted within a pair of round brackets. For example: 1 / 6 = 0.16666666â¦ = 0.1(6) = 0.1666(6) = 0.166(66) Both 0.1(6) or 0.1666(6) or 0.166(66) are correct representations of 1 / 6. Example 1: Input: S = â0.(52)â, T = â0.5(25)â Output: true Explanation: Because â0.(52)â represents 0.52525252â¦, and â0.5(25)â represents 0.52525252525â¦.. , the strings represent the same number. Example 2: Input: S = â0.1666(6)â, T = â0.166(66)â Output: true Example 3: Input: S = â0.9(9)â, T = â1.â Output: true Explanation: â0.9(9)â represents 0.999999999â¦ repeated forever, which equals 1. [See this link for an explanation.] â1.â represents the number 1, which is formed correctly: (IntegerPart) = â1â and (NonRepeatingPart) = ââ. Note: Each part consists only of digits. The &amp;lt;IntegerPart&amp;gt; will not begin with 2 or more zeros. (There is no other restriction on the digits of each part.) 1 &amp;lt;= &amp;lt;IntegerPart&amp;gt;.length &amp;lt;= 4 0 &amp;lt;= &amp;lt;NonRepeatingPart&amp;gt;.length &amp;lt;= 4 1 &amp;lt;= &amp;lt;RepeatingPart&amp;gt;.length &amp;lt;= 4 Solution For both strings S and T, convert each number into a rational number, which contains a numerator and a denominator. To convert a string to a rational number, consider the following cases. The string only contains the integer part. If the decimal point exists, remove the decimal point. Set the numerator to be the integer part and the denominator to be 1. For example, 12 is represented as 12/1. The string represents a decimal with no repeating parts. For example, 2.12 has an integer part 2 and a decimal part 0.12. The decimal part can be represented as 12/100, and the result of fraction reduction is 3/25. Adding the integer part to the rational number and the result is 53/25. The string represents a repeating decimal. Consider the following two cases. 3.1. Only the repeating part exists. For example, 1.(142857) has an integer part 1 and a decimal part 0.(142857), The decimal part can be represented as 142857/999999, and the result of fraction reduction is 1/7. Adding the integer part to the rational number and the result is 8/7. 3.2 Both the non-repeating part and the repeating part exist. For example, 3.1(3) has an integer part 3 and a decimal part 0.1(3). The decimal part can be represented by (13-1)/90 = 12/90, and the result of fraction reduction is 2/15. Adding the integer part to the rational number..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    972 - Equal Rational Numbers | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="972 - Equal Rational Numbers" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-972.html" rel="canonical">
          <meta content="https://leetcode.ca/2018-07-29-972-Equal-Rational-Numbers/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2018-07-29T22:21:01-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"972 - Equal Rational Numbers","dateModified":"2018-07-29T22:21:01-07:00","datePublished":"2018-07-29T22:21:01-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2018-07-29-972-Equal-Rational-Numbers/"},"url":"https://leetcode.ca/2018-07-29-972-Equal-Rational-Numbers/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <p>
       Formatted question description:
       <a href="solution-972.html">
        https://leetcode.ca/all/972.html
       </a>
      </p>
      <h1 id="972-equal-rational-numbers">
       972. Equal Rational Numbers
      </h1>
      <h2 id="level">
       Level
      </h2>
      <p>
       Hard
      </p>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given two strings
       <code class="language-plaintext highlighter-rouge">
        S
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        T
       </code>
       , each of which represents a non-negative rational number, return
       <strong>
        True
       </strong>
       if and only if they represent the same number. The strings may use parentheses to denote the repeating part of the rational number.
      </p>
      <p>
       In general a rational number can be represented using up to three parts: an
       <em>
        integer part
       </em>
       , a
       <em>
        non-repeating part
       </em>
       , and a
       <em>
        repeating part
       </em>
       . The number will be represented in one of the following three ways:
      </p>
      <ul>
       <li>
        <code class="language-plaintext highlighter-rouge">
         &lt;IntegerPart&gt;
        </code>
        (e.g. 0, 12, 123)
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         &lt;IntegerPart&gt;&lt;.&gt;&lt;NonRepeatingPart&gt;
        </code>
        (e.g. 0.5, 1., 2.12, 2.0001)
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         &lt;IntegerPart&gt;&lt;.&gt;&lt;NonRepeatingPart&gt;&lt;(&gt;&lt;RepeatingPart&gt;&lt;)&gt;
        </code>
        (e.g. 0.1(6), 0.9(9), 0.00(1212))
       </li>
      </ul>
      <p>
       The repeating portion of a decimal expansion is conventionally denoted within a pair of round brackets.  For example:
      </p>
      <p>
       1 / 6 = 0.16666666â¦ = 0.1(6) = 0.1666(6) = 0.166(66)
      </p>
      <p>
       Both 0.1(6) or 0.1666(6) or 0.166(66) are correct representations of 1 / 6.
      </p>
      <p>
       <strong>
        Example 1:
       </strong>
      </p>
      <p>
       <strong>
        Input:
       </strong>
       S = â0.(52)â, T = â0.5(25)â
      </p>
      <p>
       <strong>
        Output:
       </strong>
       true
      </p>
      <p>
       <strong>
        Explanation:
       </strong>
      </p>
      <p>
       Because â0.(52)â represents 0.52525252â¦, and â0.5(25)â represents 0.52525252525â¦.. , the strings represent the same number.
      </p>
      <p>
       <strong>
        Example 2:
       </strong>
      </p>
      <p>
       <strong>
        Input:
       </strong>
       S = â0.1666(6)â, T = â0.166(66)â
      </p>
      <p>
       <strong>
        Output:
       </strong>
       true
      </p>
      <p>
       <strong>
        Example 3:
       </strong>
      </p>
      <p>
       <strong>
        Input:
       </strong>
       S = â0.9(9)â, T = â1.â
      </p>
      <p>
       <strong>
        Output:
       </strong>
       true
      </p>
      <p>
       <strong>
        Explanation:
       </strong>
       â0.9(9)â represents 0.999999999â¦ repeated forever, which equals 1.  [
       <a href="solution-972.html">
        See this link for an explanation.
       </a>
       ]
      </p>
      <p>
       â1.â represents the number 1, which is formed correctly: (IntegerPart) = â1â and (NonRepeatingPart) = ââ.
      </p>
      <p>
       <strong>
        Note:
       </strong>
      </p>
      <ol>
       <li>
        Each part consists only of digits.
       </li>
       <li>
        The
        <code class="language-plaintext highlighter-rouge">
         &lt;IntegerPart&gt;
        </code>
        will not begin with 2 or more zeros. (There is no other restriction on the digits of each part.)
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         1 &lt;= &lt;IntegerPart&gt;.length &lt;= 4
        </code>
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         0 &lt;= &lt;NonRepeatingPart&gt;.length &lt;= 4
        </code>
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         1 &lt;= &lt;RepeatingPart&gt;.length &lt;= 4
        </code>
       </li>
      </ol>
      <h2 id="solution">
       Solution
      </h2>
      <p>
       For both strings
       <code class="language-plaintext highlighter-rouge">
        S
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        T
       </code>
       , convert each number into a rational number, which contains a numerator and a denominator.
      </p>
      <p>
       To convert a string to a rational number, consider the following cases.
      </p>
      <ol>
       <li>
        <p>
         The string only contains the integer part. If the decimal point exists, remove the decimal point. Set the numerator to be the integer part and the denominator to be 1. For example, 12 is represented as 12/1.
        </p>
       </li>
       <li>
        <p>
         The string represents a decimal with no repeating parts. For example, 2.12 has an integer part 2 and a decimal part 0.12. The decimal part can be represented as 12/100, and the result of fraction reduction is 3/25. Adding the integer part to the rational number and the result is 53/25.
        </p>
       </li>
       <li>
        <p>
         The string represents a repeating decimal. Consider the following two cases.
 3.1. Only the repeating part exists. For example, 1.(142857) has an integer part 1 and a decimal part 0.(142857), The decimal part can be represented as 142857/999999, and the result of fraction reduction is 1/7. Adding the integer part to the rational number and the result is 8/7.
 3.2 Both the non-repeating part and the repeating part exist. For example, 3.1(3) has an integer part 3 and a decimal part 0.1(3). The decimal part can be represented by (13-1)/90 = 12/90, and the result of fraction reduction is 2/15. Adding the integer part to the rational number and the result is 47/15.
        </p>
       </li>
      </ol>
      <p>
       After converting both strings to rational numbers, check whether the two rational numbersâ numerators are the same and denominators are the same.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#b5577a1f-3c29-4490-a724-97c935d68fa5'}">
       <li class="uk-active">
        <a href="solution-972.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-972.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-972.html">
         Python
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="b5577a1f-3c29-4490-a724-97c935d68fa5">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isRationalEqual</span><span class="o">(</span><span class="nc">String</span> <span class="no">S</span><span class="o">,</span> <span class="nc">String</span> <span class="no">T</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">rationalS</span> <span class="o">=</span> <span class="n">getRational</span><span class="o">(</span><span class="no">S</span><span class="o">);</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">rationalT</span> <span class="o">=</span> <span class="n">getRational</span><span class="o">(</span><span class="no">T</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">rationalS</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="n">rationalT</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">rationalS</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="n">rationalT</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">getRational</span><span class="o">(</span><span class="nc">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">boolean</span> <span class="n">positive</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">str</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="n">positive</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">dotIndex</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="sc">'.'</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">dotIndex</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">integer</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">positive</span><span class="o">)</span>
                <span class="n">integer</span> <span class="o">=</span> <span class="o">-</span><span class="n">integer</span><span class="o">;</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">rational</span> <span class="o">=</span> <span class="o">{</span><span class="n">integer</span><span class="o">,</span> <span class="mi">1</span><span class="o">};</span>
            <span class="k">return</span> <span class="n">rational</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">dotIndex</span> <span class="o">==</span> <span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">integer</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">dotIndex</span><span class="o">));</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">positive</span><span class="o">)</span>
                <span class="n">integer</span> <span class="o">=</span> <span class="o">-</span><span class="n">integer</span><span class="o">;</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">rational</span> <span class="o">=</span> <span class="o">{</span><span class="n">integer</span><span class="o">,</span> <span class="mi">1</span><span class="o">};</span>
            <span class="k">return</span> <span class="n">rational</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">String</span> <span class="n">integerPart</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">dotIndex</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">integer</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">integerPart</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">decimalPart</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">dotIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">decimalPartLength</span> <span class="o">=</span> <span class="n">length</span> <span class="o">-</span> <span class="n">dotIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">repeatingIndex</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="sc">'('</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">repeatingIndex</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">numerator</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">decimalPart</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">denominator</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">decimalPartLength</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">gcd</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">(</span><span class="n">numerator</span><span class="o">,</span> <span class="n">denominator</span><span class="o">);</span>
            <span class="n">numerator</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
            <span class="n">denominator</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">rational</span> <span class="o">=</span> <span class="o">{</span><span class="n">numerator</span><span class="o">,</span> <span class="n">denominator</span><span class="o">};</span>
            <span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">integer</span> <span class="o">*</span> <span class="n">denominator</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">positive</span><span class="o">)</span>
                <span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
            <span class="k">return</span> <span class="n">rational</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">repeatingIndex</span> <span class="o">-</span> <span class="n">dotIndex</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">numerator</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">repeatingIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">));</span>
                <span class="kt">int</span> <span class="n">denominator</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">decimalPartLength</span> <span class="o">-</span> <span class="mi">2</span><span class="o">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">gcd</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">(</span><span class="n">numerator</span><span class="o">,</span> <span class="n">denominator</span><span class="o">);</span>
                <span class="n">numerator</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
                <span class="n">denominator</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
                <span class="kt">int</span><span class="o">[]</span> <span class="n">rational</span> <span class="o">=</span> <span class="o">{</span><span class="n">numerator</span><span class="o">,</span> <span class="n">denominator</span><span class="o">};</span>
                <span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">integer</span> <span class="o">*</span> <span class="n">denominator</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">positive</span><span class="o">)</span>
                    <span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
                <span class="k">return</span> <span class="n">rational</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">nonRepeatingLength</span> <span class="o">=</span> <span class="n">repeatingIndex</span> <span class="o">-</span> <span class="n">dotIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">repeatingLength</span> <span class="o">=</span> <span class="n">length</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">repeatingIndex</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">nonRepeating</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">dotIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">repeatingIndex</span><span class="o">));</span>
                <span class="kt">int</span> <span class="n">numerator</span> <span class="o">=</span> <span class="n">nonRepeating</span> <span class="o">*</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">repeatingLength</span><span class="o">)</span> <span class="o">+</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">repeatingIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">-</span> <span class="n">nonRepeating</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">denominator</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">repeatingLength</span><span class="o">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">nonRepeatingLength</span><span class="o">));</span>
                <span class="kt">int</span> <span class="n">gcd</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">(</span><span class="n">numerator</span><span class="o">,</span> <span class="n">denominator</span><span class="o">);</span>
                <span class="n">numerator</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
                <span class="n">denominator</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
                <span class="kt">int</span><span class="o">[]</span> <span class="n">rational</span> <span class="o">=</span> <span class="o">{</span><span class="n">numerator</span><span class="o">,</span> <span class="n">denominator</span><span class="o">};</span>
                <span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">integer</span> <span class="o">*</span> <span class="n">denominator</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">positive</span><span class="o">)</span>
                    <span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">rational</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
                <span class="k">return</span> <span class="n">rational</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">gcd</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
            <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
                <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">b</span> <span class="o">%=</span> <span class="n">a</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">b</span> <span class="o">:</span> <span class="n">a</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/equal-rational-numbers/</span>
<span class="c1">// Time: O(1)</span>
<span class="c1">// Space: O(1)</span>
<span class="k">struct</span> <span class="nc">Number</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">repeat</span><span class="p">;</span>
    <span class="n">Number</span><span class="p">(</span><span class="n">string</span> <span class="n">p</span><span class="p">,</span> <span class="n">string</span> <span class="n">r</span><span class="p">)</span> <span class="o">:</span> <span class="n">prefix</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">repeat</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// find the minimal repeat part</span>
        <span class="k">for</span> <span class="p">(;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">N</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">len</span><span class="p">)</span> <span class="p">{</span> 
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">&amp;&amp;</span> <span class="n">repeat</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">repeat</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">len</span><span class="p">])</span> <span class="o">++</span><span class="n">i</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">N</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">&lt;=</span> <span class="n">N</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="n">repeat</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">repeat</span> <span class="o">==</span> <span class="s">"0"</span><span class="p">)</span> <span class="n">repeat</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
        <span class="n">normalizePrefix</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">normalizePrefix</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">prefix</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="s">"."</span><span class="p">)</span> <span class="o">==</span> <span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">prefix</span> <span class="o">+=</span> <span class="sc">'.'</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">repeat</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span> <span class="c1">// only pop trailing zeroes if repeat is empty</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">prefix</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">==</span> <span class="sc">'0'</span><span class="p">)</span> <span class="n">prefix</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">increment</span><span class="p">(</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">carry</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">carry</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
            <span class="n">carry</span> <span class="o">+=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">;</span>
            <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'0'</span> <span class="o">+</span> <span class="n">carry</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span>
            <span class="n">carry</span> <span class="o">/=</span> <span class="mi">10</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">carry</span><span class="p">)</span> <span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">begin</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="sc">'1'</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Number</span> <span class="n">getNumber</span><span class="p">(</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="s">"("</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span> <span class="k">return</span> <span class="n">Number</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
        <span class="k">auto</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">Number</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ans</span><span class="p">.</span><span class="n">repeat</span> <span class="o">==</span> <span class="s">"9"</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">repeat</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">increment</span><span class="p">(</span><span class="n">ans</span><span class="p">.</span><span class="n">prefix</span><span class="p">);</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">normalizePrefix</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kt">bool</span> <span class="n">isRationalEqual</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">,</span> <span class="n">string</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">getNumber</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">b</span> <span class="o">=</span> <span class="n">getNumber</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">!=</span> <span class="n">b</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">prefix</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">prefix</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">.</span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">b</span><span class="p">.</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="n">a</span><span class="p">.</span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="o">%</span> <span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">size</span><span class="p">()]</span> <span class="o">!=</span> <span class="n">b</span><span class="p">.</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">a</span><span class="p">.</span><span class="n">prefix</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="o">%</span> <span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="n">a</span><span class="p">.</span><span class="n">repeat</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">repeat</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1"># 972. Equal Rational Numbers
# https://leetcode.com/problems/equal-rational-numbers/
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isRationalEqual</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        
        <span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="s">""</span>
            <span class="n">rep1</span> <span class="o">=</span> <span class="s">""</span>
            <span class="n">ok</span> <span class="o">=</span> <span class="bp">False</span>

            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s">"("</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="s">")"</span><span class="p">:</span>
                    <span class="n">ok</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
                    <span class="n">rep1</span> <span class="o">+=</span> <span class="n">x</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">s2</span> <span class="o">+=</span> <span class="n">x</span>
            
            <span class="k">return</span> <span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">rep1</span><span class="p">)</span>
        
        <span class="n">os1</span><span class="p">,</span> <span class="n">rep1</span> <span class="o">=</span> <span class="n">g</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">os2</span><span class="p">,</span> <span class="n">rep2</span> <span class="o">=</span> <span class="n">g</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">os1</span> <span class="o">+</span> <span class="n">rep1</span> <span class="o">*</span> <span class="mi">30</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="n">os2</span> <span class="o">+</span> <span class="n">rep2</span> <span class="o">*</span> <span class="mi">30</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rep1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rep2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span> <span class="ow">or</span> <span class="nb">float</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span> <span class="ow">or</span> <span class="nb">float</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span><span class="p">(</span><span class="n">s2</span><span class="p">):</span> <span class="k">return</span> <span class="bp">True</span>

        
        <span class="k">def</span> <span class="nf">good</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">roundCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span>
            
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">curr</span> <span class="o">==</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
                
                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="mi">30</span><span class="p">:</span>
                    <span class="n">ss</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="s">"0."</span> <span class="o">+</span> <span class="s">"0"</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">-</span> <span class="nb">bool</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">"."</span><span class="p">))</span> <span class="o">+</span> <span class="s">"1"</span><span class="p">)</span>
                    
                    <span class="k">if</span> <span class="n">r</span> <span class="o">==</span> <span class="nb">float</span><span class="p">(</span><span class="n">s2</span><span class="p">):</span>
                        <span class="k">return</span> <span class="bp">True</span>
            
            <span class="k">return</span> <span class="bp">False</span>
        
        <span class="k">return</span> <span class="n">good</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span> <span class="ow">or</span> <span class="n">good</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
        
            
        
        

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-972.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
