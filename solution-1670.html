<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1670.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1670.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1670 - Design Front Middle Back Queue</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1670. Design Front Middle Back Queue Description Design a queue that supports push and pop operations in the front, middle, and back. Implement the FrontMiddleBack class: FrontMiddleBack() Initializes the queue. void pushFront(int val) Adds val to the front of the queue. void pushMiddle(int val) Adds...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1670.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1670.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1670.html" rel="stylesheet"/>
   <link href="solution-1670.html" rel="stylesheet"/>
   <link href="solution-1670.html" rel="stylesheet"/>
   <link href="solution-1670.html" rel="stylesheet"/>
   <link href="solution-1670.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1670 - Design Front Middle Back Queue" property="og:title"/>
   <meta content="Leetcode 1670. Design Front Middle Back Queue Description Design a queue that supports push and pop operations in the front, middle, and back. Implement the FrontMiddleBack class: FrontMiddleBack() Initializes the queue. void pushFront(int val) Adds val to the front of the queue. void pushMiddle(int val) Adds val to the middle of the queue. void pushBack(int val) Adds val to the back of the queue. int popFront() Removes the front element of the queue and returns it. If the queue is empty, return -1. int popMiddle() Removes the middle element of the queue and returns it. If the queue is empty, return -1. int popBack() Removes the back element of the queue and returns it. If the queue is empty, return -1. Notice that when there are two middle position choices, the operation is performed on the frontmost middle position choice. For example: Pushing 6 into the middle of [1, 2, 3, 4, 5] results in [1, 2, 6, 3, 4, 5]. Popping the middle from [1, 2, 3, 4, 5, 6] returns 3 and results in [1, 2, 4, 5, 6]. &amp;nbsp; Example 1: Input: [&amp;quot;FrontMiddleBackQueue&amp;quot;, &amp;quot;pushFront&amp;quot;, &amp;quot;pushBack&amp;quot;, &amp;quot;pushMiddle&amp;quot;, &amp;quot;pushMiddle&amp;quot;, &amp;quot;popFront&amp;quot;, &amp;quot;popMiddle&amp;quot;, &amp;quot;popMiddle&amp;quot;, &amp;quot;popBack&amp;quot;, &amp;quot;popFront&amp;quot;] [[], [1], [2], [3], [4], [], [], [], [], []] Output: [null, null, null, null, null, 1, 3, 4, 2, -1] Explanation: FrontMiddleBackQueue q = new FrontMiddleBackQueue(); q.pushFront(1); // [1] q.pushBack(2); // [1, 2] q.pushMiddle(3); // [1, 3, 2] q.pushMiddle(4); // [1, 4, 3, 2] q.popFront(); // return 1 -&amp;gt; [4, 3, 2] q.popMiddle(); // return 3 -&amp;gt; [4, 2] q.popMiddle(); // return 4 -&amp;gt; [2] q.popBack(); // return 2 -&amp;gt; [] q.popFront(); // return -1 -&amp;gt; [] (The queue is empty) &amp;nbsp; Constraints: 1 &amp;lt;= val &amp;lt;= 109 At most&amp;nbsp;1000&amp;nbsp;calls will be made to&amp;nbsp;pushFront,&amp;nbsp;pushMiddle,&amp;nbsp;pushBack, popFront, popMiddle, and popBack. Solutions Solution 1: Two Deques We use two deques, where $q_1$ stores the first half, and $q_2$ stores the second half. The rebalance function is used to maintain the balance between the two queues, i.e., keeping the length of $q_2$ greater than or equal to the length of $q_1$, and the difference in length does not exceed $1$. In the pushFront, pushMiddle, and pushBack functions, we only need to add elements to $q_1$ or $q_2$, and call the rebalance function. For the popFront function, we need to check whether $q_1$ and $q_2$ are empty. If both are empty, return $-1$. Otherwise, we need to check whether $q_1$ is empty. If not, pop the front element of $q_1$, otherwise pop the front element of $q_2$, and call the rebalance function. For the popMiddle function, we need to check whether $q_1$ and $q_2$ are empty. If both are empty, return $-1$. Otherwise, we need to check whether the lengths of $q_1$ and $q_2$ are equal. If they are equal, pop the last element of $q_1$, otherwise pop the front element of $q_2$, and call the rebalance function. For the popBack function, we only need to check whether $q_2$ is empty. If it is empty,..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2020-06-26T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2020-06-26-1670-Design-Front-Middle-Back-Queue/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1670.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1670 - Design Front Middle Back Queue" property="twitter:title"/>
   <meta content="Leetcode 1670. Design Front Middle Back Queue Description Design a queue that supports push and pop operations in the front, middle, and back. Implement the FrontMiddleBack class: FrontMiddleBack() Initializes the queue. void pushFront(int val) Adds val to the front of the queue. void pushMiddle(int val) Adds val to the middle of the queue. void pushBack(int val) Adds val to the back of the queue. int popFront() Removes the front element of the queue and returns it. If the queue is empty, return -1. int popMiddle() Removes the middle element of the queue and returns it. If the queue is empty, return -1. int popBack() Removes the back element of the queue and returns it. If the queue is empty, return -1. Notice that when there are two middle position choices, the operation is performed on the frontmost middle position choice. For example: Pushing 6 into the middle of [1, 2, 3, 4, 5] results in [1, 2, 6, 3, 4, 5]. Popping the middle from [1, 2, 3, 4, 5, 6] returns 3 and results in [1, 2, 4, 5, 6]. &amp;nbsp; Example 1: Input: [&amp;quot;FrontMiddleBackQueue&amp;quot;, &amp;quot;pushFront&amp;quot;, &amp;quot;pushBack&amp;quot;, &amp;quot;pushMiddle&amp;quot;, &amp;quot;pushMiddle&amp;quot;, &amp;quot;popFront&amp;quot;, &amp;quot;popMiddle&amp;quot;, &amp;quot;popMiddle&amp;quot;, &amp;quot;popBack&amp;quot;, &amp;quot;popFront&amp;quot;] [[], [1], [2], [3], [4], [], [], [], [], []] Output: [null, null, null, null, null, 1, 3, 4, 2, -1] Explanation: FrontMiddleBackQueue q = new FrontMiddleBackQueue(); q.pushFront(1); // [1] q.pushBack(2); // [1, 2] q.pushMiddle(3); // [1, 3, 2] q.pushMiddle(4); // [1, 4, 3, 2] q.popFront(); // return 1 -&amp;gt; [4, 3, 2] q.popMiddle(); // return 3 -&amp;gt; [4, 2] q.popMiddle(); // return 4 -&amp;gt; [2] q.popBack(); // return 2 -&amp;gt; [] q.popFront(); // return -1 -&amp;gt; [] (The queue is empty) &amp;nbsp; Constraints: 1 &amp;lt;= val &amp;lt;= 109 At most&amp;nbsp;1000&amp;nbsp;calls will be made to&amp;nbsp;pushFront,&amp;nbsp;pushMiddle,&amp;nbsp;pushBack, popFront, popMiddle, and popBack. Solutions Solution 1: Two Deques We use two deques, where $q_1$ stores the first half, and $q_2$ stores the second half. The rebalance function is used to maintain the balance between the two queues, i.e., keeping the length of $q_2$ greater than or equal to the length of $q_1$, and the difference in length does not exceed $1$. In the pushFront, pushMiddle, and pushBack functions, we only need to add elements to $q_1$ or $q_2$, and call the rebalance function. For the popFront function, we need to check whether $q_1$ and $q_2$ are empty. If both are empty, return $-1$. Otherwise, we need to check whether $q_1$ is empty. If not, pop the front element of $q_1$, otherwise pop the front element of $q_2$, and call the rebalance function. For the popMiddle function, we need to check whether $q_1$ and $q_2$ are empty. If both are empty, return $-1$. Otherwise, we need to check whether the lengths of $q_1$ and $q_2$ are equal. If they are equal, pop the last element of $q_1$, otherwise pop the front element of $q_2$, and call the rebalance function. For the popBack function, we only need to check whether $q_2$ is empty. If it is empty,..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1670 - Design Front Middle Back Queue | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1670 - Design Front Middle Back Queue" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1670.html" rel="canonical">
          <meta content="https://leetcode.ca/2020-06-26-1670-Design-Front-Middle-Back-Queue/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2020-06-26T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1670 - Design Front Middle Back Queue","dateModified":"2020-06-26T00:00:00-07:00","datePublished":"2020-06-26T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2020-06-26-1670-Design-Front-Middle-Back-Queue/"},"url":"https://leetcode.ca/2020-06-26-1670-Design-Front-Middle-Back-Queue/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1670-design-front-middle-back-queue">
       <a href="solution-1670.html">
        1670. Design Front Middle Back Queue
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Design a queue that supports
       <code>
        push
       </code>
       and
       <code>
        pop
       </code>
       operations in the front, middle, and back.
      </p>
      <p>
       Implement the
       <code>
        FrontMiddleBack
       </code>
       class:
      </p>
      <ul>
       <li>
        <code>
         FrontMiddleBack()
        </code>
        Initializes the queue.
       </li>
       <li>
        <code>
         void pushFront(int val)
        </code>
        Adds
        <code>
         val
        </code>
        to the
        <strong>
         front
        </strong>
        of the queue.
       </li>
       <li>
        <code>
         void pushMiddle(int val)
        </code>
        Adds
        <code>
         val
        </code>
        to the
        <strong>
         middle
        </strong>
        of the queue.
       </li>
       <li>
        <code>
         void pushBack(int val)
        </code>
        Adds
        <code>
         val
        </code>
        to the
        <strong>
         back
        </strong>
        of the queue.
       </li>
       <li>
        <code>
         int popFront()
        </code>
        Removes the
        <strong>
         front
        </strong>
        element of the queue and returns it. If the queue is empty, return
        <code>
         -1
        </code>
        .
       </li>
       <li>
        <code>
         int popMiddle()
        </code>
        Removes the
        <strong>
         middle
        </strong>
        element of the queue and returns it. If the queue is empty, return
        <code>
         -1
        </code>
        .
       </li>
       <li>
        <code>
         int popBack()
        </code>
        Removes the
        <strong>
         back
        </strong>
        element of the queue and returns it. If the queue is empty, return
        <code>
         -1
        </code>
        .
       </li>
      </ul>
      <p>
       <strong>
        Notice
       </strong>
       that when there are
       <b>
        two
       </b>
       middle position choices, the operation is performed on the
       <strong>
        frontmost
       </strong>
       middle position choice. For example:
      </p>
      <ul>
       <li>
        Pushing
        <code>
         6
        </code>
        into the middle of
        <code>
         [1, 2, 3, 4, 5]
        </code>
        results in
        <code>
         [1, 2,
         <u>
          6
         </u>
         , 3, 4, 5]
        </code>
        .
       </li>
       <li>
        Popping the middle from
        <code>
         [1, 2,
         <u>
          3
         </u>
         , 4, 5, 6]
        </code>
        returns
        <code>
         3
        </code>
        and results in
        <code>
         [1, 2, 4, 5, 6]
        </code>
        .
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong>
["FrontMiddleBackQueue", "pushFront", "pushBack", "pushMiddle", "pushMiddle", "popFront", "popMiddle", "popMiddle", "popBack", "popFront"]
[[], [1], [2], [3], [4], [], [], [], [], []]
<strong>Output:</strong>
[null, null, null, null, null, 1, 3, 4, 2, -1]

<strong>Explanation:</strong>
FrontMiddleBackQueue q = new FrontMiddleBackQueue();
q.pushFront(1);   // [<u>1</u>]
q.pushBack(2);    // [1, <u>2</u>]
q.pushMiddle(3);  // [1, <u>3</u>, 2]
q.pushMiddle(4);  // [1, <u>4</u>, 3, 2]
q.popFront();     // return 1 -&gt; [4, 3, 2]
q.popMiddle();    // return 3 -&gt; [4, 2]
q.popMiddle();    // return 4 -&gt; [2]
q.popBack();      // return 2 -&gt; []
q.popFront();     // return -1 -&gt; [] (The queue is empty)
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= val &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        At most
        <code>
         1000
        </code>
        calls will be made to
        <code>
         pushFront
        </code>
        ,
        <code>
         pushMiddle
        </code>
        ,
        <code>
         pushBack
        </code>
        ,
        <code>
         popFront
        </code>
        ,
        <code>
         popMiddle
        </code>
        , and
        <code>
         popBack
        </code>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Two Deques
       </strong>
      </p>
      <p>
       We use two deques, where $q_1$ stores the first half, and $q_2$ stores the second half. The
       <code class="language-plaintext highlighter-rouge">
        rebalance
       </code>
       function is used to maintain the balance between the two queues, i.e., keeping the length of $q_2$ greater than or equal to the length of $q_1$, and the difference in length does not exceed $1$.
      </p>
      <p>
       In the
       <code class="language-plaintext highlighter-rouge">
        pushFront
       </code>
       ,
       <code class="language-plaintext highlighter-rouge">
        pushMiddle
       </code>
       , and
       <code class="language-plaintext highlighter-rouge">
        pushBack
       </code>
       functions, we only need to add elements to $q_1$ or $q_2$, and call the
       <code class="language-plaintext highlighter-rouge">
        rebalance
       </code>
       function.
      </p>
      <p>
       For the
       <code class="language-plaintext highlighter-rouge">
        popFront
       </code>
       function, we need to check whether $q_1$ and $q_2$ are empty. If both are empty, return $-1$. Otherwise, we need to check whether $q_1$ is empty. If not, pop the front element of $q_1$, otherwise pop the front element of $q_2$, and call the
       <code class="language-plaintext highlighter-rouge">
        rebalance
       </code>
       function.
      </p>
      <p>
       For the
       <code class="language-plaintext highlighter-rouge">
        popMiddle
       </code>
       function, we need to check whether $q_1$ and $q_2$ are empty. If both are empty, return $-1$. Otherwise, we need to check whether the lengths of $q_1$ and $q_2$ are equal. If they are equal, pop the last element of $q_1$, otherwise pop the front element of $q_2$, and call the
       <code class="language-plaintext highlighter-rouge">
        rebalance
       </code>
       function.
      </p>
      <p>
       For the
       <code class="language-plaintext highlighter-rouge">
        popBack
       </code>
       function, we only need to check whether $q_2$ is empty. If it is empty, return $-1$. Otherwise, pop the last element of $q_2$, and call the
       <code class="language-plaintext highlighter-rouge">
        rebalance
       </code>
       function.
      </p>
      <p>
       The time complexity of the above operations is $O(1)$, and the space complexity is $O(n)$, where $n$ is the number of elements in the queue.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#f03a389d-adae-4a7d-926c-0c25465fe7da'}">
       <li class="uk-active">
        <a href="solution-1670.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1670.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1670.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1670.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-1670.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-1670.html">
         Javascript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="f03a389d-adae-4a7d-926c-0c25465fe7da">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">FrontMiddleBackQueue</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">q1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">q2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">FrontMiddleBackQueue</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">pushFront</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">q1</span><span class="o">.</span><span class="na">offerFirst</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
        <span class="n">rebalance</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">pushMiddle</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">q1</span><span class="o">.</span><span class="na">offerLast</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
        <span class="n">rebalance</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">pushBack</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">q2</span><span class="o">.</span><span class="na">offerLast</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
        <span class="n">rebalance</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">popFront</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">q1</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">q2</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">q1</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">?</span> <span class="n">q2</span><span class="o">.</span><span class="na">pollFirst</span><span class="o">()</span> <span class="o">:</span> <span class="n">q1</span><span class="o">.</span><span class="na">pollFirst</span><span class="o">();</span>
        <span class="n">rebalance</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">val</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">popMiddle</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">q1</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">q2</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">q1</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">q2</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">?</span> <span class="n">q1</span><span class="o">.</span><span class="na">pollLast</span><span class="o">()</span> <span class="o">:</span> <span class="n">q2</span><span class="o">.</span><span class="na">pollFirst</span><span class="o">();</span>
        <span class="n">rebalance</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">val</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">popBack</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">q2</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">q2</span><span class="o">.</span><span class="na">pollLast</span><span class="o">();</span>
        <span class="n">rebalance</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">val</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">rebalance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">q1</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">q2</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">q2</span><span class="o">.</span><span class="na">offerFirst</span><span class="o">(</span><span class="n">q1</span><span class="o">.</span><span class="na">pollLast</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">q2</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">q1</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">q1</span><span class="o">.</span><span class="na">offerLast</span><span class="o">(</span><span class="n">q2</span><span class="o">.</span><span class="na">pollFirst</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your FrontMiddleBackQueue object will be instantiated and called as such:
 * FrontMiddleBackQueue obj = new FrontMiddleBackQueue();
 * obj.pushFront(val);
 * obj.pushMiddle(val);
 * obj.pushBack(val);
 * int param_4 = obj.popFront();
 * int param_5 = obj.popMiddle();
 * int param_6 = obj.popBack();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">FrontMiddleBackQueue</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">FrontMiddleBackQueue</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">pushFront</span><span class="p">(</span><span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">q1</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
        <span class="n">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">pushMiddle</span><span class="p">(</span><span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">q1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
        <span class="n">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">pushBack</span><span class="p">(</span><span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">q2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
        <span class="n">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">popFront</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q1</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">q2</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q1</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">q1</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
            <span class="n">q1</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">q2</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
            <span class="n">q2</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">popMiddle</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q1</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">q2</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="n">q2</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">q1</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
            <span class="n">q1</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">q2</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
            <span class="n">q2</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">popBack</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q2</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">q2</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
        <span class="n">q2</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
        <span class="n">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nl">private:</span>
    <span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">q1</span><span class="p">;</span>
    <span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">q2</span><span class="p">;</span>

    <span class="kt">void</span> <span class="n">rebalance</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">q2</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">q2</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="n">q1</span><span class="p">.</span><span class="n">back</span><span class="p">());</span>
            <span class="n">q1</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q2</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">q1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">q1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">q2</span><span class="p">.</span><span class="n">front</span><span class="p">());</span>
            <span class="n">q2</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
 * Your FrontMiddleBackQueue object will be instantiated and called as such:
 * FrontMiddleBackQueue* obj = new FrontMiddleBackQueue();
 * obj-&gt;pushFront(val);
 * obj-&gt;pushMiddle(val);
 * obj-&gt;pushBack(val);
 * int param_4 = obj-&gt;popFront();
 * int param_5 = obj-&gt;popMiddle();
 * int param_6 = obj-&gt;popBack();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">FrontMiddleBackQueue</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">q1</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">q2</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">pushFront</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">.</span><span class="n">appendleft</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rebalance</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">pushMiddle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rebalance</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">pushBack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rebalance</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">popFront</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">q1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># non-empty guaranteed, or else first if for both empty will return
</span>            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rebalance</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span> <span class="nf">popMiddle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">q1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rebalance</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span> <span class="nf">popBack</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rebalance</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="c1"># q1-size &lt;= q2-size &lt;= 1 + q1-size
</span>    <span class="k">def</span> <span class="nf">rebalance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">.</span><span class="n">appendleft</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">.</span><span class="n">pop</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">q1</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q2</span><span class="p">.</span><span class="n">popleft</span><span class="p">())</span>


<span class="c1"># Your FrontMiddleBackQueue object will be instantiated and called as such:
# obj = FrontMiddleBackQueue()
# obj.pushFront(val)
# obj.pushMiddle(val)
# obj.pushBack(val)
# param_4 = obj.popFront()
# param_5 = obj.popMiddle()
# param_6 = obj.popBack()
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">FrontMiddleBackQueue</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="n">Deque</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Constructor</span><span class="p">()</span> <span class="n">FrontMiddleBackQueue</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">FrontMiddleBackQueue</span><span class="p">{}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">PushFront</span><span class="p">(</span><span class="n">val</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">PushFront</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rebalance</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">PushMiddle</span><span class="p">(</span><span class="n">val</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">PushBack</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rebalance</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">PushBack</span><span class="p">(</span><span class="n">val</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">PushBack</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rebalance</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">PopFront</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">-</span><span class="m">1</span>
	<span class="p">}</span>
	<span class="k">var</span> <span class="n">val</span> <span class="kt">int</span>
	<span class="k">if</span> <span class="o">!</span><span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span> <span class="p">{</span>
		<span class="n">val</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">PopFront</span><span class="p">()</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">val</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">PopFront</span><span class="p">()</span>
	<span class="p">}</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rebalance</span><span class="p">()</span>
	<span class="k">return</span> <span class="n">val</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">PopMiddle</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">-</span><span class="m">1</span>
	<span class="p">}</span>
	<span class="k">var</span> <span class="n">val</span> <span class="kt">int</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">Size</span><span class="p">()</span> <span class="o">==</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">Size</span><span class="p">()</span> <span class="p">{</span>
		<span class="n">val</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">PopBack</span><span class="p">()</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">val</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">PopFront</span><span class="p">()</span>
	<span class="p">}</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rebalance</span><span class="p">()</span>
	<span class="k">return</span> <span class="n">val</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">PopBack</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">-</span><span class="m">1</span>
	<span class="p">}</span>
	<span class="n">val</span> <span class="o">:=</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">PopBack</span><span class="p">()</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rebalance</span><span class="p">()</span>
	<span class="k">return</span> <span class="n">val</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">FrontMiddleBackQueue</span><span class="p">)</span> <span class="n">rebalance</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">Size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">Size</span><span class="p">()</span> <span class="p">{</span>
		<span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">PushFront</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">PopBack</span><span class="p">())</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">Size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">Size</span><span class="p">()</span><span class="o">+</span><span class="m">1</span> <span class="p">{</span>
		<span class="n">this</span><span class="o">.</span><span class="n">q1</span><span class="o">.</span><span class="n">PushBack</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">q2</span><span class="o">.</span><span class="n">PopFront</span><span class="p">())</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c">// template</span>
<span class="k">type</span> <span class="n">Deque</span> <span class="k">struct</span><span class="p">{</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Deque</span><span class="p">)</span> <span class="n">Empty</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span> <span class="o">==</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span> <span class="o">==</span> <span class="m">0</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Deque</span><span class="p">)</span> <span class="n">Size</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="o">*</span><span class="n">Deque</span><span class="p">)</span> <span class="n">PushFront</span><span class="p">(</span><span class="n">v</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">q</span><span class="o">.</span><span class="n">l</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="o">*</span><span class="n">Deque</span><span class="p">)</span> <span class="n">PushBack</span><span class="p">(</span><span class="n">v</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">q</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="o">*</span><span class="n">Deque</span><span class="p">)</span> <span class="n">PopFront</span><span class="p">()</span> <span class="p">(</span><span class="n">v</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="o">:</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">],</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">v</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="o">*</span><span class="n">Deque</span><span class="p">)</span> <span class="n">PopBack</span><span class="p">()</span> <span class="p">(</span><span class="n">v</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="o">:</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">],</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">v</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Deque</span><span class="p">)</span> <span class="n">Front</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Deque</span><span class="p">)</span> <span class="n">Back</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">q</span> <span class="n">Deque</span><span class="p">)</span> <span class="n">Get</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="o">-</span><span class="n">i</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">l</span><span class="p">)]</span>
<span class="p">}</span>

<span class="c">/**
 * Your FrontMiddleBackQueue object will be instantiated and called as such:
 * obj := Constructor();
 * obj.PushFront(val);
 * obj.PushMiddle(val);
 * obj.PushBack(val);
 * param_4 := obj.PopFront();
 * param_5 := obj.PopMiddle();
 * param_6 := obj.PopBack();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nx">FrontMiddleBackQueue</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nx">q1</span><span class="p">:</span> <span class="nx">Deque</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="k">private</span> <span class="nx">q2</span><span class="p">:</span> <span class="nx">Deque</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">;</span>

    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Deque</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Deque</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">pushFront</span><span class="p">(</span><span class="nx">val</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">pushFront</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">pushMiddle</span><span class="p">(</span><span class="nx">val</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">popFront</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">()</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popFront</span><span class="p">()</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">popFront</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">val</span><span class="o">!</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popMiddle</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">popBack</span><span class="p">()</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popFront</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">val</span><span class="o">!</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popBack</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popBack</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">val</span><span class="o">!</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="nx">rebalance</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">getSize</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">pushFront</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">popBack</span><span class="p">()</span><span class="o">!</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">pushBack</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popFront</span><span class="p">()</span><span class="o">!</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Node</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
    <span class="nl">next</span><span class="p">:</span> <span class="nx">Node</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
    <span class="nl">prev</span><span class="p">:</span> <span class="nx">Node</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="na">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Deque</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">private</span> <span class="na">front</span><span class="p">:</span> <span class="nx">Node</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">private</span> <span class="na">back</span><span class="p">:</span> <span class="nx">Node</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">private</span> <span class="na">size</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">pushFront</span><span class="p">(</span><span class="na">val</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">newNode</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Node</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">newNode</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="o">!</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">pushBack</span><span class="p">(</span><span class="na">val</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">newNode</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Node</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">newNode</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="o">!</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popFront</span><span class="p">():</span> <span class="nx">T</span> <span class="o">|</span> <span class="kc">undefined</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="o">!</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="o">!</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">--</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popBack</span><span class="p">():</span> <span class="nx">T</span> <span class="o">|</span> <span class="kc">undefined</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="o">!</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="o">!</span><span class="p">.</span><span class="nx">prev</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">--</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">frontValue</span><span class="p">():</span> <span class="nx">T</span> <span class="o">|</span> <span class="kc">undefined</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">?.</span><span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">backValue</span><span class="p">():</span> <span class="nx">T</span> <span class="o">|</span> <span class="kc">undefined</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">?.</span><span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">getSize</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">isEmpty</span><span class="p">():</span> <span class="nx">boolean</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**
 * Your FrontMiddleBackQueue object will be instantiated and called as such:
 * var obj = new FrontMiddleBackQueue()
 * obj.pushFront(val)
 * obj.pushMiddle(val)
 * obj.pushBack(val)
 * var param_4 = obj.popFront()
 * var param_5 = obj.popMiddle()
 * var param_6 = obj.popBack()
 */</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-js highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nx">FrontMiddleBackQueue</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Deque</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Deque</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">pushFront</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">pushFront</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">pushMiddle</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">popFront</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">()</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popFront</span><span class="p">()</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">popFront</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">val</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">?</span> <span class="nx">val</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popMiddle</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">popBack</span><span class="p">()</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popFront</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">val</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">?</span> <span class="nx">val</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popBack</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popBack</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rebalance</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">val</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">?</span> <span class="nx">val</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">rebalance</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">getSize</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">pushFront</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">popBack</span><span class="p">());</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">getSize</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">q1</span><span class="p">.</span><span class="nx">pushBack</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">q2</span><span class="p">.</span><span class="nx">popFront</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Node</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Deque</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">pushFront</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">newNode</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Node</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">newNode</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">pushBack</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">newNode</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Node</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">newNode</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="nx">newNode</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popFront</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">--</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">popBack</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">.</span><span class="nx">prev</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">back</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">front</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="o">--</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">frontValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">front</span><span class="p">?.</span><span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">backValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">back</span><span class="p">?.</span><span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">getSize</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">isEmpty</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**
 * Your FrontMiddleBackQueue object will be instantiated and called as such:
 * var obj = new FrontMiddleBackQueue()
 * obj.pushFront(val)
 * obj.pushMiddle(val)
 * obj.pushBack(val)
 * var param_4 = obj.popFront()
 * var param_5 = obj.popMiddle()
 * var param_6 = obj.popBack()
 */</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1670.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
