<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-3154.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-3154.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>3154 - Find Number of Ways to Reach the K-th Stair</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 3154. Find Number of Ways to Reach the K-th Stair Description You are given a non-negative integer k. There exists a staircase with an infinite number of stairs, with the lowest stair numbered 0. Alice has an integer jump, with an initial value of 0....">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-3154.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-3154.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-3154.html" rel="stylesheet"/>
   <link href="solution-3154.html" rel="stylesheet"/>
   <link href="solution-3154.html" rel="stylesheet"/>
   <link href="solution-3154.html" rel="stylesheet"/>
   <link href="solution-3154.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="3154 - Find Number of Ways to Reach the K-th Stair" property="og:title"/>
   <meta content="Leetcode 3154. Find Number of Ways to Reach the K-th Stair Description You are given a non-negative integer k. There exists a staircase with an infinite number of stairs, with the lowest stair numbered 0. Alice has an integer jump, with an initial value of 0. She starts on stair 1 and wants to reach stair k using any number of operations. If she is on stair i, in one operation she can: Go down to stair i - 1. This operation cannot be used consecutively or on stair 0. Go up to stair i + 2jump. And then, jump becomes jump + 1. Return the total number of ways Alice can reach stair k. Note that it is possible that Alice reaches the stair k, and performs some operations to reach the stair k again. &amp;nbsp; Example 1: Input: k = 0 Output: 2 Explanation: The 2 possible ways of reaching stair 0 are: Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 20 stairs to reach stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Example 2: Input: k = 1 Output: 4 Explanation: The 4 possible ways of reaching stair 1 are: Alice starts at stair 1. Alice is at stair 1. Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 20 stairs to reach stair 1. Alice starts at stair 1. Using an operation of the second type, she goes up 20 stairs to reach stair 2. Using an operation of the first type, she goes down 1 stair to reach stair 1. Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 20 stairs to reach stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 21 stairs to reach stair 2. Using an operation of the first type, she goes down 1 stair to reach stair 1. &amp;nbsp; Constraints: 0 &amp;lt;= k &amp;lt;= 109 Solutions Solution 1: Memoization Search We design a function dfs(i, j, jump), which represents the number of ways to reach the $k$th step when currently at the $i$th step, having performed $j$ operation 1âs and jump operation 2âs. The answer is dfs(1, 0, 0). The calculation process of the function dfs(i, j, jump) is as follows: If $i &amp;gt; k + 1$, since we cannot go down twice in a row, we cannot..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2024-06-03T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2024-06-03-3154-Find-Number-of-Ways-to-Reach-the-K-th-Stair/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-3154.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="3154 - Find Number of Ways to Reach the K-th Stair" property="twitter:title"/>
   <meta content="Leetcode 3154. Find Number of Ways to Reach the K-th Stair Description You are given a non-negative integer k. There exists a staircase with an infinite number of stairs, with the lowest stair numbered 0. Alice has an integer jump, with an initial value of 0. She starts on stair 1 and wants to reach stair k using any number of operations. If she is on stair i, in one operation she can: Go down to stair i - 1. This operation cannot be used consecutively or on stair 0. Go up to stair i + 2jump. And then, jump becomes jump + 1. Return the total number of ways Alice can reach stair k. Note that it is possible that Alice reaches the stair k, and performs some operations to reach the stair k again. &amp;nbsp; Example 1: Input: k = 0 Output: 2 Explanation: The 2 possible ways of reaching stair 0 are: Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 20 stairs to reach stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Example 2: Input: k = 1 Output: 4 Explanation: The 4 possible ways of reaching stair 1 are: Alice starts at stair 1. Alice is at stair 1. Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 20 stairs to reach stair 1. Alice starts at stair 1. Using an operation of the second type, she goes up 20 stairs to reach stair 2. Using an operation of the first type, she goes down 1 stair to reach stair 1. Alice starts at stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 20 stairs to reach stair 1. Using an operation of the first type, she goes down 1 stair to reach stair 0. Using an operation of the second type, she goes up 21 stairs to reach stair 2. Using an operation of the first type, she goes down 1 stair to reach stair 1. &amp;nbsp; Constraints: 0 &amp;lt;= k &amp;lt;= 109 Solutions Solution 1: Memoization Search We design a function dfs(i, j, jump), which represents the number of ways to reach the $k$th step when currently at the $i$th step, having performed $j$ operation 1âs and jump operation 2âs. The answer is dfs(1, 0, 0). The calculation process of the function dfs(i, j, jump) is as follows: If $i &amp;gt; k + 1$, since we cannot go down twice in a row, we cannot..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    3154 - Find Number of Ways to Reach the K-th Stair | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="3154 - Find Number of Ways to Reach the K-th Stair" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-3154.html" rel="canonical">
          <meta content="https://leetcode.ca/2024-06-03-3154-Find-Number-of-Ways-to-Reach-the-K-th-Stair/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2024-06-03T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"3154 - Find Number of Ways to Reach the K-th Stair","dateModified":"2024-06-03T00:00:00-07:00","datePublished":"2024-06-03T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2024-06-03-3154-Find-Number-of-Ways-to-Reach-the-K-th-Stair/"},"url":"https://leetcode.ca/2024-06-03-3154-Find-Number-of-Ways-to-Reach-the-K-th-Stair/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <!-- problem:start -->
      <h1 id="3154-find-number-of-ways-to-reach-the-k-th-stair">
       <a href="solution-3154.html">
        3154. Find Number of Ways to Reach the K-th Stair
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <!-- description:start -->
      <p>
       You are given a
       <strong>
        non-negative
       </strong>
       integer
       <code>
        k
       </code>
       . There exists a staircase with an infinite number of stairs, with the
       <strong>
        lowest
       </strong>
       stair numbered 0.
      </p>
      <p>
       Alice has an integer
       <code>
        jump
       </code>
       , with an initial value of 0. She starts on stair 1 and wants to reach stair
       <code>
        k
       </code>
       using
       <strong>
        any
       </strong>
       number of
       <strong>
        operations
       </strong>
       . If she is on stair
       <code>
        i
       </code>
       , in one
       <strong>
        operation
       </strong>
       she can:
      </p>
      <ul>
       <li>
        Go down to stair
        <code>
         i - 1
        </code>
        . This operation
        <strong>
         cannot
        </strong>
        be used consecutively or on stair 0.
       </li>
       <li>
        Go up to stair
        <code>
         i + 2
         <sup>
          jump
         </sup>
        </code>
        . And then,
        <code>
         jump
        </code>
        becomes
        <code>
         jump + 1
        </code>
        .
       </li>
      </ul>
      <p>
       Return the
       <em>
        total
       </em>
       number of ways Alice can reach stair
       <code>
        k
       </code>
       .
      </p>
      <p>
       <strong>
        Note
       </strong>
       that it is possible that Alice reaches the stair
       <code>
        k
       </code>
       , and performs some operations to reach the stair
       <code>
        k
       </code>
       again.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         k = 0
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         2
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        The 2 possible ways of reaching stair 0 are:
       </p>
       <ul>
        <li>
         Alice starts at stair 1.
         <ul>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 0.
          </li>
         </ul>
        </li>
        <li>
         Alice starts at stair 1.
         <ul>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 0.
          </li>
          <li>
           Using an operation of the second type, she goes up 2
           <sup>
            0
           </sup>
           stairs to reach stair 1.
          </li>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 0.
          </li>
         </ul>
        </li>
       </ul>
      </div>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         k = 1
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         4
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        The 4 possible ways of reaching stair 1 are:
       </p>
       <ul>
        <li>
         Alice starts at stair 1. Alice is at stair 1.
        </li>
        <li>
         Alice starts at stair 1.
         <ul>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 0.
          </li>
          <li>
           Using an operation of the second type, she goes up 2
           <sup>
            0
           </sup>
           stairs to reach stair 1.
          </li>
         </ul>
        </li>
        <li>
         Alice starts at stair 1.
         <ul>
          <li>
           Using an operation of the second type, she goes up 2
           <sup>
            0
           </sup>
           stairs to reach stair 2.
          </li>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 1.
          </li>
         </ul>
        </li>
        <li>
         Alice starts at stair 1.
         <ul>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 0.
          </li>
          <li>
           Using an operation of the second type, she goes up 2
           <sup>
            0
           </sup>
           stairs to reach stair 1.
          </li>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 0.
          </li>
          <li>
           Using an operation of the second type, she goes up 2
           <sup>
            1
           </sup>
           stairs to reach stair 2.
          </li>
          <li>
           Using an operation of the first type, she goes down 1 stair to reach stair 1.
          </li>
         </ul>
        </li>
       </ul>
      </div>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         0 &lt;= k &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
      </ul>
      <!-- description:end -->
      <h2 id="solutions">
       Solutions
      </h2>
      <!-- solution:start -->
      <h3 id="solution-1-memoization-search">
       Solution 1: Memoization Search
      </h3>
      <p>
       We design a function
       <code class="language-plaintext highlighter-rouge">
        dfs(i, j, jump)
       </code>
       , which represents the number of ways to reach the $k$th step when currently at the $i$th step, having performed $j$ operation 1âs and
       <code class="language-plaintext highlighter-rouge">
        jump
       </code>
       operation 2âs. The answer is
       <code class="language-plaintext highlighter-rouge">
        dfs(1, 0, 0)
       </code>
       .
      </p>
      <p>
       The calculation process of the function
       <code class="language-plaintext highlighter-rouge">
        dfs(i, j, jump)
       </code>
       is as follows:
      </p>
      <ul>
       <li>
        If $i &gt; k + 1$, since we cannot go down twice in a row, we cannot reach the $k$th step again, so return $0$;
       </li>
       <li>
        If $i = k$, it means that we have reached the $k$th step. The answer is initialized to $1$, and then continue to calculate;
       </li>
       <li>
        If $i &gt; 0$ and $j = 0$, it means that we can go down, recursively calculate
        <code class="language-plaintext highlighter-rouge">
         dfs(i - 1, 1, jump)
        </code>
        ;
       </li>
       <li>
        Recursively calculate
        <code class="language-plaintext highlighter-rouge">
         dfs(i + 2^{jump}, 0, jump + 1)
        </code>
        , and add it to the answer.
       </li>
      </ul>
      <p>
       To avoid repeated calculations, we use memoization search to save the calculated states.
      </p>
      <p>
       The time complexity is $O(\log^2 k)$, and the space complexity is $O(\log^2 k)$.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#2281224f-2b45-4e75-bbbc-707cab3071f3'}">
       <li class="uk-active">
        <a href="solution-3154.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-3154.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-3154.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-3154.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-3154.html">
         TypeScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="2281224f-2b45-4e75-bbbc-707cab3071f3">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">k</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">waysToReachStair</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">k</span> <span class="o">=</span> <span class="n">k</span><span class="o">;</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">,</span> <span class="kt">int</span> <span class="n">jump</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">long</span> <span class="n">key</span> <span class="o">=</span> <span class="o">((</span><span class="kt">long</span><span class="o">)</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span><span class="o">)</span> <span class="o">|</span> <span class="n">jump</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">j</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">key</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">i</span> <span class="o">==</span> <span class="n">k</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">jump</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="o">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">jump</span><span class="o">),</span> <span class="mi">0</span><span class="o">,</span> <span class="n">jump</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">f</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">waysToReachStair</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">k</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>

<span class="nl">private:</span>
    <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">k</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">,</span> <span class="kt">int</span> <span class="n">jump</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kt">long</span> <span class="kt">long</span> <span class="n">key</span> <span class="o">=</span> <span class="p">((</span><span class="kt">long</span> <span class="kt">long</span><span class="p">)</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span><span class="p">)</span> <span class="o">|</span> <span class="n">jump</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">j</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">key</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">key</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">i</span> <span class="o">==</span> <span class="n">k</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">jump</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">jump</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">jump</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">f</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">waysToReachStair</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">jump</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">jump</span><span class="p">)</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">jump</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">jump</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ans</span>

        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">waysToReachStair</span><span class="p">(</span><span class="n">k</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">f</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="k">var</span> <span class="n">dfs</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">jump</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span>
	<span class="n">dfs</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">jump</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">k</span><span class="o">+</span><span class="m">1</span> <span class="p">{</span>
			<span class="k">return</span> <span class="m">0</span>
		<span class="p">}</span>
		<span class="n">key</span> <span class="o">:=</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="m">32</span><span class="p">)</span> <span class="o">|</span> <span class="n">jump</span><span class="o">&lt;&lt;</span><span class="m">1</span> <span class="o">|</span> <span class="n">j</span>
		<span class="k">if</span> <span class="n">v</span><span class="p">,</span> <span class="n">has</span> <span class="o">:=</span> <span class="n">f</span><span class="p">[</span><span class="n">key</span><span class="p">];</span> <span class="n">has</span> <span class="p">{</span>
			<span class="k">return</span> <span class="n">v</span>
		<span class="p">}</span>
		<span class="n">ans</span> <span class="o">:=</span> <span class="m">0</span>
		<span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">k</span> <span class="p">{</span>
			<span class="n">ans</span><span class="o">++</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
			<span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="n">jump</span><span class="p">)</span>
		<span class="p">}</span>
		<span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="p">(</span><span class="m">1</span><span class="o">&lt;&lt;</span><span class="n">jump</span><span class="p">),</span> <span class="m">0</span><span class="p">,</span> <span class="n">jump</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
		<span class="n">f</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span>
		<span class="k">return</span> <span class="n">ans</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">waysToReachStair</span><span class="p">(</span><span class="nx">k</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">f</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="nx">bigint</span><span class="p">,</span> <span class="kr">number</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

    <span class="kd">const</span> <span class="nx">dfs</span> <span class="o">=</span> <span class="p">(</span><span class="nx">i</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">j</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">jump</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">number</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="nx">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kd">const</span> <span class="na">key</span><span class="p">:</span> <span class="nx">bigint</span> <span class="o">=</span> <span class="p">(</span><span class="nx">BigInt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span> <span class="o">|</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">jump</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kd">let</span> <span class="na">ans</span><span class="p">:</span> <span class="kr">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="nx">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ans</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">j</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ans</span> <span class="o">+=</span> <span class="nx">dfs</span><span class="p">(</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">jump</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">ans</span> <span class="o">+=</span> <span class="nx">dfs</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">jump</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">jump</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="nx">f</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">ans</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="k">return</span> <span class="nx">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-3154.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
