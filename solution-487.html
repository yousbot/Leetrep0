<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-487.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-487.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>487 - Max Consecutive Ones II</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 487. Max Consecutive Ones II Description Given a binary array nums, return the maximum number of consecutive 1&amp;#39;s in the array if you can flip at most one 0. &amp;nbsp; Example 1: Input: nums = [1,0,1,1,0] Output: 4 Explanation: - If we flip the first...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-487.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-487.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-487.html" rel="stylesheet"/>
   <link href="solution-487.html" rel="stylesheet"/>
   <link href="solution-487.html" rel="stylesheet"/>
   <link href="solution-487.html" rel="stylesheet"/>
   <link href="solution-487.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="487 - Max Consecutive Ones II" property="og:title"/>
   <meta content="Leetcode 487. Max Consecutive Ones II Description Given a binary array nums, return the maximum number of consecutive 1&amp;#39;s in the array if you can flip at most one 0. &amp;nbsp; Example 1: Input: nums = [1,0,1,1,0] Output: 4 Explanation: - If we flip the first zero, nums becomes [1,1,1,1,0] and we have 4 consecutive ones. - If we flip the second zero, nums becomes [1,0,1,1,1] and we have 3 consecutive ones. The max number of consecutive ones is 4. Example 2: Input: nums = [1,0,1,1,0,1] Output: 4 Explanation: - If we flip the first zero, nums becomes [1,1,1,1,0,1] and we have 4 consecutive ones. - If we flip the second zero, nums becomes [1,0,1,1,1,1] and we have 4 consecutive ones. The max number of consecutive ones is 4. &amp;nbsp; Constraints: 1 &amp;lt;= nums.length &amp;lt;= 105 nums[i] is either 0 or 1. &amp;nbsp; Follow up: What if the input numbers come in one by one as an infinite stream? In other words, you can&amp;#39;t store all numbers coming from the stream as it&amp;#39;s too large to hold in memory. Could you solve it efficiently? Solutions Suppose the problem statement allows for up to k flips of zeroes to ones. In such scenarios, adopting a versatile solution becomes paramount for addressing this variant efficiently. The strategy involves maintaining a sliding window [left, right] that encompasses at most k zeroes. Hereâs an enhanced explanation: Sliding Window: Utilize a dynamic window [left, right] to traverse through the array. This window expands or contracts based on the condition related to zeroes within it. Handling Zeroes: As the window encounters a zero, increment a counter that tracks the number of zeroes (zeroCount). Subsequently, evaluate whether zeroCount exceeds k. If zeroCount is greater than k, it necessitates shifting the left boundary of the window to the right to exclude a zero and thereby maintain the constraint of at most k zeroes within the window. Should the element being excluded (nums[left]) be a zero, decrement zeroCount by one. Conversely, if zeroCount does not exceed k, leverage the current window size to potentially update the result (res), signifying the maximum length of subarray achievable under the flipping constraint. Follow-up In follow-up scenarios where direct access to prior elements via nums[left] may not suffice or be efficient, an alternative approach is advocated: Zeroes Position Queue: Maintain a queue to record the positions of encountered zeroes. This queue becomes instrumental in precisely determining the next position to which the left boundary should shift when the window needs to exclude a zero to adhere to the k flips constraint. This queue-based approach ensures that adjustments to the windowâs left boundary are made with full knowledge of zeroesâ positions, thus optimizing window adjustments and maintaining the integrity of the k flips constraint. Summary The refined solution not only caters to the basic requirement of flipping up to k zeroes but also elegantly addresses more complex scenarios presented in follow-up questions. By systematically managing the sliding window and accurately..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2017-03-31T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2017-03-31-487-Max-Consecutive-Ones-II/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-487.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="487 - Max Consecutive Ones II" property="twitter:title"/>
   <meta content="Leetcode 487. Max Consecutive Ones II Description Given a binary array nums, return the maximum number of consecutive 1&amp;#39;s in the array if you can flip at most one 0. &amp;nbsp; Example 1: Input: nums = [1,0,1,1,0] Output: 4 Explanation: - If we flip the first zero, nums becomes [1,1,1,1,0] and we have 4 consecutive ones. - If we flip the second zero, nums becomes [1,0,1,1,1] and we have 3 consecutive ones. The max number of consecutive ones is 4. Example 2: Input: nums = [1,0,1,1,0,1] Output: 4 Explanation: - If we flip the first zero, nums becomes [1,1,1,1,0,1] and we have 4 consecutive ones. - If we flip the second zero, nums becomes [1,0,1,1,1,1] and we have 4 consecutive ones. The max number of consecutive ones is 4. &amp;nbsp; Constraints: 1 &amp;lt;= nums.length &amp;lt;= 105 nums[i] is either 0 or 1. &amp;nbsp; Follow up: What if the input numbers come in one by one as an infinite stream? In other words, you can&amp;#39;t store all numbers coming from the stream as it&amp;#39;s too large to hold in memory. Could you solve it efficiently? Solutions Suppose the problem statement allows for up to k flips of zeroes to ones. In such scenarios, adopting a versatile solution becomes paramount for addressing this variant efficiently. The strategy involves maintaining a sliding window [left, right] that encompasses at most k zeroes. Hereâs an enhanced explanation: Sliding Window: Utilize a dynamic window [left, right] to traverse through the array. This window expands or contracts based on the condition related to zeroes within it. Handling Zeroes: As the window encounters a zero, increment a counter that tracks the number of zeroes (zeroCount). Subsequently, evaluate whether zeroCount exceeds k. If zeroCount is greater than k, it necessitates shifting the left boundary of the window to the right to exclude a zero and thereby maintain the constraint of at most k zeroes within the window. Should the element being excluded (nums[left]) be a zero, decrement zeroCount by one. Conversely, if zeroCount does not exceed k, leverage the current window size to potentially update the result (res), signifying the maximum length of subarray achievable under the flipping constraint. Follow-up In follow-up scenarios where direct access to prior elements via nums[left] may not suffice or be efficient, an alternative approach is advocated: Zeroes Position Queue: Maintain a queue to record the positions of encountered zeroes. This queue becomes instrumental in precisely determining the next position to which the left boundary should shift when the window needs to exclude a zero to adhere to the k flips constraint. This queue-based approach ensures that adjustments to the windowâs left boundary are made with full knowledge of zeroesâ positions, thus optimizing window adjustments and maintaining the integrity of the k flips constraint. Summary The refined solution not only caters to the basic requirement of flipping up to k zeroes but also elegantly addresses more complex scenarios presented in follow-up questions. By systematically managing the sliding window and accurately..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    487 - Max Consecutive Ones II | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="487 - Max Consecutive Ones II" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-487.html" rel="canonical">
          <meta content="https://leetcode.ca/2017-03-31-487-Max-Consecutive-Ones-II/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2017-03-31T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"487 - Max Consecutive Ones II","dateModified":"2017-03-31T00:00:00-07:00","datePublished":"2017-03-31T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2017-03-31-487-Max-Consecutive-Ones-II/"},"url":"https://leetcode.ca/2017-03-31-487-Max-Consecutive-Ones-II/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="487-max-consecutive-ones-ii">
       <a href="solution-487.html">
        487. Max Consecutive Ones II
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given a binary array
       <code>
        nums
       </code>
       , return
       <em>
        the maximum number of consecutive
       </em>
       <code>
        1
       </code>
       <em>
        's in the array if you can flip at most one
       </em>
       <code>
        0
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> nums = [1,0,1,1,0]
<strong>Output:</strong> 4
<strong>Explanation:</strong> 
- If we flip the first zero, nums becomes [1,1,1,1,0] and we have 4 consecutive ones.
- If we flip the second zero, nums becomes [1,0,1,1,1] and we have 3 consecutive ones.
The max number of consecutive ones is 4.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> nums = [1,0,1,1,0,1]
<strong>Output:</strong> 4
<strong>Explanation:</strong> 
- If we flip the first zero, nums becomes [1,1,1,1,0,1] and we have 4 consecutive ones.
- If we flip the second zero, nums becomes [1,0,1,1,1,1] and we have 4 consecutive ones.
The max number of consecutive ones is 4.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= nums.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         nums[i]
        </code>
        is either
        <code>
         0
        </code>
        or
        <code>
         1
        </code>
        .
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong>
        Follow up:
       </strong>
       What if the input numbers come in one by one as an infinite stream? In other words, you can't store all numbers coming from the stream as it's too large to hold in memory. Could you solve it efficiently?
      </p>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       Suppose the problem statement allows for up to
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       flips of zeroes to ones. In such scenarios, adopting a versatile solution becomes paramount for addressing this variant efficiently. The strategy involves maintaining a sliding window
       <code class="language-plaintext highlighter-rouge">
        [left, right]
       </code>
       that encompasses at most
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       zeroes. Hereâs an enhanced explanation:
      </p>
      <ul>
       <li>
        <p>
         <strong>
          Sliding Window
         </strong>
         : Utilize a dynamic window
         <code class="language-plaintext highlighter-rouge">
          [left, right]
         </code>
         to traverse through the array. This window expands or contracts based on the condition related to zeroes within it.
        </p>
       </li>
       <li>
        <p>
         <strong>
          Handling Zeroes
         </strong>
         : As the window encounters a zero, increment a counter that tracks the number of zeroes (
         <code class="language-plaintext highlighter-rouge">
          zeroCount
         </code>
         ). Subsequently, evaluate whether
         <code class="language-plaintext highlighter-rouge">
          zeroCount
         </code>
         exceeds
         <code class="language-plaintext highlighter-rouge">
          k
         </code>
         .
        </p>
        <ul>
         <li>
          If
          <code class="language-plaintext highlighter-rouge">
           zeroCount
          </code>
          is greater than
          <code class="language-plaintext highlighter-rouge">
           k
          </code>
          , it necessitates shifting the
          <code class="language-plaintext highlighter-rouge">
           left
          </code>
          boundary of the window to the right to exclude a zero and thereby maintain the constraint of at most
          <code class="language-plaintext highlighter-rouge">
           k
          </code>
          zeroes within the window. Should the element being excluded (
          <code class="language-plaintext highlighter-rouge">
           nums[left]
          </code>
          ) be a zero, decrement
          <code class="language-plaintext highlighter-rouge">
           zeroCount
          </code>
          by one.
         </li>
         <li>
          Conversely, if
          <code class="language-plaintext highlighter-rouge">
           zeroCount
          </code>
          does not exceed
          <code class="language-plaintext highlighter-rouge">
           k
          </code>
          , leverage the current window size to potentially update the result (
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          ), signifying the maximum length of subarray achievable under the flipping constraint.
         </li>
        </ul>
       </li>
      </ul>
      <h3 id="follow-up">
       Follow-up
      </h3>
      <p>
       In follow-up scenarios where direct access to prior elements via
       <code class="language-plaintext highlighter-rouge">
        nums[left]
       </code>
       may not suffice or be efficient, an alternative approach is advocated:
      </p>
      <ul>
       <li>
        <strong>
         Zeroes Position Queue
        </strong>
        : Maintain a queue to record the positions of encountered zeroes. This queue becomes instrumental in precisely determining the next position to which the
        <code class="language-plaintext highlighter-rouge">
         left
        </code>
        boundary should shift when the window needs to exclude a zero to adhere to the
        <code class="language-plaintext highlighter-rouge">
         k
        </code>
        flips constraint.
       </li>
      </ul>
      <p>
       This queue-based approach ensures that adjustments to the windowâs
       <code class="language-plaintext highlighter-rouge">
        left
       </code>
       boundary are made with full knowledge of zeroesâ positions, thus optimizing window adjustments and maintaining the integrity of the
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       flips constraint.
      </p>
      <h3 id="summary">
       Summary
      </h3>
      <p>
       The refined solution not only caters to the basic requirement of flipping up to
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       zeroes but also elegantly addresses more complex scenarios presented in follow-up questions. By systematically managing the sliding window and accurately tracking zeroesâ positions, this approach offers a robust and scalable solution to variants of the original problem.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#ea9547ba-fef6-4f9f-961f-28692c3ed11c'}">
       <li class="uk-active">
        <a href="solution-487.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-487.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-487.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-487.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-487.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-487.html">
         Javascript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="ea9547ba-fef6-4f9f-961f-28692c3ed11c">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findMaxConsecutiveOnes</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">r</span><span class="o">++]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="o">--</span><span class="n">k</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="o">[</span><span class="n">l</span><span class="o">++]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="o">++</span><span class="n">k</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">findMaxConsecutiveOnes</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">r</span><span class="o">++</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">--</span><span class="n">k</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">l</span><span class="o">++</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">++</span><span class="n">k</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findMaxConsecutiveOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">res</span><span class="p">,</span> <span class="n">zero</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">zero</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">zero</span> <span class="o">&gt;</span> <span class="n">k</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">zero</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># max-check every for iteration
</span>
        <span class="k">return</span> <span class="n">res</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span> <span class="c1"># followup, extra space
</span>    <span class="k">def</span> <span class="nf">findMaxConsecutiveOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">res</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">k</span><span class="p">:</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># max-check every for iteration
</span>
        <span class="k">return</span> <span class="n">res</span>

<span class="c1">############
</span>
<span class="c1"># maintain a sliding window of size 2, that keeps track of the counts.
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span> <span class="c1"># follow up, optimized
</span>    <span class="k">def</span> <span class="nf">findMaxConsecutiveOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Count of consecutive ones
</span>        <span class="n">prev_count</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Count of consecutive ones before a zero
</span>        <span class="n">max_count</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Maximum count of consecutive ones
</span>
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">prev_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">=</span> <span class="n">prev_count</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">prev_count</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">max_count</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_count</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>

            <span class="c1"># Reset the count and prev_count if we encounter two zeros in a row
</span>            <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">prev_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">prev_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">max_count</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findMaxConsecutiveOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">l</span> <span class="o">=</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">k</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">lastCount</span> <span class="o">=</span> <span class="mi">0</span>

  <span class="k">def</span> <span class="nf">findMaxConsecutiveOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">):</span>
    <span class="s">"""
    :type nums: List[int]
    :rtype: int
    """</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">readNum</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>  <span class="c1"># stream the input
</span>    <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">ans</span>

  <span class="k">def</span> <span class="nf">readNum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
    <span class="s">"""
    :type nums: int
    """</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">count</span> <span class="o">-</span> <span class="bp">self</span><span class="p">.</span><span class="n">lastCount</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">lastCount</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">count</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">ans</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">count</span><span class="p">)</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">findMaxConsecutiveOnes</span><span class="p">(</span><span class="n">nums</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span>
	<span class="n">k</span> <span class="o">:=</span> <span class="m">1</span>
	<span class="k">for</span> <span class="p">;</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span> <span class="n">r</span><span class="o">++</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
			<span class="n">k</span><span class="o">--</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
				<span class="n">k</span><span class="o">++</span>
			<span class="p">}</span>
			<span class="n">l</span><span class="o">++</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">findMaxConsecutiveOnes</span><span class="p">(</span><span class="nx">nums</span><span class="p">:</span> <span class="kr">number</span><span class="p">[]):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">l</span><span class="p">,</span> <span class="nx">cnt</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">x</span> <span class="k">of</span> <span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">cnt</span> <span class="o">+=</span> <span class="nx">x</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">cnt</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">cnt</span> <span class="o">-=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">l</span><span class="o">++</span><span class="p">]</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">l</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-js highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * @param {number[]} nums
 * @return {number}
 */</span>
<span class="kd">var</span> <span class="nx">findMaxConsecutiveOnes</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">l</span><span class="p">,</span> <span class="nx">cnt</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">x</span> <span class="k">of</span> <span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">cnt</span> <span class="o">+=</span> <span class="nx">x</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">cnt</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">cnt</span> <span class="o">-=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">l</span><span class="o">++</span><span class="p">]</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">l</span><span class="p">;</span>
<span class="p">};</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-487.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
