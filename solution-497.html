<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-497.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-497.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>497 - Random Point in Non-overlapping Rectangles</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 497. Random Point in Non-overlapping Rectangles Description You are given an array of non-overlapping axis-aligned rectangles rects where rects[i] = [ai, bi, xi, yi] indicates that (ai, bi) is the bottom-left corner point of the ith rectangle and (xi, yi) is the top-right corner point...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-497.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-497.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-497.html" rel="stylesheet"/>
   <link href="solution-497.html" rel="stylesheet"/>
   <link href="solution-497.html" rel="stylesheet"/>
   <link href="solution-497.html" rel="stylesheet"/>
   <link href="solution-497.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="497 - Random Point in Non-overlapping Rectangles" property="og:title"/>
   <meta content="Leetcode 497. Random Point in Non-overlapping Rectangles Description You are given an array of non-overlapping axis-aligned rectangles rects where rects[i] = [ai, bi, xi, yi] indicates that (ai, bi) is the bottom-left corner point of the ith rectangle and (xi, yi) is the top-right corner point of the ith rectangle. Design an algorithm to pick a random integer point inside the space covered by one of the given rectangles. A point on the perimeter of a rectangle is included in the space covered by the rectangle. Any integer point inside the space covered by one of the given rectangles should be equally likely to be returned. Note that an integer point is a point that has integer coordinates. Implement the Solution class: Solution(int[][] rects) Initializes the object with the given rectangles rects. int[] pick() Returns a random integer point [u, v] inside the space covered by one of the given rectangles. &amp;nbsp; Example 1: Input [&amp;quot;Solution&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;] [[[[-2, -2, 1, 1], [2, 2, 4, 6]]], [], [], [], [], []] Output [null, [1, -2], [1, -1], [-1, -2], [-2, -2], [0, 0]] Explanation Solution solution = new Solution([[-2, -2, 1, 1], [2, 2, 4, 6]]); solution.pick(); // return [1, -2] solution.pick(); // return [1, -1] solution.pick(); // return [-1, -2] solution.pick(); // return [-2, -2] solution.pick(); // return [0, 0] &amp;nbsp; Constraints: 1 &amp;lt;= rects.length &amp;lt;= 100 rects[i].length == 4 -109 &amp;lt;= ai &amp;lt; xi &amp;lt;= 109 -109 &amp;lt;= bi &amp;lt; yi &amp;lt;= 109 xi - ai &amp;lt;= 2000 yi - bi &amp;lt;= 2000 All the rectangles do not overlap. At most 104 calls will be made to pick. Solutions Java C++ Python Go class Solution { private int[] s; private int[][] rects; private Random random = new Random(); public Solution(int[][] rects) { int n = rects.length; s = new int[n + 1]; for (int i = 0; i &amp;lt; n; ++i) { s[i + 1] = s[i] + (rects[i][2] - rects[i][0] + 1) * (rects[i][3] - rects[i][1] + 1); } this.rects = rects; } public int[] pick() { int n = rects.length; int v = 1 + random.nextInt(s[n]); int left = 0, right = n; while (left &amp;lt; right) { int mid = (left + right) &amp;gt;&amp;gt; 1; if (s[mid] &amp;gt;= v) { right = mid; } else { left = mid + 1; } } int[] rect = rects[left - 1]; return new int[] {rect[0] + random.nextInt(rect[2] - rect[0] + 1), rect[1] + random.nextInt(rect[3] - rect[1] + 1)}; } } /** * Your Solution object will be instantiated and called as such: * Solution obj = new Solution(rects); * int[] param_1 = obj.pick(); */ class Solution { public: vector&amp;lt;int&amp;gt; s; vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; rects; Solution(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; rects) { int n = rects.size(); s.resize(n + 1); for (int i = 0; i &amp;lt; n; ++i) s[i + 1] = s[i] + (rects[i][2] - rects[i][0] + 1) * (rects[i][3] - rects[i][1] + 1); this-&amp;gt;rects = rects; srand(time(nullptr)); } vector&amp;lt;int&amp;gt; pick() { int n = rects.size();..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2017-04-10T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2017-04-10-497-Random-Point-in-Non-overlapping-Rectangles/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-497.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="497 - Random Point in Non-overlapping Rectangles" property="twitter:title"/>
   <meta content="Leetcode 497. Random Point in Non-overlapping Rectangles Description You are given an array of non-overlapping axis-aligned rectangles rects where rects[i] = [ai, bi, xi, yi] indicates that (ai, bi) is the bottom-left corner point of the ith rectangle and (xi, yi) is the top-right corner point of the ith rectangle. Design an algorithm to pick a random integer point inside the space covered by one of the given rectangles. A point on the perimeter of a rectangle is included in the space covered by the rectangle. Any integer point inside the space covered by one of the given rectangles should be equally likely to be returned. Note that an integer point is a point that has integer coordinates. Implement the Solution class: Solution(int[][] rects) Initializes the object with the given rectangles rects. int[] pick() Returns a random integer point [u, v] inside the space covered by one of the given rectangles. &amp;nbsp; Example 1: Input [&amp;quot;Solution&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;, &amp;quot;pick&amp;quot;] [[[[-2, -2, 1, 1], [2, 2, 4, 6]]], [], [], [], [], []] Output [null, [1, -2], [1, -1], [-1, -2], [-2, -2], [0, 0]] Explanation Solution solution = new Solution([[-2, -2, 1, 1], [2, 2, 4, 6]]); solution.pick(); // return [1, -2] solution.pick(); // return [1, -1] solution.pick(); // return [-1, -2] solution.pick(); // return [-2, -2] solution.pick(); // return [0, 0] &amp;nbsp; Constraints: 1 &amp;lt;= rects.length &amp;lt;= 100 rects[i].length == 4 -109 &amp;lt;= ai &amp;lt; xi &amp;lt;= 109 -109 &amp;lt;= bi &amp;lt; yi &amp;lt;= 109 xi - ai &amp;lt;= 2000 yi - bi &amp;lt;= 2000 All the rectangles do not overlap. At most 104 calls will be made to pick. Solutions Java C++ Python Go class Solution { private int[] s; private int[][] rects; private Random random = new Random(); public Solution(int[][] rects) { int n = rects.length; s = new int[n + 1]; for (int i = 0; i &amp;lt; n; ++i) { s[i + 1] = s[i] + (rects[i][2] - rects[i][0] + 1) * (rects[i][3] - rects[i][1] + 1); } this.rects = rects; } public int[] pick() { int n = rects.length; int v = 1 + random.nextInt(s[n]); int left = 0, right = n; while (left &amp;lt; right) { int mid = (left + right) &amp;gt;&amp;gt; 1; if (s[mid] &amp;gt;= v) { right = mid; } else { left = mid + 1; } } int[] rect = rects[left - 1]; return new int[] {rect[0] + random.nextInt(rect[2] - rect[0] + 1), rect[1] + random.nextInt(rect[3] - rect[1] + 1)}; } } /** * Your Solution object will be instantiated and called as such: * Solution obj = new Solution(rects); * int[] param_1 = obj.pick(); */ class Solution { public: vector&amp;lt;int&amp;gt; s; vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; rects; Solution(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; rects) { int n = rects.size(); s.resize(n + 1); for (int i = 0; i &amp;lt; n; ++i) s[i + 1] = s[i] + (rects[i][2] - rects[i][0] + 1) * (rects[i][3] - rects[i][1] + 1); this-&amp;gt;rects = rects; srand(time(nullptr)); } vector&amp;lt;int&amp;gt; pick() { int n = rects.size();..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    497 - Random Point in Non-overlapping Rectangles | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="497 - Random Point in Non-overlapping Rectangles" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-497.html" rel="canonical">
          <meta content="https://leetcode.ca/2017-04-10-497-Random-Point-in-Non-overlapping-Rectangles/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2017-04-10T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"497 - Random Point in Non-overlapping Rectangles","dateModified":"2017-04-10T00:00:00-07:00","datePublished":"2017-04-10T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2017-04-10-497-Random-Point-in-Non-overlapping-Rectangles/"},"url":"https://leetcode.ca/2017-04-10-497-Random-Point-in-Non-overlapping-Rectangles/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="497-random-point-in-non-overlapping-rectangles">
       <a href="solution-497.html">
        497. Random Point in Non-overlapping Rectangles
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are given an array of non-overlapping axis-aligned rectangles
       <code>
        rects
       </code>
       where
       <code>
        rects[i] = [a
        <sub>
         i
        </sub>
        , b
        <sub>
         i
        </sub>
        , x
        <sub>
         i
        </sub>
        , y
        <sub>
         i
        </sub>
        ]
       </code>
       indicates that
       <code>
        (a
        <sub>
         i
        </sub>
        , b
        <sub>
         i
        </sub>
        )
       </code>
       is the bottom-left corner point of the
       <code>
        i
        <sup>
         th
        </sup>
       </code>
       rectangle and
       <code>
        (x
        <sub>
         i
        </sub>
        , y
        <sub>
         i
        </sub>
        )
       </code>
       is the top-right corner point of the
       <code>
        i
        <sup>
         th
        </sup>
       </code>
       rectangle. Design an algorithm to pick a random integer point inside the space covered by one of the given rectangles. A point on the perimeter of a rectangle is included in the space covered by the rectangle.
      </p>
      <p>
       Any integer point inside the space covered by one of the given rectangles should be equally likely to be returned.
      </p>
      <p>
       <strong>
        Note
       </strong>
       that an integer point is a point that has integer coordinates.
      </p>
      <p>
       Implement the
       <code>
        Solution
       </code>
       class:
      </p>
      <ul>
       <li>
        <code>
         Solution(int[][] rects)
        </code>
        Initializes the object with the given rectangles
        <code>
         rects
        </code>
        .
       </li>
       <li>
        <code>
         int[] pick()
        </code>
        Returns a random integer point
        <code>
         [u, v]
        </code>
        inside the space covered by one of the given rectangles.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0400-0499/0497.Random%20Point%20in%20Non-overlapping%20Rectangles/images/lc-pickrandomrec.jpg" style="width: 419px; height: 539px;"/>
      </p>
      <pre>
<strong>Input</strong>
["Solution", "pick", "pick", "pick", "pick", "pick"]
[[[[-2, -2, 1, 1], [2, 2, 4, 6]]], [], [], [], [], []]
<strong>Output</strong>
[null, [1, -2], [1, -1], [-1, -2], [-2, -2], [0, 0]]

<strong>Explanation</strong>
Solution solution = new Solution([[-2, -2, 1, 1], [2, 2, 4, 6]]);
solution.pick(); // return [1, -2]
solution.pick(); // return [1, -1]
solution.pick(); // return [-1, -2]
solution.pick(); // return [-2, -2]
solution.pick(); // return [0, 0]

</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= rects.length &lt;= 100
        </code>
       </li>
       <li>
        <code>
         rects[i].length == 4
        </code>
       </li>
       <li>
        <code>
         -10
         <sup>
          9
         </sup>
         &lt;= a
         <sub>
          i
         </sub>
         &lt; x
         <sub>
          i
         </sub>
         &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        <code>
         -10
         <sup>
          9
         </sup>
         &lt;= b
         <sub>
          i
         </sub>
         &lt; y
         <sub>
          i
         </sub>
         &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        <code>
         x
         <sub>
          i
         </sub>
         - a
         <sub>
          i
         </sub>
         &lt;= 2000
        </code>
       </li>
       <li>
        <code>
         y
         <sub>
          i
         </sub>
         - b
         <sub>
          i
         </sub>
         &lt;= 2000
        </code>
       </li>
       <li>
        All the rectangles do not overlap.
       </li>
       <li>
        At most
        <code>
         10
         <sup>
          4
         </sup>
        </code>
        calls will be made to
        <code>
         pick
        </code>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <ul class="uk-tab" data-uk-switcher="{connect:'#2686afba-5001-4c4a-8a4a-aa30262665ed'}">
       <li class="uk-active">
        <a href="solution-497.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-497.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-497.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-497.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="2686afba-5001-4c4a-8a4a-aa30262665ed">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">s</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">rects</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Random</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span>

    <span class="kd">public</span> <span class="nf">Solution</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">rects</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">rects</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">s</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="o">(</span><span class="n">rects</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">2</span><span class="o">]</span> <span class="o">-</span> <span class="n">rects</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">rects</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">3</span><span class="o">]</span> <span class="o">-</span> <span class="n">rects</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rects</span> <span class="o">=</span> <span class="n">rects</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">pick</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">rects</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">s</span><span class="o">[</span><span class="n">n</span><span class="o">]);</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="o">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">[</span><span class="n">mid</span><span class="o">]</span> <span class="o">&gt;=</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">rect</span> <span class="o">=</span> <span class="n">rects</span><span class="o">[</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
        <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">rect</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">rect</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">-</span> <span class="n">rect</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">),</span>
            <span class="n">rect</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">rect</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">-</span> <span class="n">rect</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)};</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your Solution object will be instantiated and called as such:
 * Solution obj = new Solution(rects);
 * int[] param_1 = obj.pick();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">rects</span><span class="p">;</span>

    <span class="n">Solution</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">rects</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">rects</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">s</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">rects</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">rects</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">rects</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="n">rects</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">rects</span> <span class="o">=</span> <span class="n">rects</span><span class="p">;</span>
        <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">nullptr</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">pick</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">rects</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">lower_bound</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span> <span class="o">-</span> <span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
        <span class="k">auto</span><span class="o">&amp;</span> <span class="n">rect</span> <span class="o">=</span> <span class="n">rects</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">rect</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="p">(</span><span class="n">rect</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">rect</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">rect</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="p">(</span><span class="n">rect</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="n">rect</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">};</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
 * Your Solution object will be instantiated and called as such:
 * Solution* obj = new Solution(rects);
 * vector&lt;int&gt; param_1 = obj-&gt;pick();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rects</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rects</span> <span class="o">=</span> <span class="n">rects</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">rects</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rects</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pick</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">bisect_left</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">rects</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">)]</span>


<span class="c1"># Your Solution object will be instantiated and called as such:
# obj = Solution(rects)
# param_1 = obj.pick()
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">Solution</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">s</span>     <span class="p">[]</span><span class="kt">int</span>
	<span class="n">rects</span> <span class="p">[][]</span><span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Constructor</span><span class="p">(</span><span class="n">rects</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="n">Solution</span> <span class="p">{</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rects</span><span class="p">)</span>
	<span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">rects</span> <span class="p">{</span>
		<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">Solution</span><span class="p">{</span><span class="n">s</span><span class="p">,</span> <span class="n">rects</span><span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">Solution</span><span class="p">)</span> <span class="n">Pick</span><span class="p">()</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">rects</span><span class="p">)</span>
	<span class="n">v</span> <span class="o">:=</span> <span class="m">1</span> <span class="o">+</span> <span class="n">rand</span><span class="o">.</span><span class="n">Intn</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">])</span>
	<span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="n">n</span>
	<span class="k">for</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="p">{</span>
		<span class="n">mid</span> <span class="o">:=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="m">1</span>
		<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">v</span> <span class="p">{</span>
			<span class="n">right</span> <span class="o">=</span> <span class="n">mid</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="m">1</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">rect</span> <span class="o">:=</span> <span class="n">this</span><span class="o">.</span><span class="n">rects</span><span class="p">[</span><span class="n">left</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
	<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">rect</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">+</span><span class="n">rand</span><span class="o">.</span><span class="n">Intn</span><span class="p">(</span><span class="n">rect</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">-</span><span class="n">rect</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">+</span><span class="m">1</span><span class="p">),</span> <span class="n">rect</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">+</span><span class="n">rand</span><span class="o">.</span><span class="n">Intn</span><span class="p">(</span><span class="n">rect</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">-</span><span class="n">rect</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-497.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
