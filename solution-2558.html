<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-2558.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-2558.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>2558 - Take Gifts From the Richest Pile</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 2558. Take Gifts From the Richest Pile Description You are given an integer array gifts denoting the number of gifts in various piles. Every second, you do the following: Choose the pile with the maximum number of gifts. If there is more than one pile...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-2558.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-2558.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-2558.html" rel="stylesheet"/>
   <link href="solution-2558.html" rel="stylesheet"/>
   <link href="solution-2558.html" rel="stylesheet"/>
   <link href="solution-2558.html" rel="stylesheet"/>
   <link href="solution-2558.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="2558 - Take Gifts From the Richest Pile" property="og:title"/>
   <meta content="Leetcode 2558. Take Gifts From the Richest Pile Description You are given an integer array gifts denoting the number of gifts in various piles. Every second, you do the following: Choose the pile with the maximum number of gifts. If there is more than one pile with the maximum number of gifts, choose any. Leave behind the floor of the square root of the number of gifts in the pile. Take the rest of the gifts. Return the number of gifts remaining after k seconds. &amp;nbsp; Example 1: Input: gifts = [25,64,9,4,100], k = 4 Output: 29 Explanation: The gifts are taken in the following way: - In the first second, the last pile is chosen and 10 gifts are left behind. - Then the second pile is chosen and 8 gifts are left behind. - After that the first pile is chosen and 5 gifts are left behind. - Finally, the last pile is chosen again and 3 gifts are left behind. The final remaining gifts are [5,8,9,4,3], so the total number of gifts remaining is 29. Example 2: Input: gifts = [1,1,1,1], k = 4 Output: 4 Explanation: In this case, regardless which pile you choose, you have to leave behind 1 gift in each pile. That is, you can&amp;#39;t take any pile with you. So, the total gifts remaining are 4. &amp;nbsp; Constraints: 1 &amp;lt;= gifts.length &amp;lt;= 103 1 &amp;lt;= gifts[i] &amp;lt;= 109 1 &amp;lt;= k &amp;lt;= 103 Solutions Solution 1: Priority Queue (Max Heap) We can store the array $gifts$ in a max heap, and then loop $k$ times, each time taking out the top element of the heap, taking the square root of it, and putting the result back into the heap. Finally, we add up all the elements in the heap as the answer. The time complexity is $O(n + k \times \log n)$, and the space complexity is $O(n)$. Here, $n$ is the length of the array $gifts$. Java C++ Python Go TypeScript RenderScript class Solution { public long pickGifts(int[] gifts, int k) { PriorityQueue&amp;lt;Integer&amp;gt; pq = new PriorityQueue&amp;lt;&amp;gt;((a, b) -&amp;gt; b - a); for (int v : gifts) { pq.offer(v); } while (k-- &amp;gt; 0) { pq.offer((int) Math.sqrt(pq.poll())); } long ans = 0; for (int v : pq) { ans += v; } return ans; } } class Solution { public: long long pickGifts(vector&amp;lt;int&amp;gt;&amp;amp; gifts, int k) { make_heap(gifts.begin(), gifts.end()); while (k--) { pop_heap(gifts.begin(), gifts.end()); gifts.back() = sqrt(gifts.back()); push_heap(gifts.begin(), gifts.end()); } return accumulate(gifts.begin(), gifts.end(), 0LL); } }; class Solution: def pickGifts(self, gifts: List[int], k: int) -&amp;gt; int: h = [-v for v in gifts] heapify(h) for _ in range(k): heapreplace(h, -int(sqrt(-h[0]))) return -sum(h) func pickGifts(gifts []int, k int) (ans int64) { h := &amp;amp;hp{gifts} heap.Init(h) for ; k &amp;gt; 0; k-- { gifts[0] = int(math.Sqrt(float64(gifts[0]))) heap.Fix(h, 0) } for _, x := range gifts { ans += int64(x) } return } type hp struct{ sort.IntSlice } func (h hp) Less(i, j int) bool { return h.IntSlice[i] &amp;gt; h.IntSlice[j]..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2022-12-01T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2022-12-01-2558-Take-Gifts-From-the-Richest-Pile/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-2558.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="2558 - Take Gifts From the Richest Pile" property="twitter:title"/>
   <meta content="Leetcode 2558. Take Gifts From the Richest Pile Description You are given an integer array gifts denoting the number of gifts in various piles. Every second, you do the following: Choose the pile with the maximum number of gifts. If there is more than one pile with the maximum number of gifts, choose any. Leave behind the floor of the square root of the number of gifts in the pile. Take the rest of the gifts. Return the number of gifts remaining after k seconds. &amp;nbsp; Example 1: Input: gifts = [25,64,9,4,100], k = 4 Output: 29 Explanation: The gifts are taken in the following way: - In the first second, the last pile is chosen and 10 gifts are left behind. - Then the second pile is chosen and 8 gifts are left behind. - After that the first pile is chosen and 5 gifts are left behind. - Finally, the last pile is chosen again and 3 gifts are left behind. The final remaining gifts are [5,8,9,4,3], so the total number of gifts remaining is 29. Example 2: Input: gifts = [1,1,1,1], k = 4 Output: 4 Explanation: In this case, regardless which pile you choose, you have to leave behind 1 gift in each pile. That is, you can&amp;#39;t take any pile with you. So, the total gifts remaining are 4. &amp;nbsp; Constraints: 1 &amp;lt;= gifts.length &amp;lt;= 103 1 &amp;lt;= gifts[i] &amp;lt;= 109 1 &amp;lt;= k &amp;lt;= 103 Solutions Solution 1: Priority Queue (Max Heap) We can store the array $gifts$ in a max heap, and then loop $k$ times, each time taking out the top element of the heap, taking the square root of it, and putting the result back into the heap. Finally, we add up all the elements in the heap as the answer. The time complexity is $O(n + k \times \log n)$, and the space complexity is $O(n)$. Here, $n$ is the length of the array $gifts$. Java C++ Python Go TypeScript RenderScript class Solution { public long pickGifts(int[] gifts, int k) { PriorityQueue&amp;lt;Integer&amp;gt; pq = new PriorityQueue&amp;lt;&amp;gt;((a, b) -&amp;gt; b - a); for (int v : gifts) { pq.offer(v); } while (k-- &amp;gt; 0) { pq.offer((int) Math.sqrt(pq.poll())); } long ans = 0; for (int v : pq) { ans += v; } return ans; } } class Solution { public: long long pickGifts(vector&amp;lt;int&amp;gt;&amp;amp; gifts, int k) { make_heap(gifts.begin(), gifts.end()); while (k--) { pop_heap(gifts.begin(), gifts.end()); gifts.back() = sqrt(gifts.back()); push_heap(gifts.begin(), gifts.end()); } return accumulate(gifts.begin(), gifts.end(), 0LL); } }; class Solution: def pickGifts(self, gifts: List[int], k: int) -&amp;gt; int: h = [-v for v in gifts] heapify(h) for _ in range(k): heapreplace(h, -int(sqrt(-h[0]))) return -sum(h) func pickGifts(gifts []int, k int) (ans int64) { h := &amp;amp;hp{gifts} heap.Init(h) for ; k &amp;gt; 0; k-- { gifts[0] = int(math.Sqrt(float64(gifts[0]))) heap.Fix(h, 0) } for _, x := range gifts { ans += int64(x) } return } type hp struct{ sort.IntSlice } func (h hp) Less(i, j int) bool { return h.IntSlice[i] &amp;gt; h.IntSlice[j]..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    2558 - Take Gifts From the Richest Pile | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="2558 - Take Gifts From the Richest Pile" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-2558.html" rel="canonical">
          <meta content="https://leetcode.ca/2022-12-01-2558-Take-Gifts-From-the-Richest-Pile/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2022-12-01T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"2558 - Take Gifts From the Richest Pile","dateModified":"2022-12-01T00:00:00-08:00","datePublished":"2022-12-01T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2022-12-01-2558-Take-Gifts-From-the-Richest-Pile/"},"url":"https://leetcode.ca/2022-12-01-2558-Take-Gifts-From-the-Richest-Pile/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="2558-take-gifts-from-the-richest-pile">
       <a href="solution-2558.html">
        2558. Take Gifts From the Richest Pile
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are given an integer array
       <code>
        gifts
       </code>
       denoting the number of gifts in various piles. Every second, you do the following:
      </p>
      <ul>
       <li>
        Choose the pile with the maximum number of gifts.
       </li>
       <li>
        If there is more than one pile with the maximum number of gifts, choose any.
       </li>
       <li>
        Leave behind the floor of the square root of the number of gifts in the pile. Take the rest of the gifts.
       </li>
      </ul>
      <p>
       Return
       <em>
        the number of gifts remaining after
       </em>
       <code>
        k
       </code>
       <em>
        seconds.
       </em>
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> gifts = [25,64,9,4,100], k = 4
<strong>Output:</strong> 29
<strong>Explanation:</strong> 
The gifts are taken in the following way:
- In the first second, the last pile is chosen and 10 gifts are left behind.
- Then the second pile is chosen and 8 gifts are left behind.
- After that the first pile is chosen and 5 gifts are left behind.
- Finally, the last pile is chosen again and 3 gifts are left behind.
The final remaining gifts are [5,8,9,4,3], so the total number of gifts remaining is 29.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> gifts = [1,1,1,1], k = 4
<strong>Output:</strong> 4
<strong>Explanation:</strong> 
In this case, regardless which pile you choose, you have to leave behind 1 gift in each pile. 
That is, you can't take any pile with you. 
So, the total gifts remaining are 4.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= gifts.length &lt;= 10
         <sup>
          3
         </sup>
        </code>
       </li>
       <li>
        <code>
         1 &lt;= gifts[i] &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        <code>
         1 &lt;= k &lt;= 10
         <sup>
          3
         </sup>
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Priority Queue (Max Heap)
       </strong>
      </p>
      <p>
       We can store the array $gifts$ in a max heap, and then loop $k$ times, each time taking out the top element of the heap, taking the square root of it, and putting the result back into the heap.
      </p>
      <p>
       Finally, we add up all the elements in the heap as the answer.
      </p>
      <p>
       The time complexity is $O(n + k \times \log n)$, and the space complexity is $O(n)$. Here, $n$ is the length of the array $gifts$.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#b875c203-6fb9-43ce-80f1-809d9c441339'}">
       <li class="uk-active">
        <a href="solution-2558.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-2558.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-2558.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-2558.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-2558.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-2558.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="b875c203-6fb9-43ce-80f1-809d9c441339">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">pickGifts</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">gifts</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">pq</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PriorityQueue</span><span class="o">&lt;&gt;((</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">v</span> <span class="o">:</span> <span class="n">gifts</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">pq</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">v</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">k</span><span class="o">--</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">pq</span><span class="o">.</span><span class="na">offer</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">pq</span><span class="o">.</span><span class="na">poll</span><span class="o">()));</span>
        <span class="o">}</span>
        <span class="kt">long</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">v</span> <span class="o">:</span> <span class="n">pq</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">v</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">pickGifts</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">gifts</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">make_heap</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gifts</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">k</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">pop_heap</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gifts</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
            <span class="n">gifts</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">back</span><span class="p">());</span>
            <span class="n">push_heap</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gifts</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">accumulate</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">gifts</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">0LL</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pickGifts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gifts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">gifts</span><span class="p">]</span>
        <span class="n">heapify</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="n">heapreplace</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="nb">int</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
        <span class="k">return</span> <span class="o">-</span><span class="nb">sum</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">pickGifts</span><span class="p">(</span><span class="n">gifts</span> <span class="p">[]</span><span class="kt">int</span><span class="p">,</span> <span class="n">k</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">ans</span> <span class="kt">int64</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">h</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">hp</span><span class="p">{</span><span class="n">gifts</span><span class="p">}</span>
	<span class="n">heap</span><span class="o">.</span><span class="n">Init</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
	<span class="k">for</span> <span class="p">;</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="o">--</span> <span class="p">{</span>
		<span class="n">gifts</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="kt">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">Sqrt</span><span class="p">(</span><span class="kt">float64</span><span class="p">(</span><span class="n">gifts</span><span class="p">[</span><span class="m">0</span><span class="p">])))</span>
		<span class="n">heap</span><span class="o">.</span><span class="n">Fix</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">x</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">gifts</span> <span class="p">{</span>
		<span class="n">ans</span> <span class="o">+=</span> <span class="kt">int64</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">hp</span> <span class="k">struct</span><span class="p">{</span> <span class="n">sort</span><span class="o">.</span><span class="n">IntSlice</span> <span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">h</span> <span class="n">hp</span><span class="p">)</span> <span class="n">Less</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span> <span class="k">return</span> <span class="n">h</span><span class="o">.</span><span class="n">IntSlice</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">h</span><span class="o">.</span><span class="n">IntSlice</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">hp</span><span class="p">)</span> <span class="n">Pop</span><span class="p">()</span> <span class="p">(</span><span class="n">_</span> <span class="n">any</span><span class="p">)</span>         <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">hp</span><span class="p">)</span> <span class="n">Push</span><span class="p">(</span><span class="n">any</span><span class="p">)</span>             <span class="p">{}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">pickGifts</span><span class="p">(</span><span class="nx">gifts</span><span class="p">:</span> <span class="kr">number</span><span class="p">[],</span> <span class="nx">k</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">pq</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MaxPriorityQueue</span><span class="p">();</span>
    <span class="nx">gifts</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">pq</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">k</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">pq</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">().</span><span class="nx">element</span><span class="p">;</span>
        <span class="nx">v</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span>
        <span class="nx">pq</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nx">pq</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span> <span class="p">{</span>
        <span class="nx">ans</span> <span class="o">+=</span> <span class="nx">pq</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">().</span><span class="nx">element</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">pick_gifts</span><span class="p">(</span><span class="n">gifts</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">i32</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">i64</span> <span class="p">{</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">std</span><span class="p">::</span><span class="nn">collections</span><span class="p">::</span><span class="nn">BinaryHeap</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span><span class="n">gifts</span><span class="p">);</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..</span><span class="n">k</span> <span class="p">{</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nf">Some</span><span class="p">(</span><span class="k">mut</span> <span class="n">max_gift</span><span class="p">)</span> <span class="o">=</span> <span class="n">h</span><span class="nf">.pop</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">max_gift</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_gift</span> <span class="k">as</span> <span class="nb">f64</span><span class="p">)</span><span class="nf">.sqrt</span><span class="p">()</span><span class="nf">.floor</span><span class="p">()</span> <span class="k">as</span> <span class="nb">i32</span><span class="p">;</span>
                <span class="n">h</span><span class="nf">.push</span><span class="p">(</span><span class="n">max_gift</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">x</span> <span class="k">in</span> <span class="n">h</span> <span class="p">{</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">x</span> <span class="k">as</span> <span class="nb">i64</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">ans</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-2558.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
