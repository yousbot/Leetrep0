<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-847.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-847.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>847 - Shortest Path Visiting All Nodes</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 847. Shortest Path Visiting All Nodes Description You have an undirected, connected graph of n nodes labeled from 0 to n - 1. You are given an array graph where graph[i] is a list of all the nodes connected with node i by an edge....">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-847.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-847.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-847.html" rel="stylesheet"/>
   <link href="solution-847.html" rel="stylesheet"/>
   <link href="solution-847.html" rel="stylesheet"/>
   <link href="solution-847.html" rel="stylesheet"/>
   <link href="solution-847.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="847 - Shortest Path Visiting All Nodes" property="og:title"/>
   <meta content="Leetcode 847. Shortest Path Visiting All Nodes Description You have an undirected, connected graph of n nodes labeled from 0 to n - 1. You are given an array graph where graph[i] is a list of all the nodes connected with node i by an edge. Return the length of the shortest path that visits every node. You may start and stop at any node, you may revisit nodes multiple times, and you may reuse edges. &amp;nbsp; Example 1: Input: graph = [[1,2,3],[0],[0],[0]] Output: 4 Explanation: One possible path is [1,0,2,0,3] Example 2: Input: graph = [[1],[0,2,4],[1,3,4],[2],[1,2]] Output: 4 Explanation: One possible path is [0,1,4,2,3] &amp;nbsp; Constraints: n == graph.length 1 &amp;lt;= n &amp;lt;= 12 0 &amp;lt;= graph[i].length &amp;lt;&amp;nbsp;n graph[i] does not contain i. If graph[a] contains b, then graph[b] contains a. The input graph is always connected. Solutions Because each edge has the same weight, the shortest path can be solution by using BFS, and the access of the point can be recorded by state compression. Java C++ Python Go TypeScript RenderScript class Solution { public int shortestPathLength(int[][] graph) { int n = graph.length; Deque&amp;lt;int[]&amp;gt; q = new ArrayDeque&amp;lt;&amp;gt;(); boolean[][] vis = new boolean[n][1 &amp;lt;&amp;lt; n]; for (int i = 0; i &amp;lt; n; ++i) { q.offer(new int[] {i, 1 &amp;lt;&amp;lt; i}); vis[i][1 &amp;lt;&amp;lt; i] = true; } for (int ans = 0;; ++ans) { for (int k = q.size(); k &amp;gt; 0; --k) { var p = q.poll(); int i = p[0], st = p[1]; if (st == (1 &amp;lt;&amp;lt; n) - 1) { return ans; } for (int j : graph[i]) { int nst = st | 1 &amp;lt;&amp;lt; j; if (!vis[j][nst]) { vis[j][nst] = true; q.offer(new int[] {j, nst}); } } } } } } class Solution { public: int shortestPathLength(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; graph) { int n = graph.size(); queue&amp;lt;pair&amp;lt;int, int&amp;gt;&amp;gt; q; bool vis[n][1 &amp;lt;&amp;lt; n]; memset(vis, false, sizeof(vis)); for (int i = 0; i &amp;lt; n; ++i) { q.emplace(i, 1 &amp;lt;&amp;lt; i); vis[i][1 &amp;lt;&amp;lt; i] = true; } for (int ans = 0;; ++ans) { for (int k = q.size(); k; --k) { auto [i, st] = q.front(); q.pop(); if (st == (1 &amp;lt;&amp;lt; n) - 1) { return ans; } for (int j : graph[i]) { int nst = st | 1 &amp;lt;&amp;lt; j; if (!vis[j][nst]) { vis[j][nst] = true; q.emplace(j, nst); } } } } } }; class Solution: def shortestPathLength(self, graph: List[List[int]]) -&amp;gt; int: n = len(graph) q = deque() vis = set() for i in range(n): q.append((i, 1 &amp;lt;&amp;lt; i)) vis.add((i, 1 &amp;lt;&amp;lt; i)) ans = 0 while 1: for _ in range(len(q)): i, st = q.popleft() if st == (1 &amp;lt;&amp;lt; n) - 1: return ans for j in graph[i]: nst = st | 1 &amp;lt;&amp;lt; j if (j, nst) not in vis: vis.add((j, nst)) q.append((j, nst)) ans += 1 func shortestPathLength(graph [][]int) int { n := len(graph) q := [][2]int{} vis := make([][]bool, n) for i := range vis { vis[i] = make([]bool, 1&amp;lt;&amp;lt;n) vis[i][1&amp;lt;&amp;lt;i] = true..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2018-03-26T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2018-03-26-847-Shortest-Path-Visiting-All-Nodes/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-847.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="847 - Shortest Path Visiting All Nodes" property="twitter:title"/>
   <meta content="Leetcode 847. Shortest Path Visiting All Nodes Description You have an undirected, connected graph of n nodes labeled from 0 to n - 1. You are given an array graph where graph[i] is a list of all the nodes connected with node i by an edge. Return the length of the shortest path that visits every node. You may start and stop at any node, you may revisit nodes multiple times, and you may reuse edges. &amp;nbsp; Example 1: Input: graph = [[1,2,3],[0],[0],[0]] Output: 4 Explanation: One possible path is [1,0,2,0,3] Example 2: Input: graph = [[1],[0,2,4],[1,3,4],[2],[1,2]] Output: 4 Explanation: One possible path is [0,1,4,2,3] &amp;nbsp; Constraints: n == graph.length 1 &amp;lt;= n &amp;lt;= 12 0 &amp;lt;= graph[i].length &amp;lt;&amp;nbsp;n graph[i] does not contain i. If graph[a] contains b, then graph[b] contains a. The input graph is always connected. Solutions Because each edge has the same weight, the shortest path can be solution by using BFS, and the access of the point can be recorded by state compression. Java C++ Python Go TypeScript RenderScript class Solution { public int shortestPathLength(int[][] graph) { int n = graph.length; Deque&amp;lt;int[]&amp;gt; q = new ArrayDeque&amp;lt;&amp;gt;(); boolean[][] vis = new boolean[n][1 &amp;lt;&amp;lt; n]; for (int i = 0; i &amp;lt; n; ++i) { q.offer(new int[] {i, 1 &amp;lt;&amp;lt; i}); vis[i][1 &amp;lt;&amp;lt; i] = true; } for (int ans = 0;; ++ans) { for (int k = q.size(); k &amp;gt; 0; --k) { var p = q.poll(); int i = p[0], st = p[1]; if (st == (1 &amp;lt;&amp;lt; n) - 1) { return ans; } for (int j : graph[i]) { int nst = st | 1 &amp;lt;&amp;lt; j; if (!vis[j][nst]) { vis[j][nst] = true; q.offer(new int[] {j, nst}); } } } } } } class Solution { public: int shortestPathLength(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; graph) { int n = graph.size(); queue&amp;lt;pair&amp;lt;int, int&amp;gt;&amp;gt; q; bool vis[n][1 &amp;lt;&amp;lt; n]; memset(vis, false, sizeof(vis)); for (int i = 0; i &amp;lt; n; ++i) { q.emplace(i, 1 &amp;lt;&amp;lt; i); vis[i][1 &amp;lt;&amp;lt; i] = true; } for (int ans = 0;; ++ans) { for (int k = q.size(); k; --k) { auto [i, st] = q.front(); q.pop(); if (st == (1 &amp;lt;&amp;lt; n) - 1) { return ans; } for (int j : graph[i]) { int nst = st | 1 &amp;lt;&amp;lt; j; if (!vis[j][nst]) { vis[j][nst] = true; q.emplace(j, nst); } } } } } }; class Solution: def shortestPathLength(self, graph: List[List[int]]) -&amp;gt; int: n = len(graph) q = deque() vis = set() for i in range(n): q.append((i, 1 &amp;lt;&amp;lt; i)) vis.add((i, 1 &amp;lt;&amp;lt; i)) ans = 0 while 1: for _ in range(len(q)): i, st = q.popleft() if st == (1 &amp;lt;&amp;lt; n) - 1: return ans for j in graph[i]: nst = st | 1 &amp;lt;&amp;lt; j if (j, nst) not in vis: vis.add((j, nst)) q.append((j, nst)) ans += 1 func shortestPathLength(graph [][]int) int { n := len(graph) q := [][2]int{} vis := make([][]bool, n) for i := range vis { vis[i] = make([]bool, 1&amp;lt;&amp;lt;n) vis[i][1&amp;lt;&amp;lt;i] = true..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    847 - Shortest Path Visiting All Nodes | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="847 - Shortest Path Visiting All Nodes" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-847.html" rel="canonical">
          <meta content="https://leetcode.ca/2018-03-26-847-Shortest-Path-Visiting-All-Nodes/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2018-03-26T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"847 - Shortest Path Visiting All Nodes","dateModified":"2018-03-26T00:00:00-07:00","datePublished":"2018-03-26T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2018-03-26-847-Shortest-Path-Visiting-All-Nodes/"},"url":"https://leetcode.ca/2018-03-26-847-Shortest-Path-Visiting-All-Nodes/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="847-shortest-path-visiting-all-nodes">
       <a href="solution-847.html">
        847. Shortest Path Visiting All Nodes
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You have an undirected, connected graph of
       <code>
        n
       </code>
       nodes labeled from
       <code>
        0
       </code>
       to
       <code>
        n - 1
       </code>
       . You are given an array
       <code>
        graph
       </code>
       where
       <code>
        graph[i]
       </code>
       is a list of all the nodes connected with node
       <code>
        i
       </code>
       by an edge.
      </p>
      <p>
       Return
       <em>
        the length of the shortest path that visits every node
       </em>
       . You may start and stop at any node, you may revisit nodes multiple times, and you may reuse edges.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0800-0899/0847.Shortest%20Path%20Visiting%20All%20Nodes/images/shortest1-graph.jpg" style="width: 222px; height: 183px;"/>
      </p>
      <pre>
<strong>Input:</strong> graph = [[1,2,3],[0],[0],[0]]
<strong>Output:</strong> 4
<strong>Explanation:</strong> One possible path is [1,0,2,0,3]
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0800-0899/0847.Shortest%20Path%20Visiting%20All%20Nodes/images/shortest2-graph.jpg" style="width: 382px; height: 222px;"/>
      </p>
      <pre>
<strong>Input:</strong> graph = [[1],[0,2,4],[1,3,4],[2],[1,2]]
<strong>Output:</strong> 4
<strong>Explanation:</strong> One possible path is [0,1,4,2,3]
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         n == graph.length
        </code>
       </li>
       <li>
        <code>
         1 &lt;= n &lt;= 12
        </code>
       </li>
       <li>
        <code>
         0 &lt;= graph[i].length &lt;Â n
        </code>
       </li>
       <li>
        <code>
         graph[i]
        </code>
        does not contain
        <code>
         i
        </code>
        .
       </li>
       <li>
        If
        <code>
         graph[a]
        </code>
        contains
        <code>
         b
        </code>
        , then
        <code>
         graph[b]
        </code>
        contains
        <code>
         a
        </code>
        .
       </li>
       <li>
        The input graph is always connected.
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       Because each edge has the same weight, the shortest path can be solution by using BFS, and the access of the point can be recorded by state compression.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#0a3f4e0a-79fd-4a6f-8758-c57c8952132c'}">
       <li class="uk-active">
        <a href="solution-847.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-847.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-847.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-847.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-847.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-847.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="0a3f4e0a-79fd-4a6f-8758-c57c8952132c">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">shortestPathLength</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">graph</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
        <span class="kt">boolean</span><span class="o">[][]</span> <span class="n">vis</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">n</span><span class="o">][</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">i</span><span class="o">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="o">});</span>
            <span class="n">vis</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;;</span> <span class="o">++</span><span class="n">ans</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">var</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">st</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">st</span> <span class="o">==</span> <span class="o">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">:</span> <span class="n">graph</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">nst</span> <span class="o">=</span> <span class="n">st</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">j</span><span class="o">;</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="n">vis</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="n">nst</span><span class="o">])</span> <span class="o">{</span>
                        <span class="n">vis</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="n">nst</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                        <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">j</span><span class="o">,</span> <span class="n">nst</span><span class="o">});</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">shortestPathLength</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">graph</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
        <span class="kt">bool</span> <span class="n">vis</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">];</span>
        <span class="n">memset</span><span class="p">(</span><span class="n">vis</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">vis</span><span class="p">));</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">);</span>
            <span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;;</span> <span class="o">++</span><span class="n">ans</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">k</span><span class="p">;</span> <span class="o">--</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">auto</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">st</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
                <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">st</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">:</span> <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">nst</span> <span class="o">=</span> <span class="n">st</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">j</span><span class="p">;</span>
                    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">nst</span><span class="p">])</span> <span class="p">{</span>
                        <span class="n">vis</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">nst</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                        <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">nst</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">shortestPathLength</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
        <span class="n">vis</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">))</span>
            <span class="n">vis</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">))</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)):</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">st</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">st</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">ans</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">nst</span> <span class="o">=</span> <span class="n">st</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">j</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">nst</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vis</span><span class="p">:</span>
                        <span class="n">vis</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">j</span><span class="p">,</span> <span class="n">nst</span><span class="p">))</span>
                        <span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">j</span><span class="p">,</span> <span class="n">nst</span><span class="p">))</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="mi">1</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">shortestPathLength</span><span class="p">(</span><span class="n">graph</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
	<span class="n">q</span> <span class="o">:=</span> <span class="p">[][</span><span class="m">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="n">vis</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][]</span><span class="kt">bool</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">vis</span> <span class="p">{</span>
		<span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">bool</span><span class="p">,</span> <span class="m">1</span><span class="o">&lt;&lt;</span><span class="n">n</span><span class="p">)</span>
		<span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="m">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="no">true</span>
		<span class="n">q</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="n">i</span><span class="p">,</span> <span class="m">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">})</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="n">ans</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="p">;</span> <span class="n">ans</span><span class="o">++</span> <span class="p">{</span>
		<span class="k">for</span> <span class="n">k</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">);</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="o">--</span> <span class="p">{</span>
			<span class="n">p</span> <span class="o">:=</span> <span class="n">q</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
			<span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span>
			<span class="n">i</span><span class="p">,</span> <span class="n">st</span> <span class="o">:=</span> <span class="n">p</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
			<span class="k">if</span> <span class="n">st</span> <span class="o">==</span> <span class="p">(</span><span class="m">1</span><span class="o">&lt;&lt;</span><span class="n">n</span><span class="p">)</span><span class="o">-</span><span class="m">1</span> <span class="p">{</span>
				<span class="k">return</span> <span class="n">ans</span>
			<span class="p">}</span>
			<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">j</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">{</span>
				<span class="n">nst</span> <span class="o">:=</span> <span class="n">st</span> <span class="o">|</span> <span class="m">1</span><span class="o">&lt;&lt;</span><span class="n">j</span>
				<span class="k">if</span> <span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">nst</span><span class="p">]</span> <span class="p">{</span>
					<span class="n">vis</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">nst</span><span class="p">]</span> <span class="o">=</span> <span class="no">true</span>
					<span class="n">q</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="n">j</span><span class="p">,</span> <span class="n">nst</span><span class="p">})</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">shortestPathLength</span><span class="p">(</span><span class="nx">graph</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][]):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">graph</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">q</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">const</span> <span class="nx">vis</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">[][]</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">n</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="nx">map</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">n</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">false</span><span class="p">));</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">i</span><span class="p">]);</span>
        <span class="nx">vis</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">;</span> <span class="o">++</span><span class="nx">ans</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">k</span><span class="p">;</span> <span class="o">--</span><span class="nx">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="p">[</span><span class="nx">i</span><span class="p">,</span> <span class="nx">st</span><span class="p">]</span> <span class="o">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">shift</span><span class="p">()</span><span class="o">!</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">st</span> <span class="o">===</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">j</span> <span class="k">of</span> <span class="nx">graph</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
                <span class="kd">const</span> <span class="nx">nst</span> <span class="o">=</span> <span class="nx">st</span> <span class="o">|</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">j</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">vis</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">nst</span><span class="p">])</span> <span class="p">{</span>
                    <span class="nx">vis</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">nst</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">j</span><span class="p">,</span> <span class="nx">nst</span><span class="p">]);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="nn">collections</span><span class="p">::</span><span class="n">VecDeque</span><span class="p">;</span>

<span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="nd">#[allow(dead_code)]</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">shortest_path_length</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">i32</span> <span class="p">{</span>
        <span class="k">let</span> <span class="n">n</span> <span class="o">=</span> <span class="n">graph</span><span class="nf">.len</span><span class="p">();</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">vis</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[</span><span class="nd">vec!</span><span class="p">[</span><span class="kc">false</span><span class="p">;</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">];</span> <span class="n">n</span><span class="p">];</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">q</span> <span class="o">=</span> <span class="nn">VecDeque</span><span class="p">::</span><span class="nf">new</span><span class="p">();</span>

        <span class="c1">// Initialize the queue</span>
        <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..</span><span class="n">n</span> <span class="p">{</span>
            <span class="n">q</span><span class="nf">.push_back</span><span class="p">(((</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">),</span> <span class="mi">0</span><span class="p">));</span>
            <span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Begin BFS</span>
        <span class="k">while</span> <span class="o">!</span><span class="n">q</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">let</span> <span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">st</span><span class="p">),</span> <span class="n">count</span><span class="p">)</span> <span class="o">=</span> <span class="n">q</span><span class="nf">.pop_front</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">();</span>
            <span class="k">if</span> <span class="n">st</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">count</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="c1">// If the path has not been visited</span>
            <span class="k">for</span> <span class="n">j</span> <span class="k">in</span> <span class="o">&amp;</span><span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">{</span>
                <span class="k">let</span> <span class="n">nst</span> <span class="o">=</span> <span class="n">st</span> <span class="p">|</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">j</span><span class="p">);</span>
                <span class="k">if</span> <span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="o">*</span><span class="n">j</span> <span class="k">as</span> <span class="nb">usize</span><span class="p">][</span><span class="n">nst</span><span class="p">]</span> <span class="p">{</span>
                    <span class="n">q</span><span class="nf">.push_back</span><span class="p">(((</span><span class="o">*</span><span class="n">j</span> <span class="k">as</span> <span class="nb">usize</span><span class="p">,</span> <span class="n">nst</span><span class="p">),</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
                    <span class="n">vis</span><span class="p">[</span><span class="o">*</span><span class="n">j</span> <span class="k">as</span> <span class="nb">usize</span><span class="p">][</span><span class="n">nst</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="o">-</span><span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-847.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
