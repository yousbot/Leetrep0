<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script src="all_css_run_prettify.js">
  </script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K108N8L891');
  </script>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Leetcode 1279. Traffic Light Controlled Intersection
  </title>
  <meta content="Check Java/C++ solution and Company Tag of Leetcode 1279 for freeãUnlock prime for Leetcode 1279" name="description"/>
  <meta content="Leetcode 1279, 1279. Traffic Light Controlled Intersection, leetcode, company tag, company problem list" name="keywords"/>
  <meta content="width=device-width, initial-scale=1" name="viewport">
   <!-- Bootstrap Core CSS -->
   <link href="all_css_bootstrap.min.css" rel="stylesheet"/>
   <link href="all_css_markdown.css" rel="stylesheet"/>
   <!-- Custom CSS -->
   <style>
    .div-width{
        	width: 70%;
        	margin: auto;
        }
        @media screen and (min-width: 0px) and (max-width: 560px) {
			.div-width{
	        	width: 95%;
	        	margin: auto;
	        }
		}
   </style>
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <script src="https://apis.google.com/js/platform.js">
   </script>
  </meta>
 </head>
 <body>
  
  <div class="div-width" style="padding-top: 30px">
   <div>
    
   </div>
   <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
   </div>
  </div>
  <div class="div-width">
   <h1>
    1279. Traffic Light Controlled Intersection
   </h1>
  </div>
  <div class="markdown-body div-width" style="margin-top: 20px">
   <div class="content__u3I1 question-content__JfgR">
    <div>
     <p>
      There is an intersection of two roads. First road is road A where cars travel from
            North to South in direction 1 and from South to North in direction 2. Second road is
            road B where cars travel from West to East in direction 3 and from East to West in
            direction 4.
     </p>
     <p>
      <img alt="" src="https://assets.leetcode.com/uploads/2019/11/11/exp.png" style="width: 600px; height: 417px;"/>
     </p>
     <p>
      There is a traffic light located on each road before the intersection. A traffic
                light can either be green or red.
     </p>
     <ol>
      <li>
       <strong>
        Green
       </strong>
       means cars can cross the intersection in both
                    directions of the road.
      </li>
      <li>
       <strong>
        Red
       </strong>
       means cars in both directions cannot cross the intersection
                    and must wait until the light turns green.
      </li>
     </ol>
     <p>
      The traffic lights cannot be green on both roads at the same time. That means when
                the light is green on road A, it is red on road B and when the light is green
                on road B, it is red on road A.
     </p>
     <p>
      Initially, the traffic light is
      <strong>
       green
      </strong>
      on road A and
      <strong>
       red
      </strong>
      on road B. When the light is green on one road, all cars
                can cross the intersection in both directions until the light becomes green on the
                other road. No two cars traveling on different roads should cross at the same
                time.
     </p>
     <p>
      Design a deadlock-free traffic light controlled system at this intersection.
     </p>
     <p>
      Implement the function
      <code>
       void carArrived(carId, roadId, direction,
                turnGreen, crossCar)
      </code>
      where:
     </p>
     <ul>
      <li>
       <code>
        carId
       </code>
       is the id of the car that arrived.
      </li>
      <li>
       <code>
        roadId
       </code>
       is the id of the road that the car travels on.
      </li>
      <li>
       <code>
        direction
       </code>
       is the direction of the car.
      </li>
      <li>
       <code>
        turnGreen
       </code>
       is a function you can call to turn the traffic light
                    to green on the current road.
      </li>
      <li>
       <code>
        crossCar
       </code>
       is a function you can call to let the current car
                    cross the intersection.
      </li>
     </ul>
     <p>
      Your answer is considered correct if it avoids cars deadlock in the intersection. Turning
                the light green on a road when it was already green is considered a wrong
                answer.
     </p>
     <p>
     </p>
     <p>
      <strong>
       Example 1:
      </strong>
     </p>
     <pre><strong>Input:</strong> cars = [1,3,5,2,4], directions = [2,1,2,4,3], arrivalTimes = [10,20,30,40,50]
<strong>Output:</strong> [
"Car 1 Has Passed Road A In Direction 2",    // Traffic light on road A is green, car 1 can cross the intersection.
"Car 3 Has Passed Road A In Direction 1",    // Car 3 crosses the intersection as the light is still green.
"Car 5 Has Passed Road A In Direction 2",    // Car 5 crosses the intersection as the light is still green.
"Traffic Light On Road B Is Green",          // Car 2 requests green light for road B.
"Car 2 Has Passed Road B In Direction 4",    // Car 2 crosses as the light is green on road B now.
"Car 4 Has Passed Road B In Direction 3"     // Car 4 crosses the intersection as the light is still green.
]
</pre>
     <p>
      <strong>
       Example 2:
      </strong>
     </p>
     <pre><strong>Input:</strong> cars = [1,2,3,4,5], directions = [2,4,3,3,1], arrivalTimes = [10,20,30,40,40]
<strong>Output:</strong> [
"Car 1 Has Passed Road A In Direction 2",    // Traffic light on road A is green, car 1 can cross the intersection.
"Traffic Light On Road B Is Green",          // Car 2 requests green light for road B.
"Car 2 Has Passed Road B In Direction 4",    // Car 2 crosses as the light is green on road B now.
"Car 3 Has Passed Road B In Direction 3",    // Car 3 crosses as the light is green on road B now.
"Traffic Light On Road A Is Green",          // Car 5 requests green light for road A.
"Car 5 Has Passed Road A In Direction 1",    // Car 5 crosses as the light is green on road A now.
"Traffic Light On Road B Is Green",          // Car 4 requests green light for road B. Car 4 blocked until car 5 crosses and then traffic light is green on road B.
"Car 4 Has Passed Road B In Direction 3"     // Car 4 crosses as the light is green on road B now.
]
<strong>Explanation:</strong> This is a dead-lock free scenario. Note that the scenario when car 4 crosses before turning light into green on road A and allowing car 5 to pass is also <strong>correct</strong> and <strong>Accepted</strong> scenario.
</pre>
     <p>
     </p>
     <p>
      <strong>
       Constraints:
      </strong>
     </p>
     <ul>
      <li>
       <code>
        1 &lt;= cars.length &lt;= 20
       </code>
      </li>
      <li>
       <code>
        cars.length = directions.length
       </code>
      </li>
      <li>
       <code>
        cars.length = arrivalTimes.length
       </code>
      </li>
      <li>
       All values of
       <code>
        cars
       </code>
       are unique
      </li>
      <li>
       <code>
        1 &lt;= directions[i] &lt;= 4
       </code>
      </li>
      <li>
       <code>
        arrivalTimes
       </code>
       is non-decreasing
      </li>
     </ul>
    </div>
   </div>
   <div>
    <h3>
     Difficulty:
    </h3>
    <span class="label label-success">
     Easy
    </span>
   </div>
   <div>
    <h3>
     Lock:
    </h3>
    <span class="label label-info">
     Prime
    </span>
   </div>
   
   <div style="height=20px;">
   </div>
   <div>
    
   </div>
   
  </div>
 </body>
</html>
