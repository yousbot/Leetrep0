<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-142.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-142.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>142 - Linked List Cycle II</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 142. Linked List Cycle II Description Given the head of a linked list, return the node where the cycle begins. If there is no cycle, return null. There is a cycle in a linked list if there is some node in the list that can...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-142.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-142.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-142.html" rel="stylesheet"/>
   <link href="solution-142.html" rel="stylesheet"/>
   <link href="solution-142.html" rel="stylesheet"/>
   <link href="solution-142.html" rel="stylesheet"/>
   <link href="solution-142.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="142 - Linked List Cycle II" property="og:title"/>
   <meta content="Leetcode 142. Linked List Cycle II Description Given the head of a linked list, return the node where the cycle begins. If there is no cycle, return null. There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the next pointer. Internally, pos is used to denote the index of the node that tail&amp;#39;s next pointer is connected to (0-indexed). It is -1 if there is no cycle. Note that pos is not passed as a parameter. Do not modify the linked list. &amp;nbsp; Example 1: Input: head = [3,2,0,-4], pos = 1 Output: tail connects to node index 1 Explanation: There is a cycle in the linked list, where tail connects to the second node. Example 2: Input: head = [1,2], pos = 0 Output: tail connects to node index 0 Explanation: There is a cycle in the linked list, where tail connects to the first node. Example 3: Input: head = [1], pos = -1 Output: no cycle Explanation: There is no cycle in the linked list. &amp;nbsp; Constraints: The number of the nodes in the list is in the range [0, 104]. -105 &amp;lt;= Node.val &amp;lt;= 105 pos is -1 or a valid index in the linked-list. &amp;nbsp; Follow up: Can you solve it using O(1) (i.e. constant) memory? Solutions Solution 1: Two Pointers We first use the fast and slow pointers to judge whether the linked list has a ring. If there is a ring, the fast and slow pointers will definitely meet, and the meeting node must be in the ring. If there is no ring, the fast pointer will reach the tail of the linked list first, and return null directly. If there is a ring, we then define an answer pointer $ans$ to point to the head of the linked list, and then let $ans$ and the slow pointer move forward together, moving one step at a time, until $ans$ and the slow pointer meet, and the meeting node is the ring entrance node. Why can this find the entrance node of the ring? Letâs assume that the distance from the head node of the linked list to the entrance of the ring is $x$, the distance from the entrance of the ring to the meeting node is $y$, and the distance from the meeting node to the entrance of the ring is $z$. Then the distance traveled by the slow pointer is $x + y$, and the distance traveled by the fast pointer is $x + y + k \times (y + z)$, where $k$ is the number of times the fast pointer goes around the ring. Because the speed of the fast pointer is twice that of the slow pointer, it is $2 \times (x + y) = x + y + k \times (y + z)$, which can be deduced that $x + y = k \times (y + z)$, that is..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-04-20T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-04-20-142-Linked-List-Cycle-II/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-142.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="142 - Linked List Cycle II" property="twitter:title"/>
   <meta content="Leetcode 142. Linked List Cycle II Description Given the head of a linked list, return the node where the cycle begins. If there is no cycle, return null. There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the next pointer. Internally, pos is used to denote the index of the node that tail&amp;#39;s next pointer is connected to (0-indexed). It is -1 if there is no cycle. Note that pos is not passed as a parameter. Do not modify the linked list. &amp;nbsp; Example 1: Input: head = [3,2,0,-4], pos = 1 Output: tail connects to node index 1 Explanation: There is a cycle in the linked list, where tail connects to the second node. Example 2: Input: head = [1,2], pos = 0 Output: tail connects to node index 0 Explanation: There is a cycle in the linked list, where tail connects to the first node. Example 3: Input: head = [1], pos = -1 Output: no cycle Explanation: There is no cycle in the linked list. &amp;nbsp; Constraints: The number of the nodes in the list is in the range [0, 104]. -105 &amp;lt;= Node.val &amp;lt;= 105 pos is -1 or a valid index in the linked-list. &amp;nbsp; Follow up: Can you solve it using O(1) (i.e. constant) memory? Solutions Solution 1: Two Pointers We first use the fast and slow pointers to judge whether the linked list has a ring. If there is a ring, the fast and slow pointers will definitely meet, and the meeting node must be in the ring. If there is no ring, the fast pointer will reach the tail of the linked list first, and return null directly. If there is a ring, we then define an answer pointer $ans$ to point to the head of the linked list, and then let $ans$ and the slow pointer move forward together, moving one step at a time, until $ans$ and the slow pointer meet, and the meeting node is the ring entrance node. Why can this find the entrance node of the ring? Letâs assume that the distance from the head node of the linked list to the entrance of the ring is $x$, the distance from the entrance of the ring to the meeting node is $y$, and the distance from the meeting node to the entrance of the ring is $z$. Then the distance traveled by the slow pointer is $x + y$, and the distance traveled by the fast pointer is $x + y + k \times (y + z)$, where $k$ is the number of times the fast pointer goes around the ring. Because the speed of the fast pointer is twice that of the slow pointer, it is $2 \times (x + y) = x + y + k \times (y + z)$, which can be deduced that $x + y = k \times (y + z)$, that is..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    142 - Linked List Cycle II | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="142 - Linked List Cycle II" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-142.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-04-20-142-Linked-List-Cycle-II/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-04-20T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"142 - Linked List Cycle II","dateModified":"2016-04-20T00:00:00-07:00","datePublished":"2016-04-20T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-04-20-142-Linked-List-Cycle-II/"},"url":"https://leetcode.ca/2016-04-20-142-Linked-List-Cycle-II/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="142-linked-list-cycle-ii">
       <a href="solution-142.html">
        142. Linked List Cycle II
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given the
       <code>
        head
       </code>
       of a linked list, return
       <em>
        the node where the cycle begins. If there is no cycle, return
       </em>
       <code>
        null
       </code>
       .
      </p>
      <p>
       There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the
       <code>
        next
       </code>
       pointer. Internally,
       <code>
        pos
       </code>
       is used to denote the index of the node that tail's
       <code>
        next
       </code>
       pointer is connected to (
       <strong>
        0-indexed
       </strong>
       ). It is
       <code>
        -1
       </code>
       if there is no cycle.
       <strong>
        Note that
       </strong>
       <code>
        pos
       </code>
       <strong>
        is not passed as a parameter
       </strong>
       .
      </p>
      <p>
       <strong>
        Do not modify
       </strong>
       the linked list.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0100-0199/0142.Linked%20List%20Cycle%20II/images/circularlinkedlist.png" style="height: 145px; width: 450px;"/>
      </p>
      <pre>
<strong>Input:</strong> head = [3,2,0,-4], pos = 1
<strong>Output:</strong> tail connects to node index 1
<strong>Explanation:</strong> There is a cycle in the linked list, where tail connects to the second node.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0100-0199/0142.Linked%20List%20Cycle%20II/images/circularlinkedlist_test2.png" style="height: 105px; width: 201px;"/>
      </p>
      <pre>
<strong>Input:</strong> head = [1,2], pos = 0
<strong>Output:</strong> tail connects to node index 0
<strong>Explanation:</strong> There is a cycle in the linked list, where tail connects to the first node.
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0100-0199/0142.Linked%20List%20Cycle%20II/images/circularlinkedlist_test3.png" style="height: 65px; width: 65px;"/>
      </p>
      <pre>
<strong>Input:</strong> head = [1], pos = -1
<strong>Output:</strong> no cycle
<strong>Explanation:</strong> There is no cycle in the linked list.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        The number of the nodes in the list is in the range
        <code>
         [0, 10
         <sup>
          4
         </sup>
         ]
        </code>
        .
       </li>
       <li>
        <code>
         -10
         <sup>
          5
         </sup>
         &lt;= Node.val &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         pos
        </code>
        is
        <code>
         -1
        </code>
        or a
        <strong>
         valid index
        </strong>
        in the linked-list.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong>
        Follow up:
       </strong>
       Can you solve it using
       <code>
        O(1)
       </code>
       (i.e. constant) memory?
      </p>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Two Pointers
       </strong>
      </p>
      <p>
       We first use the fast and slow pointers to judge whether the linked list has a ring. If there is a ring, the fast and slow pointers will definitely meet, and the meeting node must be in the ring.
      </p>
      <p>
       If there is no ring, the fast pointer will reach the tail of the linked list first, and return
       <code class="language-plaintext highlighter-rouge">
        null
       </code>
       directly.
      </p>
      <p>
       If there is a ring, we then define an answer pointer $ans$ to point to the head of the linked list, and then let $ans$ and the slow pointer move forward together, moving one step at a time, until $ans$ and the slow pointer meet, and the meeting node is the ring entrance node.
      </p>
      <p>
       Why can this find the entrance node of the ring?
      </p>
      <p>
       Letâs assume that the distance from the head node of the linked list to the entrance of the ring is $x$, the distance from the entrance of the ring to the meeting node is $y$, and the distance from the meeting node to the entrance of the ring is $z$. Then the distance traveled by the slow pointer is $x + y$, and the distance traveled by the fast pointer is $x + y + k \times (y + z)$, where $k$ is the number of times the fast pointer goes around the ring.
      </p>
      <p>
       <img src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0100-0199/0142.Linked%20List%20Cycle%20II/images/linked-list-cycle-ii.png"/>
      </p>
      <p>
       Because the speed of the fast pointer is twice that of the slow pointer, it is $2 \times (x + y) = x + y + k \times (y + z)$, which can be deduced that $x + y = k \times (y + z)$, that is $x = (k - 1) \times (y + z) + z$.
      </p>
      <p>
       That is to say, if we define an answer pointer $ans$ to point to the head of the linked list, and the $ans$ and the slow pointer move forward together, they will definitely meet at the ring entrance.
      </p>
      <p>
       The time complexity is $O(n)$, where $n$ is the number of nodes in the linked list. The space complexity is $O(1)$.
      </p>
      <h5 id="math-prove">
       Math prove:
      </h5>
      <div class="language-plaintext highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code>    a            b
A ------ B --------+
         |         |
       c |         |
         C --------+



* A: èµ·å§ç¹
* B: Cycle Begins
* C: 1st å¿«æ¢æéç¸éç¹


* A-&gt;B: a
* B-&gt;C: b
* C-&gt;B: c
* ç¯çé¿åº¦ (b+c) ä¸º R

</code></pre>
       </div>
      </div>
      <p>
       To understand this solution, you just need to ask yourself these question.
      </p>
      <p>
       Assume the distance from head to the start of the loop is
       <code class="language-plaintext highlighter-rouge">
        a
       </code>
       the distance from the start of the loop to the point fast and slow meet is
       <code class="language-plaintext highlighter-rouge">
        b
       </code>
       the distance from the point fast and slow meet to the start of the loop is
       <code class="language-plaintext highlighter-rouge">
        c
       </code>
      </p>
      <ul>
       <li>
        What is the distance fast moved?
       </li>
       <li>
        What is the distance slow moved?
       </li>
       <li>
        And their relationship?
       </li>
      </ul>
      <p>
       fast:
       <code class="language-plaintext highlighter-rouge">
        a + b + c + b
       </code>
      </p>
      <p>
       slow:
       <code class="language-plaintext highlighter-rouge">
        a + b
       </code>
      </p>
      <p>
       relationship - fast is 2X faster than slow:
       <code class="language-plaintext highlighter-rouge">
        a + b + c + b = 2 * (a + b)
       </code>
      </p>
      <p>
       Thus
       <code class="language-plaintext highlighter-rouge">
        a = c
       </code>
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#df2b3bdc-44c0-4d8c-9308-639c6bfaf8a3'}">
       <li class="uk-active">
        <a href="solution-142.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-142.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-142.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-142.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-142.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-142.html">
         Javascript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="df2b3bdc-44c0-4d8c-9308-639c6bfaf8a3">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">ListNode</span> <span class="nf">detectCycle</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ListNode</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span><span class="o">,</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">fast</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">slow</span> <span class="o">==</span> <span class="n">fast</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">ListNode</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
                <span class="k">while</span> <span class="o">(</span><span class="n">ans</span> <span class="o">!=</span> <span class="n">slow</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="n">ans</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
                    <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode(int x) : val(x), next(NULL) {}
 * };
 */</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">ListNode</span><span class="o">*</span> <span class="n">detectCycle</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ListNode</span><span class="o">*</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span>
        <span class="n">ListNode</span><span class="o">*</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">fast</span> <span class="o">&amp;&amp;</span> <span class="n">fast</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">slow</span> <span class="o">==</span> <span class="n">fast</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">ListNode</span><span class="o">*</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">ans</span> <span class="o">!=</span> <span class="n">slow</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="n">ans</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
                    <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nb">nullptr</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, x):
#         self.val = x
#         self.next = None
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">detectCycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="n">slow</span> <span class="o">=</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">has_cycle</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">has_cycle</span> <span class="ow">and</span> <span class="n">fast</span> <span class="ow">and</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="n">slow</span><span class="p">,</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span><span class="p">,</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">has_cycle</span> <span class="o">=</span> <span class="n">slow</span> <span class="o">==</span> <span class="n">fast</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">has_cycle</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">p</span> <span class="o">!=</span> <span class="n">slow</span><span class="p">:</span>
            <span class="n">p</span><span class="p">,</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="nb">next</span><span class="p">,</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">return</span> <span class="n">p</span>

<span class="c1">#############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">detectCycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">fast</span> <span class="ow">and</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">if</span> <span class="n">slow</span> <span class="o">==</span> <span class="n">fast</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">head</span>
                <span class="k">while</span> <span class="n">ans</span> <span class="o">!=</span> <span class="n">slow</span><span class="p">:</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="n">ans</span><span class="p">.</span><span class="nb">next</span>
                    <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
                <span class="k">return</span> <span class="n">ans</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c">/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */</span>
<span class="k">func</span> <span class="n">detectCycle</span><span class="p">(</span><span class="n">head</span> <span class="o">*</span><span class="n">ListNode</span><span class="p">)</span> <span class="o">*</span><span class="n">ListNode</span> <span class="p">{</span>
	<span class="n">fast</span><span class="p">,</span> <span class="n">slow</span> <span class="o">:=</span> <span class="n">head</span><span class="p">,</span> <span class="n">head</span>
	<span class="k">for</span> <span class="n">fast</span> <span class="o">!=</span> <span class="no">nil</span> <span class="o">&amp;&amp;</span> <span class="n">fast</span><span class="o">.</span><span class="n">Next</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="n">Next</span>
		<span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="n">Next</span><span class="o">.</span><span class="n">Next</span>
		<span class="k">if</span> <span class="n">slow</span> <span class="o">==</span> <span class="n">fast</span> <span class="p">{</span>
			<span class="n">ans</span> <span class="o">:=</span> <span class="n">head</span>
			<span class="k">for</span> <span class="n">ans</span> <span class="o">!=</span> <span class="n">slow</span> <span class="p">{</span>
				<span class="n">ans</span> <span class="o">=</span> <span class="n">ans</span><span class="o">.</span><span class="n">Next</span>
				<span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="n">Next</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="n">ans</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="no">nil</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * class ListNode {
 *     val: number
 *     next: ListNode | null
 *     constructor(val?: number, next?: ListNode | null) {
 *         this.val = (val===undefined ? 0 : val)
 *         this.next = (next===undefined ? null : next)
 *     }
 * }
 */</span>

<span class="kd">function</span> <span class="nx">detectCycle</span><span class="p">(</span><span class="nx">head</span><span class="p">:</span> <span class="nx">ListNode</span> <span class="o">|</span> <span class="kc">null</span><span class="p">):</span> <span class="nx">ListNode</span> <span class="o">|</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">slow</span><span class="p">,</span> <span class="nx">fast</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">head</span><span class="p">,</span> <span class="nx">head</span><span class="p">];</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">fast</span> <span class="o">&amp;&amp;</span> <span class="nx">fast</span><span class="p">.</span><span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">slow</span> <span class="o">=</span> <span class="nx">slow</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="nx">fast</span> <span class="o">=</span> <span class="nx">fast</span><span class="p">.</span><span class="nx">next</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">slow</span> <span class="o">===</span> <span class="nx">fast</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="nx">head</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">ans</span> <span class="o">!==</span> <span class="nx">slow</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">ans</span> <span class="o">=</span> <span class="nx">ans</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
                <span class="nx">slow</span> <span class="o">=</span> <span class="nx">slow</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-js highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */</span>

<span class="cm">/**
 * @param {ListNode} head
 * @return {ListNode}
 */</span>
<span class="kd">var</span> <span class="nx">detectCycle</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">head</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">slow</span><span class="p">,</span> <span class="nx">fast</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">head</span><span class="p">,</span> <span class="nx">head</span><span class="p">];</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">fast</span> <span class="o">&amp;&amp;</span> <span class="nx">fast</span><span class="p">.</span><span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">slow</span> <span class="o">=</span> <span class="nx">slow</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="nx">fast</span> <span class="o">=</span> <span class="nx">fast</span><span class="p">.</span><span class="nx">next</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">slow</span> <span class="o">===</span> <span class="nx">fast</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="nx">head</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">ans</span> <span class="o">!==</span> <span class="nx">slow</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">ans</span> <span class="o">=</span> <span class="nx">ans</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
                <span class="nx">slow</span> <span class="o">=</span> <span class="nx">slow</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-142.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
