<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1896.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1896.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1896 - Minimum Cost to Change the Final Value of Expression</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1896. Minimum Cost to Change the Final Value of Expression Description You are given a valid boolean expression as a string expression consisting of the characters &amp;#39;1&amp;#39;,&amp;#39;0&amp;#39;,&amp;#39;&amp;amp;&amp;#39; (bitwise AND operator),&amp;#39;|&amp;#39; (bitwise OR operator),&amp;#39;(&amp;#39;, and &amp;#39;)&amp;#39;. For example, &amp;quot;()1|1&amp;quot; and &amp;quot;(1)&amp;amp;()&amp;quot; are not valid while &amp;quot;1&amp;quot;,...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1896.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1896.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1896.html" rel="stylesheet"/>
   <link href="solution-1896.html" rel="stylesheet"/>
   <link href="solution-1896.html" rel="stylesheet"/>
   <link href="solution-1896.html" rel="stylesheet"/>
   <link href="solution-1896.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1896 - Minimum Cost to Change the Final Value of Expression" property="og:title"/>
   <meta content="Leetcode 1896. Minimum Cost to Change the Final Value of Expression Description You are given a valid boolean expression as a string expression consisting of the characters &amp;#39;1&amp;#39;,&amp;#39;0&amp;#39;,&amp;#39;&amp;amp;&amp;#39; (bitwise AND operator),&amp;#39;|&amp;#39; (bitwise OR operator),&amp;#39;(&amp;#39;, and &amp;#39;)&amp;#39;. For example, &amp;quot;()1|1&amp;quot; and &amp;quot;(1)&amp;amp;()&amp;quot; are not valid while &amp;quot;1&amp;quot;, &amp;quot;(((1))|(0))&amp;quot;, and &amp;quot;1|(0&amp;amp;(1))&amp;quot; are valid expressions. Return the minimum cost to change the final value of the expression. For example, if expression = &amp;quot;1|1|(0&amp;amp;0)&amp;amp;1&amp;quot;, its value is 1|1|(0&amp;amp;0)&amp;amp;1 = 1|1|0&amp;amp;1 = 1|0&amp;amp;1 = 1&amp;amp;1 = 1. We want to apply operations so that the new expression evaluates to 0. The cost of changing the final value of an expression is the number of operations performed on the expression. The types of operations are described as follows: Turn a &amp;#39;1&amp;#39; into a &amp;#39;0&amp;#39;. Turn a &amp;#39;0&amp;#39; into a &amp;#39;1&amp;#39;. Turn a &amp;#39;&amp;amp;&amp;#39; into a &amp;#39;|&amp;#39;. Turn a &amp;#39;|&amp;#39; into a &amp;#39;&amp;amp;&amp;#39;. Note: &amp;#39;&amp;amp;&amp;#39; does not take precedence over &amp;#39;|&amp;#39; in the order of calculation. Evaluate parentheses first, then in left-to-right order. &amp;nbsp; Example 1: Input: expression = &amp;quot;1&amp;amp;(0|1)&amp;quot; Output: 1 Explanation: We can turn &amp;quot;1&amp;amp;(0|1)&amp;quot; into &amp;quot;1&amp;amp;(0&amp;amp;1)&amp;quot; by changing the &amp;#39;|&amp;#39; to a &amp;#39;&amp;amp;&amp;#39; using 1 operation. The new expression evaluates to 0. Example 2: Input: expression = &amp;quot;(0&amp;amp;0)&amp;amp;(0&amp;amp;0&amp;amp;0)&amp;quot; Output: 3 Explanation: We can turn &amp;quot;(0&amp;amp;0)&amp;amp;(0&amp;amp;0&amp;amp;0)&amp;quot; into &amp;quot;(0|1)|(0&amp;amp;0&amp;amp;0)&amp;quot; using 3 operations. The new expression evaluates to 1. Example 3: Input: expression = &amp;quot;(0|(1|0&amp;amp;1))&amp;quot; Output: 1 Explanation: We can turn &amp;quot;(0|(1|0&amp;amp;1))&amp;quot; into &amp;quot;(0|(0|0&amp;amp;1))&amp;quot; using 1 operation. The new expression evaluates to 0. &amp;nbsp; Constraints: 1 &amp;lt;= expression.length &amp;lt;= 105 expression&amp;nbsp;only contains&amp;nbsp;&amp;#39;1&amp;#39;,&amp;#39;0&amp;#39;,&amp;#39;&amp;amp;&amp;#39;,&amp;#39;|&amp;#39;,&amp;#39;(&amp;#39;, and&amp;nbsp;&amp;#39;)&amp;#39; All parentheses&amp;nbsp;are properly matched. There will be no empty parentheses (i.e:&amp;nbsp;&amp;quot;()&amp;quot;&amp;nbsp;is not a substring of&amp;nbsp;expression). Solution Use stack and dynamic programming. Create three stacks to store the result values, the minimum number of operations, and the signs, respectively. Loop over expression. For each position, calculate the value at the position and the minimum number of operations needed to change the value. When the loop ends, return the minimum cost to change the final value of expression. Java C++ class Solution { public int minOperationsToFlip(String expression) { Deque&amp;lt;Integer&amp;gt; numStack = new LinkedList&amp;lt;Integer&amp;gt;(); Deque&amp;lt;Integer&amp;gt; opStack = new LinkedList&amp;lt;Integer&amp;gt;(); Deque&amp;lt;Character&amp;gt; signStack = new LinkedList&amp;lt;Character&amp;gt;(); int length = expression.length(); for (int i = 0; i &amp;lt; length; i++) { char c = expression.charAt(i); if (Character.isDigit(c)) { numStack.push((int) (c - '0')); opStack.push(1); } else if (c == ')') signStack.pop(); else { signStack.push(c); continue; } if (numStack.size() &amp;gt; 1 &amp;amp;&amp;amp; signStack.peek() != '(') { int num2 = numStack.pop(); int num1 = numStack.pop(); int op2 = opStack.pop(); int op1 = opStack.pop(); char sign = signStack.pop(); int[] ops = minOp(num1, num2, op1, op2, sign); numStack.push(ops[0]); opStack.push(ops[1]); } } return opStack.pop(); } public int[] minOp(int num1, int num2, int op1, int op2, char sign) { if (sign == '&amp;amp;') { if (num1 == 1 &amp;amp;&amp;amp; num2 == 1) return new int[]{1, Math.min(op1, op2)}; else if (num1 == 0 &amp;amp;&amp;amp; num2 == 0) return new int[]{0, Math.min(op1, op2) + 1}; else return new int[]{0, 1}; } else { if (num1..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2021-02-07T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2021-02-07-1896-Minimum-Cost-to-Change-the-Final-Value-of-Expression/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1896.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1896 - Minimum Cost to Change the Final Value of Expression" property="twitter:title"/>
   <meta content="Leetcode 1896. Minimum Cost to Change the Final Value of Expression Description You are given a valid boolean expression as a string expression consisting of the characters &amp;#39;1&amp;#39;,&amp;#39;0&amp;#39;,&amp;#39;&amp;amp;&amp;#39; (bitwise AND operator),&amp;#39;|&amp;#39; (bitwise OR operator),&amp;#39;(&amp;#39;, and &amp;#39;)&amp;#39;. For example, &amp;quot;()1|1&amp;quot; and &amp;quot;(1)&amp;amp;()&amp;quot; are not valid while &amp;quot;1&amp;quot;, &amp;quot;(((1))|(0))&amp;quot;, and &amp;quot;1|(0&amp;amp;(1))&amp;quot; are valid expressions. Return the minimum cost to change the final value of the expression. For example, if expression = &amp;quot;1|1|(0&amp;amp;0)&amp;amp;1&amp;quot;, its value is 1|1|(0&amp;amp;0)&amp;amp;1 = 1|1|0&amp;amp;1 = 1|0&amp;amp;1 = 1&amp;amp;1 = 1. We want to apply operations so that the new expression evaluates to 0. The cost of changing the final value of an expression is the number of operations performed on the expression. The types of operations are described as follows: Turn a &amp;#39;1&amp;#39; into a &amp;#39;0&amp;#39;. Turn a &amp;#39;0&amp;#39; into a &amp;#39;1&amp;#39;. Turn a &amp;#39;&amp;amp;&amp;#39; into a &amp;#39;|&amp;#39;. Turn a &amp;#39;|&amp;#39; into a &amp;#39;&amp;amp;&amp;#39;. Note: &amp;#39;&amp;amp;&amp;#39; does not take precedence over &amp;#39;|&amp;#39; in the order of calculation. Evaluate parentheses first, then in left-to-right order. &amp;nbsp; Example 1: Input: expression = &amp;quot;1&amp;amp;(0|1)&amp;quot; Output: 1 Explanation: We can turn &amp;quot;1&amp;amp;(0|1)&amp;quot; into &amp;quot;1&amp;amp;(0&amp;amp;1)&amp;quot; by changing the &amp;#39;|&amp;#39; to a &amp;#39;&amp;amp;&amp;#39; using 1 operation. The new expression evaluates to 0. Example 2: Input: expression = &amp;quot;(0&amp;amp;0)&amp;amp;(0&amp;amp;0&amp;amp;0)&amp;quot; Output: 3 Explanation: We can turn &amp;quot;(0&amp;amp;0)&amp;amp;(0&amp;amp;0&amp;amp;0)&amp;quot; into &amp;quot;(0|1)|(0&amp;amp;0&amp;amp;0)&amp;quot; using 3 operations. The new expression evaluates to 1. Example 3: Input: expression = &amp;quot;(0|(1|0&amp;amp;1))&amp;quot; Output: 1 Explanation: We can turn &amp;quot;(0|(1|0&amp;amp;1))&amp;quot; into &amp;quot;(0|(0|0&amp;amp;1))&amp;quot; using 1 operation. The new expression evaluates to 0. &amp;nbsp; Constraints: 1 &amp;lt;= expression.length &amp;lt;= 105 expression&amp;nbsp;only contains&amp;nbsp;&amp;#39;1&amp;#39;,&amp;#39;0&amp;#39;,&amp;#39;&amp;amp;&amp;#39;,&amp;#39;|&amp;#39;,&amp;#39;(&amp;#39;, and&amp;nbsp;&amp;#39;)&amp;#39; All parentheses&amp;nbsp;are properly matched. There will be no empty parentheses (i.e:&amp;nbsp;&amp;quot;()&amp;quot;&amp;nbsp;is not a substring of&amp;nbsp;expression). Solution Use stack and dynamic programming. Create three stacks to store the result values, the minimum number of operations, and the signs, respectively. Loop over expression. For each position, calculate the value at the position and the minimum number of operations needed to change the value. When the loop ends, return the minimum cost to change the final value of expression. Java C++ class Solution { public int minOperationsToFlip(String expression) { Deque&amp;lt;Integer&amp;gt; numStack = new LinkedList&amp;lt;Integer&amp;gt;(); Deque&amp;lt;Integer&amp;gt; opStack = new LinkedList&amp;lt;Integer&amp;gt;(); Deque&amp;lt;Character&amp;gt; signStack = new LinkedList&amp;lt;Character&amp;gt;(); int length = expression.length(); for (int i = 0; i &amp;lt; length; i++) { char c = expression.charAt(i); if (Character.isDigit(c)) { numStack.push((int) (c - '0')); opStack.push(1); } else if (c == ')') signStack.pop(); else { signStack.push(c); continue; } if (numStack.size() &amp;gt; 1 &amp;amp;&amp;amp; signStack.peek() != '(') { int num2 = numStack.pop(); int num1 = numStack.pop(); int op2 = opStack.pop(); int op1 = opStack.pop(); char sign = signStack.pop(); int[] ops = minOp(num1, num2, op1, op2, sign); numStack.push(ops[0]); opStack.push(ops[1]); } } return opStack.pop(); } public int[] minOp(int num1, int num2, int op1, int op2, char sign) { if (sign == '&amp;amp;') { if (num1 == 1 &amp;amp;&amp;amp; num2 == 1) return new int[]{1, Math.min(op1, op2)}; else if (num1 == 0 &amp;amp;&amp;amp; num2 == 0) return new int[]{0, Math.min(op1, op2) + 1}; else return new int[]{0, 1}; } else { if (num1..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1896 - Minimum Cost to Change the Final Value of Expression | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1896 - Minimum Cost to Change the Final Value of Expression" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1896.html" rel="canonical">
          <meta content="https://leetcode.ca/2021-02-07-1896-Minimum-Cost-to-Change-the-Final-Value-of-Expression/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2021-02-07T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1896 - Minimum Cost to Change the Final Value of Expression","dateModified":"2021-02-07T00:00:00-08:00","datePublished":"2021-02-07T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2021-02-07-1896-Minimum-Cost-to-Change-the-Final-Value-of-Expression/"},"url":"https://leetcode.ca/2021-02-07-1896-Minimum-Cost-to-Change-the-Final-Value-of-Expression/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1896-minimum-cost-to-change-the-final-value-of-expression">
       <a href="solution-1896.html">
        1896. Minimum Cost to Change the Final Value of Expression
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are given a
       <strong>
        valid
       </strong>
       boolean expression as a string
       <code>
        expression
       </code>
       consisting of the characters
       <code>
        '1'
       </code>
       ,
       <code>
        '0'
       </code>
       ,
       <code>
        '&amp;'
       </code>
       (bitwise
       <strong>
        AND
       </strong>
       operator),
       <code>
        '|'
       </code>
       (bitwise
       <strong>
        OR
       </strong>
       operator),
       <code>
        '('
       </code>
       , and
       <code>
        ')'
       </code>
       .
      </p>
      <ul>
       <li>
        For example,
        <code>
         "()1|1"
        </code>
        and
        <code>
         "(1)&amp;()"
        </code>
        are
        <strong>
         not valid
        </strong>
        while
        <code>
         "1"
        </code>
        ,
        <code>
         "(((1))|(0))"
        </code>
        , and
        <code>
         "1|(0&amp;(1))"
        </code>
        are
        <strong>
         valid
        </strong>
        expressions.
       </li>
      </ul>
      <p>
       Return
       <em>
        the
        <strong>
         minimum cost
        </strong>
        to change the final value of the expression
       </em>
       .
      </p>
      <ul>
       <li>
        For example, if
        <code>
         expression = "1|1|(0&amp;0)&amp;1"
        </code>
        , its
        <strong>
         value
        </strong>
        is
        <code>
         1|1|(0&amp;0)&amp;1 = 1|1|0&amp;1 = 1|0&amp;1 = 1&amp;1 = 1
        </code>
        . We want to apply operations so that the
        <strong>
         new
        </strong>
        expression evaluates to
        <code>
         0
        </code>
        .
       </li>
      </ul>
      <p>
       The
       <strong>
        cost
       </strong>
       of changing the final value of an expression is the
       <strong>
        number of operations
       </strong>
       performed on the expression. The types of
       <strong>
        operations
       </strong>
       are described as follows:
      </p>
      <ul>
       <li>
        Turn a
        <code>
         '1'
        </code>
        into a
        <code>
         '0'
        </code>
        .
       </li>
       <li>
        Turn a
        <code>
         '0'
        </code>
        into a
        <code>
         '1'
        </code>
        .
       </li>
       <li>
        Turn a
        <code>
         '&amp;'
        </code>
        into a
        <code>
         '|'
        </code>
        .
       </li>
       <li>
        Turn a
        <code>
         '|'
        </code>
        into a
        <code>
         '&amp;'
        </code>
        .
       </li>
      </ul>
      <p>
       <strong>
        Note:
       </strong>
       <code>
        '&amp;'
       </code>
       does
       <strong>
        not
       </strong>
       take precedence over
       <code>
        '|'
       </code>
       in the
       <strong>
        order of calculation
       </strong>
       . Evaluate parentheses
       <strong>
        first
       </strong>
       , then in
       <strong>
        left-to-right
       </strong>
       order.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> expression = "1&amp;(0|1)"
<strong>Output:</strong> 1
<strong>Explanation:</strong> We can turn "1&amp;(0<u><strong>|</strong></u>1)" into "1&amp;(0<u><strong>&amp;</strong></u>1)" by changing the '|' to a '&amp;' using 1 operation.
The new expression evaluates to 0. 
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> expression = "(0&amp;0)&amp;(0&amp;0&amp;0)"
<strong>Output:</strong> 3
<strong>Explanation:</strong> We can turn "(0<u><strong>&amp;0</strong></u>)<strong><u>&amp;</u></strong>(0&amp;0&amp;0)" into "(0<u><strong>|1</strong></u>)<u><strong>|</strong></u>(0&amp;0&amp;0)" using 3 operations.
The new expression evaluates to 1.
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> expression = "(0|(1|0&amp;1))"
<strong>Output:</strong> 1
<strong>Explanation:</strong> We can turn "(0|(<u><strong>1</strong></u>|0&amp;1))" into "(0|(<u><strong>0</strong></u>|0&amp;1))" using 1 operation.
The new expression evaluates to 0.</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= expression.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         expression
        </code>
        only contains
        <code>
         '1'
        </code>
        ,
        <code>
         '0'
        </code>
        ,
        <code>
         '&amp;'
        </code>
        ,
        <code>
         '|'
        </code>
        ,
        <code>
         '('
        </code>
        , and
        <code>
         ')'
        </code>
       </li>
       <li>
        All parentheses are properly matched.
       </li>
       <li>
        There will be no empty parentheses (i.e:
        <code>
         "()"
        </code>
        is not a substring of
        <code>
         expression
        </code>
        ).
       </li>
      </ul>
      <h2 id="solution">
       Solution
      </h2>
      <p>
       Use stack and dynamic programming. Create three stacks to store the result values, the minimum number of operations, and the signs, respectively.
      </p>
      <p>
       Loop over
       <code class="language-plaintext highlighter-rouge">
        expression
       </code>
       . For each position, calculate the value at the position and the minimum number of operations needed to change the value. When the loop ends, return the minimum cost to change the final value of expression.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#6dff1e3a-0794-45aa-8e5b-3a81169e5b4f'}">
       <li class="uk-active">
        <a href="solution-1896.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1896.html">
         C++
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="6dff1e3a-0794-45aa-8e5b-3a81169e5b4f">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minOperationsToFlip</span><span class="o">(</span><span class="nc">String</span> <span class="n">expression</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">opStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;</span> <span class="n">signStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;();</span>
        <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">expression</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">expression</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="nc">Character</span><span class="o">.</span><span class="na">isDigit</span><span class="o">(</span><span class="n">c</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">numStack</span><span class="o">.</span><span class="na">push</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">));</span>
                <span class="n">opStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">')'</span><span class="o">)</span>
                <span class="n">signStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
            <span class="k">else</span> <span class="o">{</span>
                <span class="n">signStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">numStack</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">signStack</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">!=</span> <span class="sc">'('</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">num2</span> <span class="o">=</span> <span class="n">numStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="n">numStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">op2</span> <span class="o">=</span> <span class="n">opStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">op1</span> <span class="o">=</span> <span class="n">opStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="kt">char</span> <span class="n">sign</span> <span class="o">=</span> <span class="n">signStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="kt">int</span><span class="o">[]</span> <span class="n">ops</span> <span class="o">=</span> <span class="n">minOp</span><span class="o">(</span><span class="n">num1</span><span class="o">,</span> <span class="n">num2</span><span class="o">,</span> <span class="n">op1</span><span class="o">,</span> <span class="n">op2</span><span class="o">,</span> <span class="n">sign</span><span class="o">);</span>
                <span class="n">numStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">ops</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
                <span class="n">opStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">ops</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">opStack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">minOp</span><span class="o">(</span><span class="kt">int</span> <span class="n">num1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">op1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">op2</span><span class="o">,</span> <span class="kt">char</span> <span class="n">sign</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">sign</span> <span class="o">==</span> <span class="sc">'&amp;'</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">num1</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">num2</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
                <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">op1</span><span class="o">,</span> <span class="n">op2</span><span class="o">)};</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">num1</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">num2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
                <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">0</span><span class="o">,</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">op1</span><span class="o">,</span> <span class="n">op2</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">};</span>
            <span class="k">else</span>
                <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">};</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">num1</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">num2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
                <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">0</span><span class="o">,</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">op1</span><span class="o">,</span> <span class="n">op2</span><span class="o">)};</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">num1</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">num2</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
                <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">op1</span><span class="o">,</span> <span class="n">op2</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">};</span>
            <span class="k">else</span>
                <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">};</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/minimum-cost-to-change-the-final-value-of-expression/</span>
<span class="c1">// Time: O(N)</span>
<span class="c1">// Space: O(N)</span>
<span class="c1">// Ref: https://www.bilibili.com/video/BV1yU4y1V79x</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="n">stack</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">num</span><span class="p">;</span>
    <span class="n">stack</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">op</span><span class="p">;</span>
    <span class="kt">void</span> <span class="n">eval</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">b</span> <span class="o">=</span> <span class="n">num</span><span class="p">.</span><span class="n">top</span><span class="p">();</span> <span class="n">num</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
        <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">num</span><span class="p">.</span><span class="n">top</span><span class="p">();</span> <span class="n">num</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
        <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">op</span><span class="p">.</span><span class="n">top</span><span class="p">();</span> <span class="n">op</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'&amp;'</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">num</span><span class="p">.</span><span class="n">push</span><span class="p">({</span>
                <span class="n">min</span><span class="p">({</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">}),</span>
                <span class="n">min</span><span class="p">({</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">})</span>
            <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">num</span><span class="p">.</span><span class="n">push</span><span class="p">({</span>
                <span class="n">min</span><span class="p">({</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">}),</span>
                <span class="n">min</span><span class="p">({</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">})</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">minOperationsToFlip</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">isdigit</span><span class="p">(</span><span class="n">c</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'0'</span><span class="p">)</span> <span class="n">num</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">});</span>
                <span class="k">else</span> <span class="n">num</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">});</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'('</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">op</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">')'</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">top</span><span class="p">()</span> <span class="o">!=</span> <span class="sc">'('</span><span class="p">)</span> <span class="n">eval</span><span class="p">();</span>
                <span class="n">op</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">op</span><span class="p">.</span><span class="n">top</span><span class="p">()</span> <span class="o">!=</span> <span class="sc">'('</span><span class="p">)</span> <span class="n">eval</span><span class="p">();</span>
                <span class="n">op</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="n">eval</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">max</span><span class="p">(</span><span class="n">num</span><span class="p">.</span><span class="n">top</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">num</span><span class="p">.</span><span class="n">top</span><span class="p">()[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1896.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
