<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-362.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-362.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>362 - Design Hit Counter</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Question Formatted question description: https://leetcode.ca/all/362.html Design a hit counter which counts the number of hits received in the past 5 minutes (i.e., the past 300 seconds). Your system should accept a timestamp parameter (in seconds granularity), and you may assume that calls are being made...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-362.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-362.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-362.html" rel="stylesheet"/>
   <link href="solution-362.html" rel="stylesheet"/>
   <link href="solution-362.html" rel="stylesheet"/>
   <link href="solution-362.html" rel="stylesheet"/>
   <link href="solution-362.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="362 - Design Hit Counter" property="og:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/362.html Design a hit counter which counts the number of hits received in the past 5 minutes (i.e., the past 300 seconds). Your system should accept a timestamp parameter (in seconds granularity), and you may assume that calls are being made to the system in chronological order (i.e., timestamp is monotonically increasing). Several hits may arrive roughly at the same time. Implement the HitCounter class: HitCounter() Initializes the object of the hit counter system. void hit(int timestamp) Records a hit that happened at timestamp (in seconds). Several hits may happen at the same timestamp. int getHits(int timestamp) Returns the number of hits in the past 5 minutes from timestamp (i.e., the past 300 seconds). &amp;nbsp; Example 1: Input [&amp;quot;HitCounter&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;getHits&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;getHits&amp;quot;, &amp;quot;getHits&amp;quot;] [[], [1], [2], [3], [4], [300], [300], [301]] Output [null, null, null, null, 3, null, 4, 3] Explanation HitCounter hitCounter = new HitCounter(); hitCounter.hit(1); // hit at timestamp 1. hitCounter.hit(2); // hit at timestamp 2. hitCounter.hit(3); // hit at timestamp 3. hitCounter.getHits(4); // get hits at timestamp 4, return 3. hitCounter.hit(300); // hit at timestamp 300. hitCounter.getHits(300); // get hits at timestamp 300, return 4. hitCounter.getHits(301); // get hits at timestamp 301, return 3. &amp;nbsp; Constraints: 1 &amp;lt;= timestamp &amp;lt;= 2 * 109 All the calls are being made to the system in chronological order (i.e., timestamp is monotonically increasing). At most 300 calls will be made to hit and getHits. &amp;nbsp; Follow up: What if the number of hits per second could be huge? Does your design scale? Algorithm Use a queue, add the current timestamp to the queue every time you click, and then when you need to get the number of clicks, we start from the beginning of the queue, If the time stamp at the beginning is beyond 5 minutes, delete it until the time stamp at the beginning stops within 5 minutes Then the number of elements returned to the queue is the requested number of clicks Follow-up question Two one-dimensional arrays times[] and hits[] with a size of 300 are defined, which are used to store timestamps and hits respectively. In the click function, take the time stamp to 300, and then check whether the previously saved time stamp in this position is the same as the current time stamp. It also means that it is the same time stamp, then the corresponding number of clicks will increase by 1, if not the same, it means that five minutes have passed, then reset the corresponding number of clicks to 1. Then when returning the number of hits, we need to traverse the times array to find all the positions within 5 minutes, and then add up the number of clicks in the corresponding positions in hits. Need further clarify: real-time getHits() ? batch off-line process, then getHits() ? 1st thought is map-reduce, distribute to multiple hosts, so when getHits() need a broadcast to collect all data Possible options: use..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-11-26T21:21:01-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-11-26-362-Design-Hit-Counter/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-362.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="362 - Design Hit Counter" property="twitter:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/362.html Design a hit counter which counts the number of hits received in the past 5 minutes (i.e., the past 300 seconds). Your system should accept a timestamp parameter (in seconds granularity), and you may assume that calls are being made to the system in chronological order (i.e., timestamp is monotonically increasing). Several hits may arrive roughly at the same time. Implement the HitCounter class: HitCounter() Initializes the object of the hit counter system. void hit(int timestamp) Records a hit that happened at timestamp (in seconds). Several hits may happen at the same timestamp. int getHits(int timestamp) Returns the number of hits in the past 5 minutes from timestamp (i.e., the past 300 seconds). &amp;nbsp; Example 1: Input [&amp;quot;HitCounter&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;getHits&amp;quot;, &amp;quot;hit&amp;quot;, &amp;quot;getHits&amp;quot;, &amp;quot;getHits&amp;quot;] [[], [1], [2], [3], [4], [300], [300], [301]] Output [null, null, null, null, 3, null, 4, 3] Explanation HitCounter hitCounter = new HitCounter(); hitCounter.hit(1); // hit at timestamp 1. hitCounter.hit(2); // hit at timestamp 2. hitCounter.hit(3); // hit at timestamp 3. hitCounter.getHits(4); // get hits at timestamp 4, return 3. hitCounter.hit(300); // hit at timestamp 300. hitCounter.getHits(300); // get hits at timestamp 300, return 4. hitCounter.getHits(301); // get hits at timestamp 301, return 3. &amp;nbsp; Constraints: 1 &amp;lt;= timestamp &amp;lt;= 2 * 109 All the calls are being made to the system in chronological order (i.e., timestamp is monotonically increasing). At most 300 calls will be made to hit and getHits. &amp;nbsp; Follow up: What if the number of hits per second could be huge? Does your design scale? Algorithm Use a queue, add the current timestamp to the queue every time you click, and then when you need to get the number of clicks, we start from the beginning of the queue, If the time stamp at the beginning is beyond 5 minutes, delete it until the time stamp at the beginning stops within 5 minutes Then the number of elements returned to the queue is the requested number of clicks Follow-up question Two one-dimensional arrays times[] and hits[] with a size of 300 are defined, which are used to store timestamps and hits respectively. In the click function, take the time stamp to 300, and then check whether the previously saved time stamp in this position is the same as the current time stamp. It also means that it is the same time stamp, then the corresponding number of clicks will increase by 1, if not the same, it means that five minutes have passed, then reset the corresponding number of clicks to 1. Then when returning the number of hits, we need to traverse the times array to find all the positions within 5 minutes, and then add up the number of clicks in the corresponding positions in hits. Need further clarify: real-time getHits() ? batch off-line process, then getHits() ? 1st thought is map-reduce, distribute to multiple hosts, so when getHits() need a broadcast to collect all data Possible options: use..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    362 - Design Hit Counter | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="362 - Design Hit Counter" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-362.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-11-26-362-Design-Hit-Counter/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-11-26T21:21:01-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"362 - Design Hit Counter","dateModified":"2016-11-26T21:21:01-08:00","datePublished":"2016-11-26T21:21:01-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-11-26-362-Design-Hit-Counter/"},"url":"https://leetcode.ca/2016-11-26-362-Design-Hit-Counter/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="question">
       Question
      </h1>
      <p>
       Formatted question description:
       <a href="solution-362.html">
        https://leetcode.ca/all/362.html
       </a>
      </p>
      <p>
       Design a hit counter which counts the number of hits received in the past
       <code>
        5
       </code>
       minutes (i.e., the past
       <code>
        300
       </code>
       seconds).
      </p>
      <p>
       Your system should accept a
       <code>
        timestamp
       </code>
       parameter (
       <strong>
        in seconds
       </strong>
       granularity), and you may assume that calls are being made to the system in chronological order (i.e.,
       <code>
        timestamp
       </code>
       is monotonically increasing). Several hits may arrive roughly at the same time.
      </p>
      <p>
       Implement the
       <code>
        HitCounter
       </code>
       class:
      </p>
      <ul>
       <li>
        <code>
         HitCounter()
        </code>
        Initializes the object of the hit counter system.
       </li>
       <li>
        <code>
         void hit(int timestamp)
        </code>
        Records a hit that happened at
        <code>
         timestamp
        </code>
        (
        <strong>
         in seconds
        </strong>
        ). Several hits may happen at the same
        <code>
         timestamp
        </code>
        .
       </li>
       <li>
        <code>
         int getHits(int timestamp)
        </code>
        Returns the number of hits in the past 5 minutes from
        <code>
         timestamp
        </code>
        (i.e., the past
        <code>
         300
        </code>
        seconds).
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input</strong>
["HitCounter", "hit", "hit", "hit", "getHits", "hit", "getHits", "getHits"]
[[], [1], [2], [3], [4], [300], [300], [301]]
<strong>Output</strong>
[null, null, null, null, 3, null, 4, 3]

<strong>Explanation</strong>
HitCounter hitCounter = new HitCounter();
hitCounter.hit(1);       // hit at timestamp 1.
hitCounter.hit(2);       // hit at timestamp 2.
hitCounter.hit(3);       // hit at timestamp 3.
hitCounter.getHits(4);   // get hits at timestamp 4, return 3.
hitCounter.hit(300);     // hit at timestamp 300.
hitCounter.getHits(300); // get hits at timestamp 300, return 4.
hitCounter.getHits(301); // get hits at timestamp 301, return 3.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= timestamp &lt;= 2 * 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        All the calls are being made to the system in chronological order (i.e.,
        <code>
         timestamp
        </code>
        is monotonically increasing).
       </li>
       <li>
        At most
        <code>
         300
        </code>
        calls will be made to
        <code>
         hit
        </code>
        and
        <code>
         getHits
        </code>
        .
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong>
        Follow up:
       </strong>
       What if the number of hits per second could be huge? Does your design scale?
      </p>
      <h1 id="algorithm">
       Algorithm
      </h1>
      <p>
       Use a
       <code class="language-plaintext highlighter-rouge">
        queue
       </code>
       , add the current timestamp to the queue every time you click, and then when you need to get the number of clicks, we start from the beginning of the queue,
      </p>
      <ul>
       <li>
        If the time stamp at the beginning is beyond 5 minutes, delete it until the time stamp at the beginning stops within 5 minutes
       </li>
       <li>
        Then the number of elements returned to the queue is the requested number of clicks
       </li>
      </ul>
      <h3 id="follow-up-question">
       Follow-up question
      </h3>
      <p>
       Two one-dimensional arrays
       <code class="language-plaintext highlighter-rouge">
        times[]
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        hits[]
       </code>
       with a size of 300 are defined, which are used to store timestamps and hits respectively.
      </p>
      <p>
       In the click function, take the time stamp to 300, and then check whether the previously saved time stamp in this position is the same as the current time stamp. It also means that it is the same time stamp, then the corresponding number of clicks will increase by 1, if not the same, it means that five minutes have passed, then reset the corresponding number of clicks to 1.
      </p>
      <p>
       Then when returning the number of hits, we need to traverse the times array to find all the positions within 5 minutes, and then add up the number of clicks in the corresponding positions in hits.
      </p>
      <h5 id="need-further-clarify">
       Need further clarify:
      </h5>
      <ul>
       <li>
        real-time getHits() ?
       </li>
       <li>
        batch off-line process, then getHits() ?
       </li>
      </ul>
      <p>
       1st thought is map-reduce, distribute to multiple hosts, so when getHits() need a broadcast to collect all data
      </p>
      <p>
       Possible options:
      </p>
      <ol>
       <li>
        use a lock
       </li>
       <li>
        equal distribution
 each machine works independently to count its own users from the past minute.
 When we request the global number, we just need to add all counters together.
       </li>
      </ol>
      <h1 id="code">
       Code
      </h1>
      <ul class="uk-tab" data-uk-switcher="{connect:'#7b77f0a8-c6ac-468f-a807-1aba7f1f6143'}">
       <li class="uk-active">
        <a href="solution-362.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-362.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-362.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-362.html">
         RenderScript
        </a>
       </li>
       <li>
        <a href="solution-362.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-362.html">
         TypeScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="7b77f0a8-c6ac-468f-a807-1aba7f1f6143">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayDeque</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Design_Hit_Counter</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">HitCounter</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="nc">ArrayDeque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">queue</span><span class="o">;</span> <span class="c1">// @note: ArrayDeque has no capacity restrictions</span>

        <span class="c1">// Why is ArrayDeque better than LinkedList?</span>
        <span class="c1">// If you need add/remove of the both ends, ArrayDeque is significantly better than a linked list</span>
        <span class="c1">// https://stackoverflow.com/questions/6163166/why-is-arraydeque-better-than-linkedlist</span>

        <span class="cm">/** Initialize your data structure here. */</span>
        <span class="kd">public</span> <span class="nf">HitCounter</span><span class="o">()</span> <span class="o">{</span>
            <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="o">}</span>

        <span class="cm">/** Record a hit.
         @param timestamp - The current timestamp (in seconds granularity). */</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">hit</span><span class="o">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">timestamp</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="cm">/** Return the number of hits in the past 5 minutes.
         @param timestamp - The current timestamp (in seconds granularity). */</span>

        <span class="c1">// Time Complexity : O(n)</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getHits</span><span class="o">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">startTime</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">-</span> <span class="mi">300</span><span class="o">;</span>

            <span class="c1">// remove all hits over 300 seconds old</span>
            <span class="k">while</span><span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">queue</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="n">startTime</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">HitCounterFollowUp</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">times</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">hits</span><span class="o">;</span>

        <span class="cm">/** Initialize your data structure here. */</span>
        <span class="kd">public</span> <span class="nf">HitCounterFollowUp</span><span class="o">()</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">times</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">300</span><span class="o">];</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">hits</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">300</span><span class="o">];</span>
        <span class="o">}</span>

        <span class="cm">/** Record a hit.
         @param timestamp - The current timestamp (in seconds granularity). */</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">hit</span><span class="o">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">%</span> <span class="mi">300</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">times</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span> <span class="o">!=</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">times</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span> <span class="o">=</span> <span class="n">timestamp</span><span class="o">;</span> <span class="c1">// update with most recent timestamp</span>
                <span class="n">hits</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="o">++</span><span class="n">hits</span><span class="o">[</span><span class="n">idx</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="cm">/** Return the number of hits in the past 5 minutes.
         @param timestamp - The current timestamp (in seconds granularity). */</span>

        <span class="c1">// Time Complexity : O(n)</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getHits</span><span class="o">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">timestamp</span> <span class="o">-</span> <span class="n">times</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// values in times[] not ordered at all</span>
                    <span class="n">res</span> <span class="o">+=</span> <span class="n">hits</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="cm">/**
 * Your HitCounter object will be instantiated and called as such:
 * HitCounter obj = new HitCounter();
 * obj.hit(timestamp);
 * int param_2 = obj.getHits(timestamp);
 */</span>
<span class="o">}</span>

<span class="err">############</span>

<span class="kd">class</span> <span class="nc">HitCounter</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">counter</span><span class="o">;</span>

    <span class="cm">/** Initialize your data structure here. */</span>
    <span class="kd">public</span> <span class="nf">HitCounter</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="o">}</span>

    <span class="cm">/**
       Record a hit.
        @param timestamp - The current timestamp (in seconds granularity).
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">hit</span><span class="o">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">counter</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">counter</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
       Return the number of hits in the past 5 minutes.
        @param timestamp - The current timestamp (in seconds granularity).
     */</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getHits</span><span class="o">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">hits</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">counter</span><span class="o">.</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="mi">300</span> <span class="o">&gt;</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">hits</span> <span class="o">+=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">hits</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your HitCounter object will be instantiated and called as such:
 * HitCounter obj = new HitCounter();
 * obj.hit(timestamp);
 * int param_2 = obj.getHits(timestamp);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/design-hit-counter/</span>
<span class="c1">// Time:</span>
<span class="c1">//      HitCounter: O(1)</span>
<span class="c1">//      hit, getHits: amortized O(1)</span>
<span class="c1">// Space: O(N)</span>
<span class="k">class</span> <span class="nc">HitCounter</span> <span class="p">{</span>
    <span class="n">queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span>
    <span class="kt">void</span> <span class="n">clear</span><span class="p">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">-</span> <span class="mi">300</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">start</span><span class="p">)</span> <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="n">HitCounter</span><span class="p">()</span> <span class="p">{}</span>
    <span class="kt">void</span> <span class="n">hit</span><span class="p">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">clear</span><span class="p">(</span><span class="n">timestamp</span><span class="p">);</span>
        <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">timestamp</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">getHits</span><span class="p">(</span><span class="kt">int</span> <span class="n">timestamp</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">clear</span><span class="p">(</span><span class="n">timestamp</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">HitCounter</span><span class="p">:</span> <span class="c1"># queue
</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""
        Initialize your data structure here.
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">hits</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">hit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Record a hit.
        @param timestamp - The current timestamp (in seconds granularity).
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getHits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="s">"""
        Return the number of hits in the past 5 minutes.
        @param timestamp - The current timestamp (in seconds granularity).
        """</span>
        <span class="k">while</span> <span class="bp">self</span><span class="p">.</span><span class="n">hits</span> <span class="ow">and</span> <span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">timestamp</span> <span class="o">-</span> <span class="mi">300</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">HitCounter</span><span class="p">:</span> <span class="c1"># follow-up
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">times</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">300</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">hits</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">300</span>

    <span class="k">def</span> <span class="nf">hit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">%</span> <span class="mi">300</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">times</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">!=</span> <span class="n">timestamp</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">times</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">timestamp</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">getHits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">300</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">timestamp</span> <span class="o">-</span> <span class="bp">self</span><span class="p">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="bp">self</span><span class="p">.</span><span class="n">hits</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">res</span>

<span class="c1"># Your HitCounter object will be instantiated and called as such:
# obj = HitCounter()
# obj.hit(timestamp)
# param_2 = obj.getHits(timestamp)
</span>
<span class="c1">##############
</span>
<span class="k">class</span> <span class="nc">HitCounter</span><span class="p">:</span> <span class="c1"># extra o(N) space
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""
        Initialize your data structure here.
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">hit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Record a hit.
        @param timestamp - The current timestamp (in seconds granularity).
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">counter</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">getHits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="s">"""
        Return the number of hits in the past 5 minutes.
        @param timestamp - The current timestamp (in seconds granularity).
        """</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">v</span> <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">counter</span><span class="p">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">300</span> <span class="o">&gt;</span> <span class="n">timestamp</span><span class="p">])</span>


<span class="c1"># Your HitCounter object will be instantiated and called as such:
# obj = HitCounter()
# obj.hit(timestamp)
# param_2 = obj.getHits(timestamp)
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">use</span> <span class="nn">std</span><span class="p">::{</span><span class="nn">collections</span><span class="p">::</span><span class="n">BinaryHeap</span><span class="p">,</span> <span class="nn">cmp</span><span class="p">::</span><span class="n">Reverse</span><span class="p">};</span>

<span class="k">struct</span> <span class="n">HitCounter</span> <span class="p">{</span>
    <span class="cd">/// A min heap</span>
    <span class="n">pq</span><span class="p">:</span> <span class="n">BinaryHeap</span><span class="o">&lt;</span><span class="n">Reverse</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;&gt;</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">HitCounter</span> <span class="p">{</span>
    <span class="k">fn</span> <span class="nf">new</span><span class="p">()</span> <span class="k">-&gt;</span> <span class="k">Self</span> <span class="p">{</span>
        <span class="k">Self</span> <span class="p">{</span>
            <span class="n">pq</span><span class="p">:</span> <span class="nn">BinaryHeap</span><span class="p">::</span><span class="nf">new</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">hit</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span> <span class="k">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">i32</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="py">.pq</span><span class="nf">.push</span><span class="p">(</span><span class="nf">Reverse</span><span class="p">(</span><span class="n">timestamp</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">get_hits</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span> <span class="k">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">i32</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">i32</span> <span class="p">{</span>
        <span class="k">while</span> <span class="k">let</span> <span class="nf">Some</span><span class="p">(</span><span class="nf">Reverse</span><span class="p">(</span><span class="n">min_elem</span><span class="p">))</span> <span class="o">=</span> <span class="k">self</span><span class="py">.pq</span><span class="nf">.peek</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="o">*</span><span class="n">min_elem</span> <span class="o">&lt;=</span> <span class="n">timestamp</span> <span class="o">-</span> <span class="mi">300</span> <span class="p">{</span>
                <span class="k">self</span><span class="py">.pq</span><span class="nf">.pop</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">self</span><span class="py">.pq</span><span class="nf">.len</span><span class="p">()</span> <span class="k">as</span> <span class="nb">i32</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">HitCounter</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">ts</span> <span class="p">[]</span><span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Constructor</span><span class="p">()</span> <span class="n">HitCounter</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">HitCounter</span><span class="p">{}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">HitCounter</span><span class="p">)</span> <span class="n">Hit</span><span class="p">(</span><span class="n">timestamp</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">this</span><span class="o">.</span><span class="n">ts</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">HitCounter</span><span class="p">)</span> <span class="n">GetHits</span><span class="p">(</span><span class="n">timestamp</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span> <span class="o">-</span> <span class="n">sort</span><span class="o">.</span><span class="n">SearchInts</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">-</span><span class="m">300</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="c">/**
 * Your HitCounter object will be instantiated and called as such:
 * obj := Constructor();
 * obj.Hit(timestamp);
 * param_2 := obj.GetHits(timestamp);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nx">HitCounter</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nx">ts</span><span class="p">:</span> <span class="kr">number</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{}</span>

    <span class="nx">hit</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">ts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">getHits</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">search</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="p">[</span><span class="nx">l</span><span class="p">,</span> <span class="nx">r</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">ts</span><span class="p">.</span><span class="nx">length</span><span class="p">];</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">l</span> <span class="o">&lt;</span> <span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">const</span> <span class="nx">mid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">r</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ts</span><span class="p">[</span><span class="nx">mid</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">r</span> <span class="o">=</span> <span class="nx">mid</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="nx">l</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">l</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">ts</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">search</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">-</span> <span class="mi">300</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**
 * Your HitCounter object will be instantiated and called as such:
 * var obj = new HitCounter()
 * obj.hit(timestamp)
 * var param_2 = obj.getHits(timestamp)
 */</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-362.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
