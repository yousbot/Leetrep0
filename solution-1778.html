<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1778.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1778.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1778 - Shortest Path in a Hidden Grid</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Formatted question description: https://leetcode.ca/all/1778.html 1778. Shortest Path in a Hidden Grid Level Medium Description This is an interactive problem. You are given a robot in a hidden grid, and it wants to go to a target cell in this grid. The grid is of size...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1778.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1778.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1778.html" rel="stylesheet"/>
   <link href="solution-1778.html" rel="stylesheet"/>
   <link href="solution-1778.html" rel="stylesheet"/>
   <link href="solution-1778.html" rel="stylesheet"/>
   <link href="solution-1778.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1778 - Shortest Path in a Hidden Grid" property="og:title"/>
   <meta content="Leetcode Formatted question description: https://leetcode.ca/all/1778.html 1778. Shortest Path in a Hidden Grid Level Medium Description This is an interactive problem. You are given a robot in a hidden grid, and it wants to go to a target cell in this grid. The grid is of size m x n, and each cell in the grid can be empty or blocked. It is guaranteed that the start point and the robotâs destination are different, and neither of them is blocked. You want to find the robotâs minimum distance to the target cell. However, you do not know the gridâs dimensions, or the starting point of the robot, or its target destination. You are only allowed to ask queries to your GridMaster object. You are given a class GridMaster which you can call the following functions from: boolean GridMaster.canMove(char direction) returns true if the robot can move in that direction. Otherwise, it returns false. void GridMaster.move(char direction) moves the robot in that direction. If this move would move the robot to a blocked cell or off the grid, it will be ignored, and the robot would remain in the same position. boolean GridMaster.isTarget() returns true if the robot is currently on the target cell. Otherwise, it returns false. Note that direction in the above functions should be a character from {'U','D','L','R'}, representing the directions up, down, left, and right, respectively. Return the minimum distance between the robotâs initial starting cell and the target cell if there is a path between them. Otherwise, return -1. Custom testing: The test input is read as a 2D matrix grid of size m x n where: grid[i][j] == -1 indicates that the robot is in cell (i, j). grid[i][j] == 0 indicates that the cell (i, j) is blocked. grid[i][j] == 1 indicates that the cell (i, j) is empty. grid[i][j] == 2 indicates that the cell (i, j) is the target cell. There is exactly one -1 and 2 in grid. Remember that you will not have this information in your code. Example 1: Input: grid = [[1,2],[-1,0]] Output: 2 Explanation: One possible interaction is described below: The robot is initially standing on cell (1, 0), denoted by the -1. master.canMove(âUâ) returns True. master.canMove(âDâ) returns False. master.canMove(âLâ) returns False. master.canMove(âRâ) returns False. master.move(âUâ) moves the robot to the cell (0, 0). master.isTarget() returns False. master.canMove(âUâ) returns False. master.canMove(âDâ) returns True. master.canMove(âLâ) returns False. master.canMove(âRâ) returns True. master.move(âRâ) moves the robot to the cell (0, 1). master.isTarget() returns True. We now know that the target is the cell (0, 1), and the shortest path to the target is 2. Example 2: Input: grid = [[0,0,-1],[1,1,1],[2,0,0]] Output: 4 Explanation: The minimum distance between the robot and the target is 4. Example 3: Input: grid = [[-1,0],[0,2]] Output: -1 Explanation: There is no path from the robot to the target cell. Constraints: m == grid.length n == grid[i].length 1 &amp;lt;= n, m &amp;lt;= 500 grid[i][j] is either -1, 0, 1, or 2. There is..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2021-04-30T22:21:01-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2021-04-30-1778-Shortest-Path-in-a-Hidden-Grid/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1778.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1778 - Shortest Path in a Hidden Grid" property="twitter:title"/>
   <meta content="Leetcode Formatted question description: https://leetcode.ca/all/1778.html 1778. Shortest Path in a Hidden Grid Level Medium Description This is an interactive problem. You are given a robot in a hidden grid, and it wants to go to a target cell in this grid. The grid is of size m x n, and each cell in the grid can be empty or blocked. It is guaranteed that the start point and the robotâs destination are different, and neither of them is blocked. You want to find the robotâs minimum distance to the target cell. However, you do not know the gridâs dimensions, or the starting point of the robot, or its target destination. You are only allowed to ask queries to your GridMaster object. You are given a class GridMaster which you can call the following functions from: boolean GridMaster.canMove(char direction) returns true if the robot can move in that direction. Otherwise, it returns false. void GridMaster.move(char direction) moves the robot in that direction. If this move would move the robot to a blocked cell or off the grid, it will be ignored, and the robot would remain in the same position. boolean GridMaster.isTarget() returns true if the robot is currently on the target cell. Otherwise, it returns false. Note that direction in the above functions should be a character from {'U','D','L','R'}, representing the directions up, down, left, and right, respectively. Return the minimum distance between the robotâs initial starting cell and the target cell if there is a path between them. Otherwise, return -1. Custom testing: The test input is read as a 2D matrix grid of size m x n where: grid[i][j] == -1 indicates that the robot is in cell (i, j). grid[i][j] == 0 indicates that the cell (i, j) is blocked. grid[i][j] == 1 indicates that the cell (i, j) is empty. grid[i][j] == 2 indicates that the cell (i, j) is the target cell. There is exactly one -1 and 2 in grid. Remember that you will not have this information in your code. Example 1: Input: grid = [[1,2],[-1,0]] Output: 2 Explanation: One possible interaction is described below: The robot is initially standing on cell (1, 0), denoted by the -1. master.canMove(âUâ) returns True. master.canMove(âDâ) returns False. master.canMove(âLâ) returns False. master.canMove(âRâ) returns False. master.move(âUâ) moves the robot to the cell (0, 0). master.isTarget() returns False. master.canMove(âUâ) returns False. master.canMove(âDâ) returns True. master.canMove(âLâ) returns False. master.canMove(âRâ) returns True. master.move(âRâ) moves the robot to the cell (0, 1). master.isTarget() returns True. We now know that the target is the cell (0, 1), and the shortest path to the target is 2. Example 2: Input: grid = [[0,0,-1],[1,1,1],[2,0,0]] Output: 4 Explanation: The minimum distance between the robot and the target is 4. Example 3: Input: grid = [[-1,0],[0,2]] Output: -1 Explanation: There is no path from the robot to the target cell. Constraints: m == grid.length n == grid[i].length 1 &amp;lt;= n, m &amp;lt;= 500 grid[i][j] is either -1, 0, 1, or 2. There is..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1778 - Shortest Path in a Hidden Grid | Leetcode
   </title>
   <meta content="Jekyll v3.9.4" name="generator">
    <meta content="1778 - Shortest Path in a Hidden Grid" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1778.html" rel="canonical">
          <meta content="https://leetcode.ca/2021-04-30-1778-Shortest-Path-in-a-Hidden-Grid/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2021-04-30T22:21:01-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"headline":"1778 - Shortest Path in a Hidden Grid","dateModified":"2021-04-30T22:21:01-07:00","datePublished":"2021-04-30T22:21:01-07:00","description":"Leetcode","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2021-04-30-1778-Shortest-Path-in-a-Hidden-Grid/"},"url":"https://leetcode.ca/2021-04-30-1778-Shortest-Path-in-a-Hidden-Grid/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCDRuzBvLGzyVvgPyohrahrA" data-count="hidden" data-layout="full">
      </div>
      <p>
       Formatted question description:
       <a href="solution-1778.html">
        https://leetcode.ca/all/1778.html
       </a>
      </p>
      <h1 id="1778-shortest-path-in-a-hidden-grid">
       1778. Shortest Path in a Hidden Grid
      </h1>
      <h2 id="level">
       Level
      </h2>
      <p>
       Medium
      </p>
      <h2 id="description">
       Description
      </h2>
      <p>
       This is an
       <strong>
        interactive problem
       </strong>
       .
      </p>
      <p>
       You are given a robot in a hidden grid, and it wants to go to a target cell in this grid. The grid is of size
       <code class="language-plaintext highlighter-rouge">
        m x n
       </code>
       , and each cell in the grid can be empty or blocked. It is
       <strong>
        guaranteed
       </strong>
       that the start point and the robotâs destination are different, and neither of them is blocked.
      </p>
      <p>
       You want to find the robotâs minimum distance to the target cell. However, you do not know the gridâs dimensions, or the starting point of the robot, or its target destination. You are only allowed to ask queries to your
       <code class="language-plaintext highlighter-rouge">
        GridMaster
       </code>
       object.
      </p>
      <p>
       You are given a class
       <code class="language-plaintext highlighter-rouge">
        GridMaster
       </code>
       which you can call the following functions from:
      </p>
      <ul>
       <li>
        <code class="language-plaintext highlighter-rouge">
         boolean GridMaster.canMove(char direction)
        </code>
        returns true if the robot can move in that direction. Otherwise, it returns
        <code class="language-plaintext highlighter-rouge">
         false
        </code>
        .
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         void GridMaster.move(char direction)
        </code>
        moves the robot in that direction. If this move would move the robot to a blocked cell or off the grid, it will be
        <strong>
         ignored
        </strong>
        , and the robot would remain in the same position.
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         boolean GridMaster.isTarget()
        </code>
        returns
        <code class="language-plaintext highlighter-rouge">
         true
        </code>
        if the robot is currently on the target cell. Otherwise, it returns
        <code class="language-plaintext highlighter-rouge">
         false
        </code>
        .
       </li>
      </ul>
      <p>
       Note that
       <code class="language-plaintext highlighter-rouge">
        direction
       </code>
       in the above functions should be a character from
       <code class="language-plaintext highlighter-rouge">
        {'U','D','L','R'}
       </code>
       , representing the directions up, down, left, and right, respectively.
      </p>
      <p>
       Return
       <em>
        the minimum distance between the robotâs initial starting cell and the target cell if there is a path between them
       </em>
       . Otherwise, return
       <code class="language-plaintext highlighter-rouge">
        -1
       </code>
       .
      </p>
      <p>
       <strong>
        Custom testing:
       </strong>
      </p>
      <p>
       The test input is read as a 2D matrix
       <code class="language-plaintext highlighter-rouge">
        grid
       </code>
       of size
       <code class="language-plaintext highlighter-rouge">
        m x n
       </code>
       where:
      </p>
      <ul>
       <li>
        <code class="language-plaintext highlighter-rouge">
         grid[i][j] == -1
        </code>
        indicates that the robot is in cell
        <code class="language-plaintext highlighter-rouge">
         (i, j)
        </code>
        .
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         grid[i][j] == 0
        </code>
        indicates that the cell
        <code class="language-plaintext highlighter-rouge">
         (i, j)
        </code>
        is blocked.
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         grid[i][j] == 1
        </code>
        indicates that the cell
        <code class="language-plaintext highlighter-rouge">
         (i, j)
        </code>
        is empty.
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         grid[i][j] == 2
        </code>
        indicates that the cell
        <code class="language-plaintext highlighter-rouge">
         (i, j)
        </code>
        is the target cell.
       </li>
      </ul>
      <p>
       There is exactly one
       <code class="language-plaintext highlighter-rouge">
        -1
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        2
       </code>
       in
       <code class="language-plaintext highlighter-rouge">
        grid
       </code>
       . Remember that you will not have this information in your code.
      </p>
      <p>
       <strong>
        Example 1:
       </strong>
      </p>
      <p>
       <strong>
        Input:
       </strong>
       grid = [[1,2],[-1,0]]
      </p>
      <p>
       <strong>
        Output:
       </strong>
       2
      </p>
      <p>
       <strong>
        Explanation:
       </strong>
       One possible interaction is described below:
The robot is initially standing on cell (1, 0), denoted by the -1.
      </p>
      <ul>
       <li>
        master.canMove(âUâ) returns True.
       </li>
       <li>
        master.canMove(âDâ) returns False.
       </li>
       <li>
        master.canMove(âLâ) returns False.
       </li>
       <li>
        master.canMove(âRâ) returns False.
       </li>
       <li>
        master.move(âUâ) moves the robot to the cell (0, 0).
       </li>
       <li>
        master.isTarget() returns False.
       </li>
       <li>
        master.canMove(âUâ) returns False.
       </li>
       <li>
        master.canMove(âDâ) returns True.
       </li>
       <li>
        master.canMove(âLâ) returns False.
       </li>
       <li>
        master.canMove(âRâ) returns True.
       </li>
       <li>
        master.move(âRâ) moves the robot to the cell (0, 1).
       </li>
       <li>
        master.isTarget() returns True.
       </li>
      </ul>
      <p>
       We now know that the target is the cell (0, 1), and the shortest path to the target is 2.
      </p>
      <p>
       <strong>
        Example 2:
       </strong>
      </p>
      <p>
       <strong>
        Input:
       </strong>
       grid = [[0,0,-1],[1,1,1],[2,0,0]]
      </p>
      <p>
       <strong>
        Output:
       </strong>
       4
      </p>
      <p>
       <strong>
        Explanation:
       </strong>
       The minimum distance between the robot and the target is 4.
      </p>
      <p>
       <strong>
        Example 3:
       </strong>
      </p>
      <p>
       <strong>
        Input:
       </strong>
       grid = [[-1,0],[0,2]]
      </p>
      <p>
       <strong>
        Output:
       </strong>
       -1
      </p>
      <p>
       <strong>
        Explanation:
       </strong>
       There is no path from the robot to the target cell.
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code class="language-plaintext highlighter-rouge">
         m == grid.length
        </code>
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         n == grid[i].length
        </code>
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         1 &lt;= n, m &lt;= 500
        </code>
       </li>
       <li>
        <code class="language-plaintext highlighter-rouge">
         grid[i][j]
        </code>
        is either
        <code class="language-plaintext highlighter-rouge">
         -1
        </code>
        ,
        <code class="language-plaintext highlighter-rouge">
         0
        </code>
        ,
        <code class="language-plaintext highlighter-rouge">
         1
        </code>
        , or
        <code class="language-plaintext highlighter-rouge">
         2
        </code>
        .
       </li>
       <li>
        There is
        <strong>
         exactly one
        </strong>
        <code class="language-plaintext highlighter-rouge">
         -1
        </code>
        in
        <code class="language-plaintext highlighter-rouge">
         grid
        </code>
        .
       </li>
       <li>
        There is
        <strong>
         exactly one
        </strong>
        <code class="language-plaintext highlighter-rouge">
         2
        </code>
        in
        <code class="language-plaintext highlighter-rouge">
         grid
        </code>
        .
       </li>
      </ul>
      <h2 id="solution">
       Solution
      </h2>
      <p>
       To find the shortest path, a typical approach is breadth first search. However, in this problem, only an instance of
       <code class="language-plaintext highlighter-rouge">
        GridMaster
       </code>
       is available, and the instance cannot be used directly for breadth first search. However, by using the
       <code class="language-plaintext highlighter-rouge">
        GridMaster
       </code>
       instance, the
       <code class="language-plaintext highlighter-rouge">
        grid
       </code>
       can be found out.
      </p>
      <p>
       Since the maximum number of rows and columns do not exceed 500, create a 2D array
       <code class="language-plaintext highlighter-rouge">
        grid
       </code>
       with 1000 rows and 1000 columns and let
       <code class="language-plaintext highlighter-rouge">
        (500, 500)
       </code>
       be the start position of the robot. Do depth first search starting from the original cell of the robot to figure out all values in
       <code class="language-plaintext highlighter-rouge">
        grid
       </code>
       and determine whether the target cell can be reached. If the target cell cannot be reached, return -1. Otherwise, do breadth first search starting from the original cell to find the shortest path to reach the target cell.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#82cc6117-760a-465c-8a57-39dfddc0d848'}">
       <li class="uk-active">
        <a href="solution-1778.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1778.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1778.html">
         C++
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="82cc6117-760a-465c-8a57-39dfddc0d848">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * // This is the GridMaster's API interface.
 * // You should not implement it, or speculate about its implementation
 * class GridMaster {
 *     boolean canMove(char direction);
 *     void move(char direction);
 *     boolean isTarget();
 * }
 */</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">MAX</span> <span class="o">=</span> <span class="mi">500</span><span class="o">;</span>
    <span class="kt">char</span><span class="o">[]</span> <span class="n">directionsChar</span> <span class="o">=</span> <span class="o">{</span><span class="sc">'U'</span><span class="o">,</span> <span class="sc">'L'</span><span class="o">,</span> <span class="sc">'D'</span><span class="o">,</span> <span class="sc">'R'</span><span class="o">};</span>
    <span class="kt">int</span><span class="o">[][]</span> <span class="n">directionsArr</span> <span class="o">=</span> <span class="o">{</span> <span class="o">{-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">},</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">},</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">},</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">}</span> <span class="o">};</span>
    <span class="kt">boolean</span> <span class="n">flag</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findShortestPath</span><span class="o">(</span><span class="nc">GridMaster</span> <span class="n">master</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">visited1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">MAX</span> <span class="o">*</span> <span class="mi">2</span><span class="o">][</span><span class="no">MAX</span> <span class="o">*</span> <span class="mi">2</span><span class="o">];</span>
        <span class="n">grid</span><span class="o">[</span><span class="no">MAX</span><span class="o">][</span><span class="no">MAX</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="n">depthFirstSearch</span><span class="o">(</span><span class="no">MAX</span><span class="o">,</span> <span class="no">MAX</span><span class="o">,</span> <span class="n">visited1</span><span class="o">,</span> <span class="n">grid</span><span class="o">,</span> <span class="n">master</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">flag</span><span class="o">)</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">boolean</span><span class="o">[][]</span> <span class="n">visited2</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="no">MAX</span> <span class="o">*</span> <span class="mi">2</span><span class="o">][</span><span class="no">MAX</span> <span class="o">*</span> <span class="mi">2</span><span class="o">];</span>
        <span class="n">visited2</span><span class="o">[</span><span class="no">MAX</span><span class="o">][</span><span class="no">MAX</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;();</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="no">MAX</span><span class="o">,</span> <span class="no">MAX</span><span class="o">});</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span><span class="o">[]</span> <span class="n">cell</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">cell</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">column</span> <span class="o">=</span> <span class="n">cell</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">column</span><span class="o">]</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span>
                    <span class="k">return</span> <span class="n">distance</span><span class="o">;</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">directionArr</span> <span class="o">:</span> <span class="n">directionsArr</span><span class="o">)</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">newRow</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="n">directionArr</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">newColumn</span> <span class="o">=</span> <span class="n">column</span> <span class="o">+</span> <span class="n">directionArr</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="n">visited2</span><span class="o">[</span><span class="n">newRow</span><span class="o">][</span><span class="n">newColumn</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">newRow</span><span class="o">][</span><span class="n">newColumn</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">visited2</span><span class="o">[</span><span class="n">newRow</span><span class="o">][</span><span class="n">newColumn</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                        <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">newRow</span><span class="o">,</span> <span class="n">newColumn</span><span class="o">});</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="n">distance</span><span class="o">++;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">depthFirstSearch</span><span class="o">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">column</span><span class="o">,</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">visited</span><span class="o">,</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span><span class="o">,</span> <span class="nc">GridMaster</span> <span class="n">master</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">column</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">master</span><span class="o">.</span><span class="na">isTarget</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">column</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">directionChar</span> <span class="o">=</span> <span class="n">directionsChar</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="kt">char</span> <span class="n">oppositeDirectionChar</span> <span class="o">=</span> <span class="n">directionsChar</span><span class="o">[(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="o">)</span> <span class="o">%</span> <span class="mi">4</span><span class="o">];</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">directionArr</span> <span class="o">=</span> <span class="n">directionsArr</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">newRow</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="n">directionArr</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">newColumn</span> <span class="o">=</span> <span class="n">column</span> <span class="o">+</span> <span class="n">directionArr</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
            <span class="nc">String</span> <span class="n">newStr</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">newRow</span><span class="o">,</span> <span class="n">newColumn</span><span class="o">});</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">visited</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">newStr</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">master</span><span class="o">.</span><span class="na">canMove</span><span class="o">(</span><span class="n">directionChar</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">visited</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">newStr</span><span class="o">);</span>
                <span class="n">master</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">directionChar</span><span class="o">);</span>
                <span class="n">depthFirstSearch</span><span class="o">(</span><span class="n">newRow</span><span class="o">,</span> <span class="n">newColumn</span><span class="o">,</span> <span class="n">visited</span><span class="o">,</span> <span class="n">grid</span><span class="o">,</span> <span class="n">master</span><span class="o">);</span>
                <span class="n">master</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">oppositeDirectionChar</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="err">############</span>

<span class="cm">/**
 * // This is the GridMaster's API interface.
 * // You should not implement it, or speculate about its implementation
 * class GridMaster {
 *     boolean canMove(char direction);
 *     void move(char direction);
 *     boolean isTarget();
 * }
 */</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">dir</span> <span class="o">=</span> <span class="o">{</span><span class="sc">'U'</span><span class="o">,</span> <span class="sc">'R'</span><span class="o">,</span> <span class="sc">'D'</span><span class="o">,</span> <span class="sc">'L'</span><span class="o">};</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">ndir</span> <span class="o">=</span> <span class="o">{</span><span class="sc">'D'</span><span class="o">,</span> <span class="sc">'L'</span><span class="o">,</span> <span class="sc">'U'</span><span class="o">,</span> <span class="sc">'R'</span><span class="o">};</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">dirs</span> <span class="o">=</span> <span class="o">{-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">};</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">N</span> <span class="o">=</span> <span class="mi">1010</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">s</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">target</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findShortestPath</span><span class="o">(</span><span class="nc">GridMaster</span> <span class="n">master</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">target</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">s</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="n">dfs</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">master</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">target</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">s</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
        <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">});</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">q</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="o">++</span><span class="n">ans</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">n</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span><span class="o">[]</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">j</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">target</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="n">i</span> <span class="o">&amp;&amp;</span> <span class="n">target</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="o">++</span><span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dirs</span><span class="o">[</span><span class="n">k</span><span class="o">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">dirs</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="no">N</span> <span class="o">+</span> <span class="n">y</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">s</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="no">N</span> <span class="o">+</span> <span class="n">y</span><span class="o">);</span>
                        <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">});</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">,</span> <span class="nc">GridMaster</span> <span class="n">master</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">master</span><span class="o">.</span><span class="na">isTarget</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">target</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">};</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="o">++</span><span class="n">k</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">d</span> <span class="o">=</span> <span class="n">dir</span><span class="o">[</span><span class="n">k</span><span class="o">],</span> <span class="n">nd</span> <span class="o">=</span> <span class="n">ndir</span><span class="o">[</span><span class="n">k</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dirs</span><span class="o">[</span><span class="n">k</span><span class="o">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">dirs</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">master</span><span class="o">.</span><span class="na">canMove</span><span class="o">(</span><span class="n">d</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">s</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="no">N</span> <span class="o">+</span> <span class="n">y</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">s</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="no">N</span> <span class="o">+</span> <span class="n">y</span><span class="o">);</span>
                <span class="n">master</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">d</span><span class="o">);</span>
                <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">master</span><span class="o">);</span>
                <span class="n">master</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">nd</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1"># """
# This is GridMaster's API interface.
# You should not implement it, or speculate about its implementation
# """
# class GridMaster(object):
#    def canMove(self, direction: str) -&gt; bool:
#
#
#    def move(self, direction: str) -&gt; bool:
#
#
#    def isTarget(self) -&gt; None:
#
#
</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">findShortestPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">:</span> <span class="s">'GridMaster'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
            <span class="k">nonlocal</span> <span class="n">target</span>
            <span class="k">if</span> <span class="n">master</span><span class="p">.</span><span class="n">isTarget</span><span class="p">():</span>
                <span class="n">target</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
            <span class="k">for</span> <span class="nb">dir</span><span class="p">,</span> <span class="n">ndir</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">a</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">b</span>
                <span class="k">if</span> <span class="n">master</span><span class="p">.</span><span class="n">canMove</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
                    <span class="n">s</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
                    <span class="n">master</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                    <span class="n">master</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">ndir</span><span class="p">)</span>

        <span class="n">target</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s">'U'</span><span class="p">,</span> <span class="s">'D'</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="s">'D'</span><span class="p">,</span> <span class="s">'U'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="s">'L'</span><span class="p">,</span> <span class="s">'R'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="p">[</span><span class="s">'R'</span><span class="p">,</span> <span class="s">'L'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="p">]</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">target</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">s</span><span class="p">.</span><span class="n">remove</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)):</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">ans</span>
                <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
                    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">a</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">b</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
                        <span class="n">s</span><span class="p">.</span><span class="n">remove</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
                        <span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * // This is the GridMaster's API interface.
 * // You should not implement it, or speculate about its implementation
 * class GridMaster {
 *   public:
 *     bool canMove(char direction);
 *     void move(char direction);
 *     boolean isTarget();
 * };
 */</span>

<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2010</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">dirs</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span>
    <span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"URDL"</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">target</span><span class="p">;</span>
    <span class="n">unordered_set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vis</span><span class="p">;</span>

<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">findShortestPath</span><span class="p">(</span><span class="n">GridMaster</span><span class="o">&amp;</span> <span class="n">master</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">vis</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">master</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">target</span> <span class="o">==</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">vis</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
        <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">ans</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">m</span><span class="p">;</span> <span class="o">--</span><span class="n">m</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">auto</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
                <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dirs</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">dirs</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">vis</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span> <span class="p">{</span>
                        <span class="n">vis</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>
                        <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">,</span> <span class="n">GridMaster</span><span class="o">&amp;</span> <span class="n">master</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">master</span><span class="p">.</span><span class="n">isTarget</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dirs</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">dirs</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">master</span><span class="p">.</span><span class="n">canMove</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">vis</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">vis</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>
                <span class="n">master</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">master</span><span class="p">);</span>
                <span class="n">master</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">s</span><span class="p">[(</span><span class="n">k</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1778.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
