<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-3393.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-3393.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>3393 - Count Paths With the Given XOR Value</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 3393. Count Paths With the Given XOR Value Description You are given a 2D integer array grid with size m x n. You are also given an integer k. Your task is to calculate the number of paths you can take from the top-left cell...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-3393.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-3393.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-3393.html" rel="stylesheet"/>
   <link href="solution-3393.html" rel="stylesheet"/>
   <link href="solution-3393.html" rel="stylesheet"/>
   <link href="solution-3393.html" rel="stylesheet"/>
   <link href="solution-3393.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="3393 - Count Paths With the Given XOR Value" property="og:title"/>
   <meta content="Leetcode






3393. Count Paths With the Given XOR Value

Description



You are given a 2D integer array grid with size m x n. You are also given an integer k.

Your task is to calculate the number of paths you can take from the top-left cell (0, 0) to the bottom-right cell (m - 1, n - 1) satisfying the following constraints:


	You can either move to the right or down. Formally, from the cell (i, j) you may move to the cell (i, j + 1) or to the cell (i + 1, j) if the target cell exists.
	The XOR of all the numbers on the path must be equal to k.


Return the total number of such paths.

Since the answer can be very large, return the result modulo 109 + 7.

&amp;nbsp;
Example 1:


Input: grid = [[2, 1, 5], [7, 10, 0], [12, 6, 4]], k = 11

Output: 3

Explanation:&amp;nbsp;

The 3 paths are:


	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (2, 0) &amp;rarr; (2, 1) &amp;rarr; (2, 2)
	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (1, 1) &amp;rarr; (1, 2) &amp;rarr; (2, 2)
	(0, 0) &amp;rarr; (0, 1) &amp;rarr; (1, 1) &amp;rarr; (2, 1) &amp;rarr; (2, 2)



Example 2:


Input: grid = [[1, 3, 3, 3], [0, 3, 3, 2], [3, 0, 1, 1]], k = 2

Output: 5

Explanation:

The 5 paths are:


	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (2, 0) &amp;rarr; (2, 1) &amp;rarr; (2, 2) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (1, 1) &amp;rarr; (2, 1) &amp;rarr; (2, 2) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (1, 1) &amp;rarr; (1, 2) &amp;rarr; (1, 3) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (0, 1) &amp;rarr; (1, 1) &amp;rarr; (1, 2) &amp;rarr; (2, 2) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (0, 1) &amp;rarr; (0, 2) &amp;rarr; (1, 2) &amp;rarr; (2, 2) &amp;rarr; (2, 3)



Example 3:


Input: grid = [[1, 1, 1, 2], [3, 0, 3, 2], [3, 0, 2, 2]], k = 10

Output: 0


&amp;nbsp;
Constraints:


	1 &amp;lt;= m == grid.length &amp;lt;= 300
	1 &amp;lt;= n == grid[r].length &amp;lt;= 300
	0 &amp;lt;= grid[r][c] &amp;lt; 16
	0 &amp;lt;= k &amp;lt; 16




Solutions



Solution 1

All Problems

All Solutions" property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2025-01-06T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2025-01-06-3393-Count-Paths-With-the-Given-XOR-Value/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-3393.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="3393 - Count Paths With the Given XOR Value" property="twitter:title"/>
   <meta content="Leetcode






3393. Count Paths With the Given XOR Value

Description



You are given a 2D integer array grid with size m x n. You are also given an integer k.

Your task is to calculate the number of paths you can take from the top-left cell (0, 0) to the bottom-right cell (m - 1, n - 1) satisfying the following constraints:


	You can either move to the right or down. Formally, from the cell (i, j) you may move to the cell (i, j + 1) or to the cell (i + 1, j) if the target cell exists.
	The XOR of all the numbers on the path must be equal to k.


Return the total number of such paths.

Since the answer can be very large, return the result modulo 109 + 7.

&amp;nbsp;
Example 1:


Input: grid = [[2, 1, 5], [7, 10, 0], [12, 6, 4]], k = 11

Output: 3

Explanation:&amp;nbsp;

The 3 paths are:


	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (2, 0) &amp;rarr; (2, 1) &amp;rarr; (2, 2)
	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (1, 1) &amp;rarr; (1, 2) &amp;rarr; (2, 2)
	(0, 0) &amp;rarr; (0, 1) &amp;rarr; (1, 1) &amp;rarr; (2, 1) &amp;rarr; (2, 2)



Example 2:


Input: grid = [[1, 3, 3, 3], [0, 3, 3, 2], [3, 0, 1, 1]], k = 2

Output: 5

Explanation:

The 5 paths are:


	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (2, 0) &amp;rarr; (2, 1) &amp;rarr; (2, 2) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (1, 1) &amp;rarr; (2, 1) &amp;rarr; (2, 2) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (1, 0) &amp;rarr; (1, 1) &amp;rarr; (1, 2) &amp;rarr; (1, 3) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (0, 1) &amp;rarr; (1, 1) &amp;rarr; (1, 2) &amp;rarr; (2, 2) &amp;rarr; (2, 3)
	(0, 0) &amp;rarr; (0, 1) &amp;rarr; (0, 2) &amp;rarr; (1, 2) &amp;rarr; (2, 2) &amp;rarr; (2, 3)



Example 3:


Input: grid = [[1, 1, 1, 2], [3, 0, 3, 2], [3, 0, 2, 2]], k = 10

Output: 0


&amp;nbsp;
Constraints:


	1 &amp;lt;= m == grid.length &amp;lt;= 300
	1 &amp;lt;= n == grid[r].length &amp;lt;= 300
	0 &amp;lt;= grid[r][c] &amp;lt; 16
	0 &amp;lt;= k &amp;lt; 16




Solutions



Solution 1

All Problems

All Solutions" property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    3393 - Count Paths With the Given XOR Value | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="3393 - Count Paths With the Given XOR Value" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-3393.html" rel="canonical">
          <meta content="https://leetcode.ca/2025-01-06-3393-Count-Paths-With-the-Given-XOR-Value/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2025-01-06T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"3393 - Count Paths With the Given XOR Value","dateModified":"2025-01-06T00:00:00-08:00","datePublished":"2025-01-06T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2025-01-06-3393-Count-Paths-With-the-Given-XOR-Value/"},"url":"https://leetcode.ca/2025-01-06-3393-Count-Paths-With-the-Given-XOR-Value/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <!-- problem:start -->
      <h1 id="3393-count-paths-with-the-given-xor-value">
       <a href="solution-3393.html">
        3393. Count Paths With the Given XOR Value
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <!-- description:start -->
      <p>
       You are given a 2D integer array
       <code>
        grid
       </code>
       with size
       <code>
        m x n
       </code>
       . You are also given an integer
       <code>
        k
       </code>
       .
      </p>
      <p>
       Your task is to calculate the number of paths you can take from the top-left cell
       <code>
        (0, 0)
       </code>
       to the bottom-right cell
       <code>
        (m - 1, n - 1)
       </code>
       satisfying the following
       <strong>
        constraints
       </strong>
       :
      </p>
      <ul>
       <li>
        You can either move to the right or down. Formally, from the cell
        <code>
         (i, j)
        </code>
        you may move to the cell
        <code>
         (i, j + 1)
        </code>
        or to the cell
        <code>
         (i + 1, j)
        </code>
        if the target cell
        <em>
         exists
        </em>
        .
       </li>
       <li>
        The
        <code>
         XOR
        </code>
        of all the numbers on the path must be
        <strong>
         equal
        </strong>
        to
        <code>
         k
        </code>
        .
       </li>
      </ul>
      <p>
       Return the total number of such paths.
      </p>
      <p>
       Since the answer can be very large, return the result
       <strong>
        modulo
       </strong>
       <code>
        10
        <sup>
         9
        </sup>
        + 7
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         grid = [[2, 1, 5], [7, 10, 0], [12, 6, 4]], k = 11
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         3
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        The 3 paths are:
       </p>
       <ul>
        <li>
         <code>
          (0, 0) → (1, 0) → (2, 0) → (2, 1) → (2, 2)
         </code>
        </li>
        <li>
         <code>
          (0, 0) → (1, 0) → (1, 1) → (1, 2) → (2, 2)
         </code>
        </li>
        <li>
         <code>
          (0, 0) → (0, 1) → (1, 1) → (2, 1) → (2, 2)
         </code>
        </li>
       </ul>
      </div>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         grid = [[1, 3, 3, 3], [0, 3, 3, 2], [3, 0, 1, 1]], k = 2
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         5
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        The 5 paths are:
       </p>
       <ul>
        <li>
         <code>
          (0, 0) → (1, 0) → (2, 0) → (2, 1) → (2, 2) → (2, 3)
         </code>
        </li>
        <li>
         <code>
          (0, 0) → (1, 0) → (1, 1) → (2, 1) → (2, 2) → (2, 3)
         </code>
        </li>
        <li>
         <code>
          (0, 0) → (1, 0) → (1, 1) → (1, 2) → (1, 3) → (2, 3)
         </code>
        </li>
        <li>
         <code>
          (0, 0) → (0, 1) → (1, 1) → (1, 2) → (2, 2) → (2, 3)
         </code>
        </li>
        <li>
         <code>
          (0, 0) → (0, 1) → (0, 2) → (1, 2) → (2, 2) → (2, 3)
         </code>
        </li>
       </ul>
      </div>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         grid = [[1, 1, 1, 2], [3, 0, 3, 2], [3, 0, 2, 2]], k = 10
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         0
        </span>
       </p>
      </div>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= m == grid.length &lt;= 300
        </code>
       </li>
       <li>
        <code>
         1 &lt;= n == grid[r].length &lt;= 300
        </code>
       </li>
       <li>
        <code>
         0 &lt;= grid[r][c] &lt; 16
        </code>
       </li>
       <li>
        <code>
         0 &lt;= k &lt; 16
        </code>
       </li>
      </ul>
      <!-- description:end -->
      <h2 id="solutions">
       Solutions
      </h2>
      <!-- solution:start -->
      <h3 id="solution-1">
       Solution 1
      </h3>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-3393.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
