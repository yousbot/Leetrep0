<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-281.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-281.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>281 - Zigzag Iterator</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Question Formatted question description: https://leetcode.ca/all/281.html Given two vectors of integers v1 and v2, implement an iterator to return their elements alternately. Implement the ZigzagIterator class: ZigzagIterator(List&amp;lt;int&amp;gt; v1, List&amp;lt;int&amp;gt; v2) initializes the object with the two vectors v1 and v2. boolean hasNext() returns true if the...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-281.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-281.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-281.html" rel="stylesheet"/>
   <link href="solution-281.html" rel="stylesheet"/>
   <link href="solution-281.html" rel="stylesheet"/>
   <link href="solution-281.html" rel="stylesheet"/>
   <link href="solution-281.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="281 - Zigzag Iterator" property="og:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/281.html Given two vectors of integers v1 and v2, implement an iterator to return their elements alternately. Implement the ZigzagIterator class: ZigzagIterator(List&amp;lt;int&amp;gt; v1, List&amp;lt;int&amp;gt; v2) initializes the object with the two vectors v1 and v2. boolean hasNext() returns true if the iterator still has elements, and false otherwise. int next() returns the current element of the iterator and moves the iterator to the next element. &amp;nbsp; Example 1: Input: v1 = [1,2], v2 = [3,4,5,6] Output: [1,3,2,4,5,6] Explanation: By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,3,2,4,5,6]. Example 2: Input: v1 = [1], v2 = [] Output: [1] Example 3: Input: v1 = [], v2 = [1] Output: [1] &amp;nbsp; Constraints: 0 &amp;lt;= v1.length, v2.length &amp;lt;= 1000 1 &amp;lt;= v1.length + v2.length &amp;lt;= 2000 -231 &amp;lt;= v1[i], v2[i] &amp;lt;= 231 - 1 &amp;nbsp; Follow up: What if you are given k vectors? How well can your code be extended to such cases? Clarification for the follow-up question: The &amp;quot;Zigzag&amp;quot; order is not clearly defined and is ambiguous for k &amp;gt; 2 cases. If &amp;quot;Zigzag&amp;quot; does not look right to you, replace &amp;quot;Zigzag&amp;quot; with &amp;quot;Cyclic&amp;quot;. Follow-up Example: Input: v1 = [1,2,3], v2 = [4,5,6,7], v3 = [8,9] Output: [1,4,8,2,5,9,3,6,7] Algorithm Extra space to save For class initialization, the two arrays are stored in another one-bit array in the order of zigzag, then the values in the new array are printed in order. need extra space No extra space Use two variables i and j to record the current element positions of the two vectors, and initialize them to 0. Then when i&amp;lt;=j, it means that you need to print the elements of v1 array, otherwise, print the elements of v2 array. In the hasNext() function, when i or j is printed equal to the length of the corresponding array, assign it to an extra large value, which does not affect the printing of the value of the other array, only when i and j both exceed the length of the lattice array, return false. Follow up, K iterators Queue to hold a pair of iterators/indexes. During initialization, add iterator/index pairs and put them in the queue for every iterator. At initialization, each pair stores the the first and last index of the iterator. In the next() function, take out a pair at the head of the queue. If the current iterator is not equal to end(), store the pari (iterator and the next index) to the queue, and then return the value at the current index. In the hasNext() function, you only need to see if the queue is empty. Code Java C++ Python RenderScript public class Zigzag_Iterator { public static void main(String[] args) { List&amp;lt;Integer&amp;gt; v1 = Arrays.asList(1,2); List&amp;lt;Integer&amp;gt; v2 = Arrays.asList(3, 4, 5, 6); Zigzag_Iterator out = new Zigzag_Iterator(); ZigzagIterator z = out.new ZigzagIterator(v1, v2); while (z.hasNext()) { System.out.println(z.next()); } List&amp;lt;Integer&amp;gt; v3 = Arrays.asList(1,2,3); List&amp;lt;Integer&amp;gt; v4 = Arrays.asList(4,5,6,7); List&amp;lt;Integer&amp;gt; v5 =..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-09-06T22:21:01-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-09-06-281-Zigzag-Iterator/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-281.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="281 - Zigzag Iterator" property="twitter:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/281.html Given two vectors of integers v1 and v2, implement an iterator to return their elements alternately. Implement the ZigzagIterator class: ZigzagIterator(List&amp;lt;int&amp;gt; v1, List&amp;lt;int&amp;gt; v2) initializes the object with the two vectors v1 and v2. boolean hasNext() returns true if the iterator still has elements, and false otherwise. int next() returns the current element of the iterator and moves the iterator to the next element. &amp;nbsp; Example 1: Input: v1 = [1,2], v2 = [3,4,5,6] Output: [1,3,2,4,5,6] Explanation: By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,3,2,4,5,6]. Example 2: Input: v1 = [1], v2 = [] Output: [1] Example 3: Input: v1 = [], v2 = [1] Output: [1] &amp;nbsp; Constraints: 0 &amp;lt;= v1.length, v2.length &amp;lt;= 1000 1 &amp;lt;= v1.length + v2.length &amp;lt;= 2000 -231 &amp;lt;= v1[i], v2[i] &amp;lt;= 231 - 1 &amp;nbsp; Follow up: What if you are given k vectors? How well can your code be extended to such cases? Clarification for the follow-up question: The &amp;quot;Zigzag&amp;quot; order is not clearly defined and is ambiguous for k &amp;gt; 2 cases. If &amp;quot;Zigzag&amp;quot; does not look right to you, replace &amp;quot;Zigzag&amp;quot; with &amp;quot;Cyclic&amp;quot;. Follow-up Example: Input: v1 = [1,2,3], v2 = [4,5,6,7], v3 = [8,9] Output: [1,4,8,2,5,9,3,6,7] Algorithm Extra space to save For class initialization, the two arrays are stored in another one-bit array in the order of zigzag, then the values in the new array are printed in order. need extra space No extra space Use two variables i and j to record the current element positions of the two vectors, and initialize them to 0. Then when i&amp;lt;=j, it means that you need to print the elements of v1 array, otherwise, print the elements of v2 array. In the hasNext() function, when i or j is printed equal to the length of the corresponding array, assign it to an extra large value, which does not affect the printing of the value of the other array, only when i and j both exceed the length of the lattice array, return false. Follow up, K iterators Queue to hold a pair of iterators/indexes. During initialization, add iterator/index pairs and put them in the queue for every iterator. At initialization, each pair stores the the first and last index of the iterator. In the next() function, take out a pair at the head of the queue. If the current iterator is not equal to end(), store the pari (iterator and the next index) to the queue, and then return the value at the current index. In the hasNext() function, you only need to see if the queue is empty. Code Java C++ Python RenderScript public class Zigzag_Iterator { public static void main(String[] args) { List&amp;lt;Integer&amp;gt; v1 = Arrays.asList(1,2); List&amp;lt;Integer&amp;gt; v2 = Arrays.asList(3, 4, 5, 6); Zigzag_Iterator out = new Zigzag_Iterator(); ZigzagIterator z = out.new ZigzagIterator(v1, v2); while (z.hasNext()) { System.out.println(z.next()); } List&amp;lt;Integer&amp;gt; v3 = Arrays.asList(1,2,3); List&amp;lt;Integer&amp;gt; v4 = Arrays.asList(4,5,6,7); List&amp;lt;Integer&amp;gt; v5 =..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    281 - Zigzag Iterator | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="281 - Zigzag Iterator" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-281.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-09-06-281-Zigzag-Iterator/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-09-06T22:21:01-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"281 - Zigzag Iterator","dateModified":"2016-09-06T22:21:01-07:00","datePublished":"2016-09-06T22:21:01-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-09-06-281-Zigzag-Iterator/"},"url":"https://leetcode.ca/2016-09-06-281-Zigzag-Iterator/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="question">
       Question
      </h1>
      <p>
       Formatted question description:
       <a href="solution-281.html">
        https://leetcode.ca/all/281.html
       </a>
      </p>
      <p>
       Given two vectors of integers
       <code>
        v1
       </code>
       and
       <code>
        v2
       </code>
       , implement an iterator to return their elements alternately.
      </p>
      <p>
       Implement the
       <code>
        ZigzagIterator
       </code>
       class:
      </p>
      <ul>
       <li>
        <code>
         ZigzagIterator(List&lt;int&gt; v1, List&lt;int&gt; v2)
        </code>
        initializes the object with the two vectors
        <code>
         v1
        </code>
        and
        <code>
         v2
        </code>
        .
       </li>
       <li>
        <code>
         boolean hasNext()
        </code>
        returns
        <code>
         true
        </code>
        if the iterator still has elements, and
        <code>
         false
        </code>
        otherwise.
       </li>
       <li>
        <code>
         int next()
        </code>
        returns the current element of the iterator and moves the iterator to the next element.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> v1 = [1,2], v2 = [3,4,5,6]
<strong>Output:</strong> [1,3,2,4,5,6]
<strong>Explanation:</strong> By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,3,2,4,5,6].
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> v1 = [1], v2 = []
<strong>Output:</strong> [1]
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> v1 = [], v2 = [1]
<strong>Output:</strong> [1]
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         0 &lt;= v1.length, v2.length &lt;= 1000
        </code>
       </li>
       <li>
        <code>
         1 &lt;= v1.length + v2.length &lt;= 2000
        </code>
       </li>
       <li>
        <code>
         -2
         <sup>
          31
         </sup>
         &lt;= v1[i], v2[i] &lt;= 2
         <sup>
          31
         </sup>
         - 1
        </code>
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong>
        Follow up:
       </strong>
       What if you are given
       <code>
        k
       </code>
       vectors? How well can your code be extended to such cases?
      </p>
      <p>
       <strong>
        Clarification for the follow-up question:
       </strong>
      </p>
      <p>
       The "Zigzag" order is not clearly defined and is ambiguous for
       <code>
        k &gt; 2
       </code>
       cases. If "Zigzag" does not look right to you, replace "Zigzag" with "Cyclic".
      </p>
      <p>
       <strong>
        Follow-up Example:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> v1 = [1,2,3], v2 = [4,5,6,7], v3 = [8,9]
<strong>Output:</strong> [1,4,8,2,5,9,3,6,7]
</pre>
      <h1 id="algorithm">
       Algorithm
      </h1>
      <h3 id="extra-space-to-save">
       Extra space to save
      </h3>
      <p>
       For class initialization, the two arrays are stored in another one-bit array in the order of zigzag, then the values in the new array are printed in order.
      </p>
      <ul>
       <li>
        need extra space
       </li>
      </ul>
      <h3 id="no-extra-space">
       No extra space
      </h3>
      <p>
       Use two variables
       <code class="language-plaintext highlighter-rouge">
        i
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        j
       </code>
       to record the current element positions of the two vectors, and initialize them to 0.
      </p>
      <p>
       Then when
       <code class="language-plaintext highlighter-rouge">
        i&lt;=j
       </code>
       , it means that you need to print the elements of v1 array, otherwise, print the elements of v2 array.
      </p>
      <p>
       In the
       <code class="language-plaintext highlighter-rouge">
        hasNext()
       </code>
       function, when i or j is printed equal to the length of the corresponding array, assign it to an extra large value, which does not affect the printing of the value of the other array, only when i and j both exceed the length of the lattice array, return false.
      </p>
      <h3 id="follow-up-k-iterators">
       Follow up, K iterators
      </h3>
      <p>
       Queue to hold a pair of
       <code class="language-plaintext highlighter-rouge">
        iterators/indexes
       </code>
       . During initialization, add iterator/index pairs and put them in the queue for every iterator. At initialization, each pair stores the the first and last index of the iterator.
      </p>
      <p>
       In the
       <code class="language-plaintext highlighter-rouge">
        next()
       </code>
       function, take out a pair at the head of the queue. If the current iterator is not equal to end(), store the pari (iterator and the next index) to the queue, and then return the value at the current index.
      </p>
      <p>
       In the
       <code class="language-plaintext highlighter-rouge">
        hasNext()
       </code>
       function, you only need to see if the queue is empty.
      </p>
      <h1 id="code">
       Code
      </h1>
      <ul class="uk-tab" data-uk-switcher="{connect:'#d29723a9-3642-47f3-b2a4-4dfe5f8b8d1a'}">
       <li class="uk-active">
        <a href="solution-281.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-281.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-281.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-281.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="d29723a9-3642-47f3-b2a4-4dfe5f8b8d1a">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Zigzag_Iterator</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v1</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v2</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">);</span>

        <span class="n">Zigzag_Iterator</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Zigzag_Iterator</span><span class="o">();</span>
        <span class="nc">ZigzagIterator</span> <span class="n">z</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="na">new</span> <span class="nf">ZigzagIterator</span><span class="o">(</span><span class="n">v1</span><span class="o">,</span> <span class="n">v2</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">z</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">z</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="o">}</span>


        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v3</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v4</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v5</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">);</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">vectors</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">v3</span><span class="o">,</span> <span class="n">v4</span><span class="o">,</span> <span class="n">v5</span><span class="o">);</span>
        <span class="nc">ZigzagIteratorK</span> <span class="n">zk</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="na">new</span> <span class="nf">ZigzagIteratorK</span><span class="o">(</span><span class="n">vectors</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">zk</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span> <span class="c1">// [1,4,8,2,5,9,3,6,7]</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">zk</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZigzagIteratorK</span> <span class="o">{</span>

        <span class="c1">// int[0] is index of vector of vectors list, int[1] is start of a vector, int[2] is end</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>

<span class="c1">//        Map&lt;Integer, List&lt;Integer&gt;&gt; vectorsIndexMap = new HashMap&lt;&gt;(); // no map needed, if move 'vectors' a class variable</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">vectors</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">ZigzagIteratorK</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">vectors</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">vectors</span> <span class="o">=</span> <span class="n">vectors</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">vectors</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">i</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">vectors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">size</span><span class="o">()});</span>
<span class="c1">//                vectorsIndexMap.put(i, vectors.get(i));</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">current</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>

            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">current</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">current</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">end</span> <span class="o">=</span> <span class="n">current</span><span class="o">[</span><span class="mi">2</span><span class="o">];</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">start</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">i</span><span class="o">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">end</span><span class="o">});</span>
            <span class="o">}</span>

<span class="c1">//            return vectorsIndexMap.get(i).get(start);</span>
            <span class="k">return</span> <span class="n">vectors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">start</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">!</span><span class="n">q</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// ZigzagIterator Kä¸ªä¹éç¨</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZigzagIterator_builtinIterator</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">iters</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">&gt;();</span>

        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">ZigzagIterator_builtinIterator</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v1</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v2</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span><span class="o">(</span> <span class="o">!</span><span class="n">v1</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
                <span class="n">iters</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v1</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="k">if</span><span class="o">(</span> <span class="o">!</span><span class="n">v2</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
                <span class="n">iters</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v2</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">iters</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">count</span><span class="o">).</span><span class="na">next</span><span class="o">();</span>
            <span class="k">if</span><span class="o">(!</span><span class="n">iters</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">count</span><span class="o">).</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span> <span class="c1">// remove iterator from list</span>
                <span class="n">iters</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">count</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
            <span class="o">}</span>

            <span class="k">if</span><span class="o">(</span><span class="n">iters</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">count</span> <span class="o">%=</span> <span class="n">iters</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="c1">// mod to decide which iterator to get value</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">!</span><span class="n">iters</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZigzagIterator</span> <span class="o">{</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span> <span class="c1">// this is extra o(N) space solution, can just maintain a boolean variable</span>
        <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">ZigzagIterator</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v1</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v2</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">v1</span><span class="o">.</span><span class="na">size</span><span class="o">(),</span> <span class="n">v2</span><span class="o">.</span><span class="na">size</span><span class="o">());</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">v1</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
                    <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v1</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">v2</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
                    <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v2</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">++);</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">result</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="err">############</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZigzagIterator</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">cur</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">indexes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">vectors</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">ZigzagIterator</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v1</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">v2</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
        <span class="n">indexes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="n">indexes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="n">vectors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v1</span><span class="o">);</span>
        <span class="n">vectors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v2</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">vector</span> <span class="o">=</span> <span class="n">vectors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">indexes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
        <span class="n">indexes</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">cur</span><span class="o">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="o">(</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">%</span> <span class="n">size</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">indexes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">cur</span><span class="o">)</span> <span class="o">==</span> <span class="n">vectors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">cur</span><span class="o">).</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="o">(</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">%</span> <span class="n">size</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">cur</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your ZigzagIterator object will be instantiated and called as such:
 * ZigzagIterator i = new ZigzagIterator(v1, v2);
 * while (i.hasNext()) v[f()] = i.next();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/zigzag-iterator/</span>
<span class="c1">// Time:</span>
<span class="c1">//   ZigzagIterator: O(K)</span>
<span class="c1">//   next: O(1)</span>
<span class="c1">//   hasNext: O(1)</span>
<span class="c1">// Space: O(K) where K is the number of input vectors</span>
<span class="k">class</span> <span class="nc">ZigzagIterator</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="n">ZigzagIterator</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">v1</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">v2</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span> <span class="o">!=</span> <span class="n">v1</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v1</span><span class="p">.</span><span class="n">end</span><span class="p">()));</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v2</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span> <span class="o">!=</span> <span class="n">v2</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">v2</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v2</span><span class="p">.</span><span class="n">end</span><span class="p">()));</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">next</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
        <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">first</span><span class="p">;</span>
        <span class="n">p</span><span class="p">.</span><span class="n">first</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">!=</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">)</span> <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">bool</span> <span class="n">hasNext</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">ZigzagIteratorK</span><span class="p">:</span>

    <span class="c1"># int[0] is index of vector of vectors list, int[1] is start of a vector, int[2] is end
</span>    <span class="n">q</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># no map needed, if move 'vectors' a class variable
</span>    <span class="n">vectors</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vectors</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="n">vectors</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vectors</span><span class="p">)):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vectors</span><span class="p">[</span><span class="n">i</span><span class="p">])])</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">i</span> <span class="o">=</span> <span class="n">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">current</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">])</span>

        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">vectors</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">start</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">hasNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">q</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">ZigzagIterator</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">v2</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cur</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">indexes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="p">.</span><span class="n">size</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">vectors</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span><span class="p">]</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">indexes</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span><span class="p">]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">vector</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">indexes</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span><span class="p">]</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cur</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="p">.</span><span class="n">size</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">hasNext</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">cur</span>
        <span class="k">while</span> <span class="bp">self</span><span class="p">.</span><span class="n">indexes</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span><span class="p">]</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">vectors</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span><span class="p">]):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">cur</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="p">.</span><span class="n">size</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">cur</span> <span class="o">==</span> <span class="n">start</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>


<span class="c1"># Your ZigzagIterator object will be instantiated and called as such:
# i, v = ZigzagIterator(v1, v2), []
# while i.hasNext(): v.append(i.next())
</span>
<span class="c1">############
</span>
<span class="s">'''
iter() - builtin function, return an iterator object
    https://docs.python.org/3/library/functions.html#iter


    &gt;&gt;&gt; a = map(iter, [[1,2],[3,4]])
    &gt;&gt;&gt;
    &gt;&gt;&gt; b = next(a)
    &gt;&gt;&gt; b
    &lt;list_iterator object at 0x101630280&gt;
    &gt;&gt;&gt; next(b)
    1
    &gt;&gt;&gt; next(b)
    2
    &gt;&gt;&gt; next(b)
    Traceback (most recent call last):
    File "&lt;stdin&gt;", line 1, in &lt;module&gt;
    StopIteration


    &gt;&gt;&gt; b = deque(map(iter, [[1,2],[3,4]]))
    &gt;&gt;&gt;
    &gt;&gt;&gt; c = b.popleft()
    &gt;&gt;&gt; c
    &lt;list_iterator object at 0x1016304f0&gt;
    &gt;&gt;&gt; c.next()
    Traceback (most recent call last):
    File "&lt;stdin&gt;", line 1, in &lt;module&gt;
    AttributeError: 'list_iterator' object has no attribute 'next'
    &gt;&gt;&gt; next(c)
    1
    &gt;&gt;&gt; next(c)
    2
    &gt;&gt;&gt; next(c)
    Traceback (most recent call last):
    File "&lt;stdin&gt;", line 1, in &lt;module&gt;
    StopIteration

len(s) - Return the length (the number of items) of an object
    https://docs.python.org/3/library/functions.html#len
'''</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">ZigzagIterator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">):</span>
    <span class="s">"""
    Initialize your data structure here.
    :type v1: List[int]
    :type v2: List[int]
    """</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">iters</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">iter</span><span class="p">,</span> <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">]))</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">]))</span>

  <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">"""
    :rtype: int
    """</span>
    <span class="n">top</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">iters</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">value</span> <span class="o">=</span> <span class="n">top</span><span class="p">.</span><span class="nb">next</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">StopIteration</span><span class="p">:</span>
      <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="nb">next</span><span class="p">()</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">total</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">total</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">iters</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>

  <span class="k">def</span> <span class="nf">hasNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">"""
    :rtype: bool
    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">total</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="c1"># Your ZigzagIterator object will be instantiated and called as such:
# i, v = ZigzagIterator(v1, v2), []
# while i.hasNext(): v.append(i.next())
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">struct</span> <span class="n">ZigzagIterator</span> <span class="p">{</span>
    <span class="n">v1</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">v2</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="cd">/// `false` represents `v1`, `true` represents `v2`</span>
    <span class="n">flag</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">ZigzagIterator</span> <span class="p">{</span>
    <span class="k">fn</span> <span class="nf">new</span><span class="p">(</span><span class="n">v1</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">v2</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="k">Self</span> <span class="p">{</span>
        <span class="k">Self</span> <span class="p">{</span>
            <span class="n">v1</span><span class="p">,</span>
            <span class="n">v2</span><span class="p">,</span>
            <span class="c1">// Initially beginning with `v1`</span>
            <span class="n">flag</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span> <span class="k">self</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">i32</span> <span class="p">{</span>
        <span class="k">if</span> <span class="o">!</span><span class="k">self</span><span class="py">.flag</span> <span class="p">{</span>
            <span class="c1">// v1</span>
            <span class="k">if</span> <span class="k">self</span><span class="py">.v1</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">self</span><span class="py">.v2</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">self</span><span class="py">.flag</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="k">let</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">self</span><span class="py">.v2</span><span class="nf">.remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="k">self</span><span class="py">.v2</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">let</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">self</span><span class="py">.v1</span><span class="nf">.remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">let</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">self</span><span class="py">.v1</span><span class="nf">.remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="k">self</span><span class="py">.flag</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
        <span class="p">}</span>  <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// v2</span>
            <span class="k">if</span> <span class="k">self</span><span class="py">.v2</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">self</span><span class="py">.v1</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">self</span><span class="py">.flag</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
                <span class="k">let</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">self</span><span class="py">.v1</span><span class="nf">.remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="k">self</span><span class="py">.v1</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">let</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">self</span><span class="py">.v2</span><span class="nf">.remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">let</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">self</span><span class="py">.v2</span><span class="nf">.remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="k">self</span><span class="py">.flag</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">has_next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">self</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">bool</span> <span class="p">{</span>
        <span class="o">!</span><span class="k">self</span><span class="py">.v1</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">||</span> <span class="o">!</span><span class="k">self</span><span class="py">.v2</span><span class="nf">.is_empty</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-281.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
