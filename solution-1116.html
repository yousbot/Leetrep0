<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1116.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1116.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1116 - Print Zero Even Odd</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1116. Print Zero Even Odd Description You have a function printNumber that can be called with an integer parameter and prints it to the console. For example, calling printNumber(7) prints 7 to the console. You are given an instance of the class ZeroEvenOdd that has...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1116.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1116.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1116.html" rel="stylesheet"/>
   <link href="solution-1116.html" rel="stylesheet"/>
   <link href="solution-1116.html" rel="stylesheet"/>
   <link href="solution-1116.html" rel="stylesheet"/>
   <link href="solution-1116.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1116 - Print Zero Even Odd" property="og:title"/>
   <meta content='Leetcode 1116. Print Zero Even Odd Description You have a function printNumber that can be called with an integer parameter and prints it to the console. For example, calling printNumber(7) prints 7 to the console. You are given an instance of the class ZeroEvenOdd that has three functions: zero, even, and odd. The same instance of ZeroEvenOdd will be passed to three different threads: Thread A: calls zero() that should only output 0&amp;#39;s. Thread B: calls even() that should only output even numbers. Thread C: calls odd() that should only output odd numbers. Modify the given class to output the series &amp;quot;010203040506...&amp;quot; where the length of the series must be 2n. Implement the ZeroEvenOdd class: ZeroEvenOdd(int n) Initializes the object with the number n that represents the numbers that should be printed. void zero(printNumber) Calls printNumber to output one zero. void even(printNumber) Calls printNumber to output one even number. void odd(printNumber) Calls printNumber to output one odd number. &amp;nbsp; Example 1: Input: n = 2 Output: &amp;quot;0102&amp;quot; Explanation: There are three threads being fired asynchronously. One of them calls zero(), the other calls even(), and the last one calls odd(). &amp;quot;0102&amp;quot; is the correct output. Example 2: Input: n = 5 Output: &amp;quot;0102030405&amp;quot; &amp;nbsp; Constraints: 1 &amp;lt;= n &amp;lt;= 1000 Solutions Solution 1: Multithreading + Semaphore We use three semaphores $z$, $e$, and $o$ to control the execution order of the three threads, where $z$ is initially set to $1$, and $e$ and $o$ are set to $0$. Semaphore $z$ controls the execution of the zero function. When the value of semaphore $z$ is $1$, the zero function can be executed. After execution, the value of semaphore $z$ is set to $0$, and the value of semaphore $e$ or $o$ is set to $1$, depending on whether the even function or the odd function needs to be executed next. Semaphore $e$ controls the execution of the even function. When the value of semaphore $e$ is $1$, the even function can be executed. After execution, the value of semaphore $z$ is set to $1$, and the value of semaphore $e$ is set to $0$. Semaphore $o$ controls the execution of the odd function. When the value of semaphore $o$ is $1$, the odd function can be executed. After execution, the value of semaphore $z$ is set to $1$, and the value of semaphore $o$ is set to $0$. The time complexity is $O(n)$, and the space complexity is $O(1)$. Java C++ Python class ZeroEvenOdd { private int n; private Semaphore z = new Semaphore(1); private Semaphore e = new Semaphore(0); private Semaphore o = new Semaphore(0); public ZeroEvenOdd(int n) { this.n = n; } // printNumber.accept(x) outputs "x", where x is an integer. public void zero(IntConsumer printNumber) throws InterruptedException { for (int i = 0; i &amp;lt; n; ++i) { z.acquire(1); printNumber.accept(0); if (i % 2 == 0) { o.release(1); } else { e.release(1); } } } public void even(IntConsumer printNumber) throws InterruptedException { for (int i...' property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2018-12-20T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2018-12-20-1116-Print-Zero-Even-Odd/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1116.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1116 - Print Zero Even Odd" property="twitter:title"/>
   <meta content='Leetcode 1116. Print Zero Even Odd Description You have a function printNumber that can be called with an integer parameter and prints it to the console. For example, calling printNumber(7) prints 7 to the console. You are given an instance of the class ZeroEvenOdd that has three functions: zero, even, and odd. The same instance of ZeroEvenOdd will be passed to three different threads: Thread A: calls zero() that should only output 0&amp;#39;s. Thread B: calls even() that should only output even numbers. Thread C: calls odd() that should only output odd numbers. Modify the given class to output the series &amp;quot;010203040506...&amp;quot; where the length of the series must be 2n. Implement the ZeroEvenOdd class: ZeroEvenOdd(int n) Initializes the object with the number n that represents the numbers that should be printed. void zero(printNumber) Calls printNumber to output one zero. void even(printNumber) Calls printNumber to output one even number. void odd(printNumber) Calls printNumber to output one odd number. &amp;nbsp; Example 1: Input: n = 2 Output: &amp;quot;0102&amp;quot; Explanation: There are three threads being fired asynchronously. One of them calls zero(), the other calls even(), and the last one calls odd(). &amp;quot;0102&amp;quot; is the correct output. Example 2: Input: n = 5 Output: &amp;quot;0102030405&amp;quot; &amp;nbsp; Constraints: 1 &amp;lt;= n &amp;lt;= 1000 Solutions Solution 1: Multithreading + Semaphore We use three semaphores $z$, $e$, and $o$ to control the execution order of the three threads, where $z$ is initially set to $1$, and $e$ and $o$ are set to $0$. Semaphore $z$ controls the execution of the zero function. When the value of semaphore $z$ is $1$, the zero function can be executed. After execution, the value of semaphore $z$ is set to $0$, and the value of semaphore $e$ or $o$ is set to $1$, depending on whether the even function or the odd function needs to be executed next. Semaphore $e$ controls the execution of the even function. When the value of semaphore $e$ is $1$, the even function can be executed. After execution, the value of semaphore $z$ is set to $1$, and the value of semaphore $e$ is set to $0$. Semaphore $o$ controls the execution of the odd function. When the value of semaphore $o$ is $1$, the odd function can be executed. After execution, the value of semaphore $z$ is set to $1$, and the value of semaphore $o$ is set to $0$. The time complexity is $O(n)$, and the space complexity is $O(1)$. Java C++ Python class ZeroEvenOdd { private int n; private Semaphore z = new Semaphore(1); private Semaphore e = new Semaphore(0); private Semaphore o = new Semaphore(0); public ZeroEvenOdd(int n) { this.n = n; } // printNumber.accept(x) outputs "x", where x is an integer. public void zero(IntConsumer printNumber) throws InterruptedException { for (int i = 0; i &amp;lt; n; ++i) { z.acquire(1); printNumber.accept(0); if (i % 2 == 0) { o.release(1); } else { e.release(1); } } } public void even(IntConsumer printNumber) throws InterruptedException { for (int i...' property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1116 - Print Zero Even Odd | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1116 - Print Zero Even Odd" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1116.html" rel="canonical">
          <meta content="https://leetcode.ca/2018-12-20-1116-Print-Zero-Even-Odd/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2018-12-20T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1116 - Print Zero Even Odd","dateModified":"2018-12-20T00:00:00-08:00","datePublished":"2018-12-20T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2018-12-20-1116-Print-Zero-Even-Odd/"},"url":"https://leetcode.ca/2018-12-20-1116-Print-Zero-Even-Odd/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1116-print-zero-even-odd">
       <a href="solution-1116.html">
        1116. Print Zero Even Odd
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You have a function
       <code>
        printNumber
       </code>
       that can be called with an integer parameter and prints it to the console.
      </p>
      <ul>
       <li>
        For example, calling
        <code>
         printNumber(7)
        </code>
        prints
        <code>
         7
        </code>
        to the console.
       </li>
      </ul>
      <p>
       You are given an instance of the class
       <code>
        ZeroEvenOdd
       </code>
       that has three functions:
       <code>
        zero
       </code>
       ,
       <code>
        even
       </code>
       , and
       <code>
        odd
       </code>
       . The same instance of
       <code>
        ZeroEvenOdd
       </code>
       will be passed to three different threads:
      </p>
      <ul>
       <li>
        <strong>
         Thread A:
        </strong>
        calls
        <code>
         zero()
        </code>
        that should only output
        <code>
         0
        </code>
        's.
       </li>
       <li>
        <strong>
         Thread B:
        </strong>
        calls
        <code>
         even()
        </code>
        that should only output even numbers.
       </li>
       <li>
        <strong>
         Thread C:
        </strong>
        calls
        <code>
         odd()
        </code>
        that should only output odd numbers.
       </li>
      </ul>
      <p>
       Modify the given class to output the series
       <code>
        "010203040506..."
       </code>
       where the length of the series must be
       <code>
        2n
       </code>
       .
      </p>
      <p>
       Implement the
       <code>
        ZeroEvenOdd
       </code>
       class:
      </p>
      <ul>
       <li>
        <code>
         ZeroEvenOdd(int n)
        </code>
        Initializes the object with the number
        <code>
         n
        </code>
        that represents the numbers that should be printed.
       </li>
       <li>
        <code>
         void zero(printNumber)
        </code>
        Calls
        <code>
         printNumber
        </code>
        to output one zero.
       </li>
       <li>
        <code>
         void even(printNumber)
        </code>
        Calls
        <code>
         printNumber
        </code>
        to output one even number.
       </li>
       <li>
        <code>
         void odd(printNumber)
        </code>
        Calls
        <code>
         printNumber
        </code>
        to output one odd number.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> n = 2
<strong>Output:</strong> "0102"
<strong>Explanation:</strong> There are three threads being fired asynchronously.
One of them calls zero(), the other calls even(), and the last one calls odd().
"0102" is the correct output.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> n = 5
<strong>Output:</strong> "0102030405"
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= n &lt;= 1000
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Multithreading + Semaphore
       </strong>
      </p>
      <p>
       We use three semaphores $z$, $e$, and $o$ to control the execution order of the three threads, where $z$ is initially set to $1$, and $e$ and $o$ are set to $0$.
      </p>
      <ul>
       <li>
        Semaphore $z$ controls the execution of the
        <code class="language-plaintext highlighter-rouge">
         zero
        </code>
        function. When the value of semaphore $z$ is $1$, the
        <code class="language-plaintext highlighter-rouge">
         zero
        </code>
        function can be executed. After execution, the value of semaphore $z$ is set to $0$, and the value of semaphore $e$ or $o$ is set to $1$, depending on whether the
        <code class="language-plaintext highlighter-rouge">
         even
        </code>
        function or the
        <code class="language-plaintext highlighter-rouge">
         odd
        </code>
        function needs to be executed next.
       </li>
       <li>
        Semaphore $e$ controls the execution of the
        <code class="language-plaintext highlighter-rouge">
         even
        </code>
        function. When the value of semaphore $e$ is $1$, the
        <code class="language-plaintext highlighter-rouge">
         even
        </code>
        function can be executed. After execution, the value of semaphore $z$ is set to $1$, and the value of semaphore $e$ is set to $0$.
       </li>
       <li>
        Semaphore $o$ controls the execution of the
        <code class="language-plaintext highlighter-rouge">
         odd
        </code>
        function. When the value of semaphore $o$ is $1$, the
        <code class="language-plaintext highlighter-rouge">
         odd
        </code>
        function can be executed. After execution, the value of semaphore $z$ is set to $1$, and the value of semaphore $o$ is set to $0$.
       </li>
      </ul>
      <p>
       The time complexity is $O(n)$, and the space complexity is $O(1)$.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#1a2d988a-123d-4a32-a6ad-8cb9fff76bf6'}">
       <li class="uk-active">
        <a href="solution-1116.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1116.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1116.html">
         Python
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="1a2d988a-123d-4a32-a6ad-8cb9fff76bf6">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">ZeroEvenOdd</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">n</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Semaphore</span> <span class="n">z</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Semaphore</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">Semaphore</span> <span class="n">e</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Semaphore</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">Semaphore</span> <span class="n">o</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Semaphore</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

    <span class="kd">public</span> <span class="nf">ZeroEvenOdd</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// printNumber.accept(x) outputs "x", where x is an integer.</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">zero</span><span class="o">(</span><span class="nc">IntConsumer</span> <span class="n">printNumber</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">z</span><span class="o">.</span><span class="na">acquire</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="n">printNumber</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">o</span><span class="o">.</span><span class="na">release</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">release</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">even</span><span class="o">(</span><span class="nc">IntConsumer</span> <span class="n">printNumber</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">acquire</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="n">printNumber</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">z</span><span class="o">.</span><span class="na">release</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">odd</span><span class="o">(</span><span class="nc">IntConsumer</span> <span class="n">printNumber</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">o</span><span class="o">.</span><span class="na">acquire</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="n">printNumber</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">z</span><span class="o">.</span><span class="na">release</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;semaphore.h&gt;</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">ZeroEvenOdd</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">sem_t</span> <span class="n">z</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">o</span><span class="p">;</span>

<span class="nl">public:</span>
    <span class="n">ZeroEvenOdd</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">sem_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">z</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">sem_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">e</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">sem_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">o</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// printNumber(x) outputs "x", where x is an integer.</span>
    <span class="kt">void</span> <span class="n">zero</span><span class="p">(</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">printNumber</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sem_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">z</span><span class="p">);</span>
            <span class="n">printNumber</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sem_post</span><span class="p">(</span><span class="o">&amp;</span><span class="n">o</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">sem_post</span><span class="p">(</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">even</span><span class="p">(</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">printNumber</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sem_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
            <span class="n">printNumber</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">sem_post</span><span class="p">(</span><span class="o">&amp;</span><span class="n">z</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">odd</span><span class="p">(</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">printNumber</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sem_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">o</span><span class="p">);</span>
            <span class="n">printNumber</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">sem_post</span><span class="p">(</span><span class="o">&amp;</span><span class="n">z</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Semaphore</span>


<span class="k">class</span> <span class="nc">ZeroEvenOdd</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">Semaphore</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">e</span> <span class="o">=</span> <span class="n">Semaphore</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">o</span> <span class="o">=</span> <span class="n">Semaphore</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># printNumber(x) outputs "x", where x is an integer.
</span>    <span class="k">def</span> <span class="nf">zero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printNumber</span><span class="p">:</span> <span class="s">'Callable[[int], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">n</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">z</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
            <span class="n">printNumber</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># 'i%2==1' will have wrong answer "0201"
</span>                <span class="bp">self</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">e</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">even</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printNumber</span><span class="p">:</span> <span class="s">'Callable[[int], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">e</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
            <span class="n">printNumber</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">z</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">odd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printNumber</span><span class="p">:</span> <span class="s">'Callable[[int], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
            <span class="n">printNumber</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">z</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1116.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
