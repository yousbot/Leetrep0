<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-394.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-394.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>394 - Decode String</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 394. Decode String Description Given an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer. You may assume that the...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-394.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-394.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-394.html" rel="stylesheet"/>
   <link href="solution-394.html" rel="stylesheet"/>
   <link href="solution-394.html" rel="stylesheet"/>
   <link href="solution-394.html" rel="stylesheet"/>
   <link href="solution-394.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="394 - Decode String" property="og:title"/>
   <meta content="Leetcode 394. Decode String Description Given an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer. You may assume that the input string is always valid; there are no extra white spaces, square brackets are well-formed, etc. Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there will not be input like 3a or 2[4]. The test cases are generated so that the length of the output will never exceed 105. &amp;nbsp; Example 1: Input: s = &amp;quot;3[a]2[bc]&amp;quot; Output: &amp;quot;aaabcbc&amp;quot; Example 2: Input: s = &amp;quot;3[a2[c]]&amp;quot; Output: &amp;quot;accaccacc&amp;quot; Example 3: Input: s = &amp;quot;2[abc]3[cd]ef&amp;quot; Output: &amp;quot;abcabccdcdcdef&amp;quot; &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 30 s consists of lowercase English letters, digits, and square brackets &amp;#39;[]&amp;#39;. s is guaranteed to be a valid input. All the integers in s are in the range [1, 300]. Solutions A recursive approach or using a stack are common solutions to this problem. I will provide a solution using a stack here: A stack is used to keep track of the strings and numbers. When a digit is encountered, it is accumulated in current_num. On encountering â[â, the current context (current string and number) is saved onto the stack, and the current string and number are reset for a new context. On encountering â]â, a previous context is popped from the stack, and the current string is updated by repeating it according to the popped number, then concatenating with the popped string. If a non-digit, non-bracket character is encountered, it is added to the current string. Finally, the current_string holds the decoded string. Walk through the example s = &quot;3[a2[bc]]&quot; Initialization: num_stk = [], str_stk = [], num = 0, res = ''. Parsing s: '3': num becomes 3. '[': Push 3 into num_stk and '' into str_stk. Reset num and res. 'a': res becomes 'a'. '2': num becomes 2. '[': Push 2 into num_stk and 'a' into str_stk. Reset num and res. 'b' and 'c': res becomes 'bc'. ']': Pop 2 from num_stk and 'a' from str_stk. Set res to 'a' + 'bc' * 2, which is 'abcbc'. ']' again: Pop 3 from num_stk and '' (initial value) from str_stk. Set res to '' + 'abcbc' * 3, which is 'abcbcabcbcabcbc'. Completion: No more characters in s. res = 'abcbcabcbcabcbc' is the final result. Java Python TypeScript class Solution { public String decodeString(String s) { Deque&amp;lt;Integer&amp;gt; s1 = new ArrayDeque&amp;lt;&amp;gt;(); Deque&amp;lt;String&amp;gt; s2 = new ArrayDeque&amp;lt;&amp;gt;(); int num = 0; String res = &quot;&quot;; for (char c : s.toCharArray()) { if ('0' &amp;lt;= c &amp;amp;&amp;amp; c &amp;lt;= '9') { num = num * 10 + c - '0'; } else if (c == '[') { s1.push(num); s2.push(res); num = 0; res = &quot;&quot;; } else if (c == ']') { StringBuilder..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-12-28T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-12-28-394-Decode-String/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-394.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="394 - Decode String" property="twitter:title"/>
   <meta content="Leetcode 394. Decode String Description Given an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer. You may assume that the input string is always valid; there are no extra white spaces, square brackets are well-formed, etc. Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there will not be input like 3a or 2[4]. The test cases are generated so that the length of the output will never exceed 105. &amp;nbsp; Example 1: Input: s = &amp;quot;3[a]2[bc]&amp;quot; Output: &amp;quot;aaabcbc&amp;quot; Example 2: Input: s = &amp;quot;3[a2[c]]&amp;quot; Output: &amp;quot;accaccacc&amp;quot; Example 3: Input: s = &amp;quot;2[abc]3[cd]ef&amp;quot; Output: &amp;quot;abcabccdcdcdef&amp;quot; &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 30 s consists of lowercase English letters, digits, and square brackets &amp;#39;[]&amp;#39;. s is guaranteed to be a valid input. All the integers in s are in the range [1, 300]. Solutions A recursive approach or using a stack are common solutions to this problem. I will provide a solution using a stack here: A stack is used to keep track of the strings and numbers. When a digit is encountered, it is accumulated in current_num. On encountering â[â, the current context (current string and number) is saved onto the stack, and the current string and number are reset for a new context. On encountering â]â, a previous context is popped from the stack, and the current string is updated by repeating it according to the popped number, then concatenating with the popped string. If a non-digit, non-bracket character is encountered, it is added to the current string. Finally, the current_string holds the decoded string. Walk through the example s = &quot;3[a2[bc]]&quot; Initialization: num_stk = [], str_stk = [], num = 0, res = ''. Parsing s: '3': num becomes 3. '[': Push 3 into num_stk and '' into str_stk. Reset num and res. 'a': res becomes 'a'. '2': num becomes 2. '[': Push 2 into num_stk and 'a' into str_stk. Reset num and res. 'b' and 'c': res becomes 'bc'. ']': Pop 2 from num_stk and 'a' from str_stk. Set res to 'a' + 'bc' * 2, which is 'abcbc'. ']' again: Pop 3 from num_stk and '' (initial value) from str_stk. Set res to '' + 'abcbc' * 3, which is 'abcbcabcbcabcbc'. Completion: No more characters in s. res = 'abcbcabcbcabcbc' is the final result. Java Python TypeScript class Solution { public String decodeString(String s) { Deque&amp;lt;Integer&amp;gt; s1 = new ArrayDeque&amp;lt;&amp;gt;(); Deque&amp;lt;String&amp;gt; s2 = new ArrayDeque&amp;lt;&amp;gt;(); int num = 0; String res = &quot;&quot;; for (char c : s.toCharArray()) { if ('0' &amp;lt;= c &amp;amp;&amp;amp; c &amp;lt;= '9') { num = num * 10 + c - '0'; } else if (c == '[') { s1.push(num); s2.push(res); num = 0; res = &quot;&quot;; } else if (c == ']') { StringBuilder..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    394 - Decode String | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="394 - Decode String" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-394.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-12-28-394-Decode-String/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-12-28T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"394 - Decode String","dateModified":"2016-12-28T00:00:00-08:00","datePublished":"2016-12-28T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-12-28-394-Decode-String/"},"url":"https://leetcode.ca/2016-12-28-394-Decode-String/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="394-decode-string">
       <a href="solution-394.html">
        394. Decode String
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given an encoded string, return its decoded string.
      </p>
      <p>
       The encoding rule is:
       <code>
        k[encoded_string]
       </code>
       , where the
       <code>
        encoded_string
       </code>
       inside the square brackets is being repeated exactly
       <code>
        k
       </code>
       times. Note that
       <code>
        k
       </code>
       is guaranteed to be a positive integer.
      </p>
      <p>
       You may assume that the input string is always valid; there are no extra white spaces, square brackets are well-formed, etc. Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers,
       <code>
        k
       </code>
       . For example, there will not be input like
       <code>
        3a
       </code>
       or
       <code>
        2[4]
       </code>
       .
      </p>
      <p>
       The test cases are generated so that the length of the output will never exceed
       <code>
        10
        <sup>
         5
        </sup>
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "3[a]2[bc]"
<strong>Output:</strong> "aaabcbc"
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "3[a2[c]]"
<strong>Output:</strong> "accaccacc"
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "2[abc]3[cd]ef"
<strong>Output:</strong> "abcabccdcdcdef"
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= s.length &lt;= 30
        </code>
       </li>
       <li>
        <code>
         s
        </code>
        consists of lowercase English letters, digits, and square brackets
        <code>
         '[]'
        </code>
        .
       </li>
       <li>
        <code>
         s
        </code>
        is guaranteed to be
        <strong>
         a valid
        </strong>
        input.
       </li>
       <li>
        All the integers in
        <code>
         s
        </code>
        are in the range
        <code>
         [1, 300]
        </code>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       A recursive approach or using a stack are common solutions to this problem. I will provide a solution using a stack here:
      </p>
      <ol>
       <li>
        A stack is used to keep track of the strings and numbers.
       </li>
       <li>
        When a digit is encountered, it is accumulated in
        <code class="language-plaintext highlighter-rouge">
         current_num
        </code>
        .
       </li>
       <li>
        On encountering â[â, the current context (current string and number) is saved onto the stack, and the current string and number are reset for a new context.
       </li>
       <li>
        On encountering â]â, a previous context is popped from the stack, and the current string is updated by repeating it according to the popped number, then concatenating with the popped string.
       </li>
       <li>
        If a non-digit, non-bracket character is encountered, it is added to the current string.
       </li>
       <li>
        Finally, the
        <code class="language-plaintext highlighter-rouge">
         current_string
        </code>
        holds the decoded string.
       </li>
      </ol>
      <h3 id="walk-through-the-example-s--3a2bc">
       Walk through the example
       <code class="language-plaintext highlighter-rouge">
        s = "3[a2[bc]]"
       </code>
      </h3>
      <ol>
       <li>
        <p>
         <strong>
          Initialization
         </strong>
         :
         <code class="language-plaintext highlighter-rouge">
          num_stk = []
         </code>
         ,
         <code class="language-plaintext highlighter-rouge">
          str_stk = []
         </code>
         ,
         <code class="language-plaintext highlighter-rouge">
          num = 0
         </code>
         ,
         <code class="language-plaintext highlighter-rouge">
          res = ''
         </code>
         .
        </p>
       </li>
       <li>
        <strong>
         Parsing
         <code class="language-plaintext highlighter-rouge">
          s
         </code>
        </strong>
        :
        <ul>
         <li>
          <code class="language-plaintext highlighter-rouge">
           '3'
          </code>
          :
          <code class="language-plaintext highlighter-rouge">
           num
          </code>
          becomes
          <code class="language-plaintext highlighter-rouge">
           3
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           '['
          </code>
          : Push
          <code class="language-plaintext highlighter-rouge">
           3
          </code>
          into
          <code class="language-plaintext highlighter-rouge">
           num_stk
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           ''
          </code>
          into
          <code class="language-plaintext highlighter-rouge">
           str_stk
          </code>
          . Reset
          <code class="language-plaintext highlighter-rouge">
           num
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           'a'
          </code>
          :
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          becomes
          <code class="language-plaintext highlighter-rouge">
           'a'
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           '2'
          </code>
          :
          <code class="language-plaintext highlighter-rouge">
           num
          </code>
          becomes
          <code class="language-plaintext highlighter-rouge">
           2
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           '['
          </code>
          : Push
          <code class="language-plaintext highlighter-rouge">
           2
          </code>
          into
          <code class="language-plaintext highlighter-rouge">
           num_stk
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           'a'
          </code>
          into
          <code class="language-plaintext highlighter-rouge">
           str_stk
          </code>
          . Reset
          <code class="language-plaintext highlighter-rouge">
           num
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           'b'
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           'c'
          </code>
          :
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          becomes
          <code class="language-plaintext highlighter-rouge">
           'bc'
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           ']'
          </code>
          : Pop
          <code class="language-plaintext highlighter-rouge">
           2
          </code>
          from
          <code class="language-plaintext highlighter-rouge">
           num_stk
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           'a'
          </code>
          from
          <code class="language-plaintext highlighter-rouge">
           str_stk
          </code>
          . Set
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          to
          <code class="language-plaintext highlighter-rouge">
           'a' + 'bc' * 2
          </code>
          , which is
          <code class="language-plaintext highlighter-rouge">
           'abcbc'
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           ']'
          </code>
          again: Pop
          <code class="language-plaintext highlighter-rouge">
           3
          </code>
          from
          <code class="language-plaintext highlighter-rouge">
           num_stk
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           ''
          </code>
          (initial value) from
          <code class="language-plaintext highlighter-rouge">
           str_stk
          </code>
          . Set
          <code class="language-plaintext highlighter-rouge">
           res
          </code>
          to
          <code class="language-plaintext highlighter-rouge">
           '' + 'abcbc' * 3
          </code>
          , which is
          <code class="language-plaintext highlighter-rouge">
           'abcbcabcbcabcbc'
          </code>
          .
         </li>
        </ul>
       </li>
       <li>
        <strong>
         Completion
        </strong>
        : No more characters in
        <code class="language-plaintext highlighter-rouge">
         s
        </code>
        .
        <code class="language-plaintext highlighter-rouge">
         res = 'abcbcabcbcabcbc'
        </code>
        is the final result.
       </li>
      </ol>
      <ul class="uk-tab" data-uk-switcher="{connect:'#444bfb31-8978-42a0-b023-4b9e7b085064'}">
       <li class="uk-active">
        <a href="solution-394.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-394.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-394.html">
         TypeScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="444bfb31-8978-42a0-b023-4b9e7b085064">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">decodeString</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">s1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">s2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">res</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="sc">'0'</span> <span class="o">&lt;=</span> <span class="n">c</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="sc">'9'</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">c</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'['</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">s1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
                <span class="n">s2</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">res</span><span class="o">);</span>
                <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">res</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">']'</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">StringBuilder</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">t</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">res</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">s2</span><span class="o">.</span><span class="na">pop</span><span class="o">()</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">decodeString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">num_stk</span><span class="p">,</span> <span class="n">str_stk</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="n">num</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="s">''</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'['</span><span class="p">:</span>
                <span class="n">num_stk</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
                <span class="n">str_stk</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="c1"># initial, res being pushed is empty str ''
</span>                <span class="n">num</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="s">''</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">']'</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">str_stk</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">+</span> <span class="n">res</span> <span class="o">*</span> <span class="n">num_stk</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="n">c</span>
        <span class="k">return</span> <span class="n">res</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">decodeString</span><span class="p">(</span><span class="nx">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">string</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">stack</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// repeatCount</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">cur</span> <span class="k">of</span> <span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/</span><span class="se">[</span><span class="sr">0-9</span><span class="se">]</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">cur</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">count</span> <span class="o">=</span> <span class="nx">count</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">cur</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="sr">/</span><span class="se">[</span><span class="sr">a-z</span><span class="se">]</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">cur</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">ans</span> <span class="o">+=</span> <span class="nx">cur</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">[</span><span class="dl">'</span> <span class="o">==</span> <span class="nx">cur</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">ans</span><span class="p">,</span> <span class="nx">count</span><span class="p">]);</span>
            <span class="c1">// reset</span>
            <span class="nx">ans</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
            <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// match ']'</span>
            <span class="kd">let</span> <span class="p">[</span><span class="nx">pre</span><span class="p">,</span> <span class="nx">count</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
            <span class="nx">ans</span> <span class="o">=</span> <span class="nx">pre</span> <span class="o">+</span> <span class="nx">ans</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-394.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
