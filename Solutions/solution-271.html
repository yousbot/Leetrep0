<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-271.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-271.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>271 - Encode and Decode Strings</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 271. Encode and Decode Strings Description Design an algorithm to encode a list of strings to a string. The encoded string is then sent over the network and is decoded back to the original list of strings. Machine 1 (sender) has the function: string encode(vector&amp;lt;string&amp;gt;...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-271.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-271.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-271.html" rel="stylesheet"/>
   <link href="solution-271.html" rel="stylesheet"/>
   <link href="solution-271.html" rel="stylesheet"/>
   <link href="solution-271.html" rel="stylesheet"/>
   <link href="solution-271.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="271 - Encode and Decode Strings" property="og:title"/>
   <meta content="Leetcode 271. Encode and Decode Strings Description Design an algorithm to encode a list of strings to a string. The encoded string is then sent over the network and is decoded back to the original list of strings. Machine 1 (sender) has the function: string encode(vector&amp;lt;string&amp;gt; strs) { // ... your code return encoded_string; } Machine 2 (receiver) has the function: vector&amp;lt;string&amp;gt; decode(string s) { //... your code return strs; } So Machine 1 does: string encoded_string = encode(strs); and Machine 2 does: vector&amp;lt;string&amp;gt; strs2 = decode(encoded_string); strs2 in Machine 2 should be the same as strs in Machine 1. Implement the encode and decode methods. You are not allowed to&amp;nbsp;solve the problem using any serialize methods (such as eval). &amp;nbsp; Example 1: Input: dummy_input = [&amp;quot;Hello&amp;quot;,&amp;quot;World&amp;quot;] Output: [&amp;quot;Hello&amp;quot;,&amp;quot;World&amp;quot;] Explanation: Machine 1: Codec encoder = new Codec(); String msg = encoder.encode(strs); Machine 1 ---msg---&amp;gt; Machine 2 Machine 2: Codec decoder = new Codec(); String[] strs = decoder.decode(msg); Example 2: Input: dummy_input = [&amp;quot;&amp;quot;] Output: [&amp;quot;&amp;quot;] &amp;nbsp; Constraints: 1 &amp;lt;= strs.length &amp;lt;= 200 0 &amp;lt;= strs[i].length &amp;lt;= 200 strs[i] contains any possible characters out of 256 valid ASCII characters. &amp;nbsp; Follow up: Could you write a generalized algorithm to work on any possible set of characters? Solutions This is a typical example of a problem that involves serializing and deserializing data, which is a common requirement for storing or transmitting data (e.g., over a network). Method Overview encode(self, strs: List[str]) -&amp;gt; str: Converts a list of strings into a single string that includes both the length of each original string and the string itself. This is done to ensure that the original list can be accurately reconstructed later. decode(self, s: str) -&amp;gt; List[str]: Reverses the encoding process to reconstruct the original list of strings from the encoded single string. Detailed Explanation Encoding Process For each string in the input list, the length of the string is determined and formatted as a 4-character string. This fixed width is crucial for the decoding process, as it provides a consistent way to determine where each original stringâs length ends and where the string itself begins in the encoded form. The 4-character length is then concatenated with the actual string, and this combined string is added to a list (ans). Finally, all combined strings in the list ans are joined together into a single string without any delimiter (since the length of each string is encoded at the beginning of each segment), and this string is returned. Example: Encoding [&quot;hello&quot;, &quot;world&quot;] results in '0005hello0005world'. Decoding Process The encoded string is processed from the beginning (i = 0) to the end (n = len(s)). At each step, a 4-character substring is read and converted to an integer (size), representing the length of the next string in the encoded data. The value of i is then advanced by 4 characters (past the length part), and a substring of length size is extracted, corresponding to one of the original strings. This string is added..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-08-27T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-08-27-271-Encode-and-Decode-Strings/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-271.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="271 - Encode and Decode Strings" property="twitter:title"/>
   <meta content="Leetcode 271. Encode and Decode Strings Description Design an algorithm to encode a list of strings to a string. The encoded string is then sent over the network and is decoded back to the original list of strings. Machine 1 (sender) has the function: string encode(vector&amp;lt;string&amp;gt; strs) { // ... your code return encoded_string; } Machine 2 (receiver) has the function: vector&amp;lt;string&amp;gt; decode(string s) { //... your code return strs; } So Machine 1 does: string encoded_string = encode(strs); and Machine 2 does: vector&amp;lt;string&amp;gt; strs2 = decode(encoded_string); strs2 in Machine 2 should be the same as strs in Machine 1. Implement the encode and decode methods. You are not allowed to&amp;nbsp;solve the problem using any serialize methods (such as eval). &amp;nbsp; Example 1: Input: dummy_input = [&amp;quot;Hello&amp;quot;,&amp;quot;World&amp;quot;] Output: [&amp;quot;Hello&amp;quot;,&amp;quot;World&amp;quot;] Explanation: Machine 1: Codec encoder = new Codec(); String msg = encoder.encode(strs); Machine 1 ---msg---&amp;gt; Machine 2 Machine 2: Codec decoder = new Codec(); String[] strs = decoder.decode(msg); Example 2: Input: dummy_input = [&amp;quot;&amp;quot;] Output: [&amp;quot;&amp;quot;] &amp;nbsp; Constraints: 1 &amp;lt;= strs.length &amp;lt;= 200 0 &amp;lt;= strs[i].length &amp;lt;= 200 strs[i] contains any possible characters out of 256 valid ASCII characters. &amp;nbsp; Follow up: Could you write a generalized algorithm to work on any possible set of characters? Solutions This is a typical example of a problem that involves serializing and deserializing data, which is a common requirement for storing or transmitting data (e.g., over a network). Method Overview encode(self, strs: List[str]) -&amp;gt; str: Converts a list of strings into a single string that includes both the length of each original string and the string itself. This is done to ensure that the original list can be accurately reconstructed later. decode(self, s: str) -&amp;gt; List[str]: Reverses the encoding process to reconstruct the original list of strings from the encoded single string. Detailed Explanation Encoding Process For each string in the input list, the length of the string is determined and formatted as a 4-character string. This fixed width is crucial for the decoding process, as it provides a consistent way to determine where each original stringâs length ends and where the string itself begins in the encoded form. The 4-character length is then concatenated with the actual string, and this combined string is added to a list (ans). Finally, all combined strings in the list ans are joined together into a single string without any delimiter (since the length of each string is encoded at the beginning of each segment), and this string is returned. Example: Encoding [&quot;hello&quot;, &quot;world&quot;] results in '0005hello0005world'. Decoding Process The encoded string is processed from the beginning (i = 0) to the end (n = len(s)). At each step, a 4-character substring is read and converted to an integer (size), representing the length of the next string in the encoded data. The value of i is then advanced by 4 characters (past the length part), and a substring of length size is extracted, corresponding to one of the original strings. This string is added..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    271 - Encode and Decode Strings | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="271 - Encode and Decode Strings" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-271.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-08-27-271-Encode-and-Decode-Strings/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-08-27T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"271 - Encode and Decode Strings","dateModified":"2016-08-27T00:00:00-07:00","datePublished":"2016-08-27T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-08-27-271-Encode-and-Decode-Strings/"},"url":"https://leetcode.ca/2016-08-27-271-Encode-and-Decode-Strings/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="271-encode-and-decode-strings">
       <a href="solution-271.html">
        271. Encode and Decode Strings
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Design an algorithm to encode
       <b>
        a list of strings
       </b>
       to
       <b>
        a string
       </b>
       . The encoded string is then sent over the network and is decoded back to the original list of strings.
      </p>
      <p>
       Machine 1 (sender) has the function:
      </p>
      <pre>
string encode(vector&lt;string&gt; strs) {
  // ... your code
  return encoded_string;
}</pre>
      <p>
       Machine 2 (receiver) has the function:
      </p>
      <pre>
vector&lt;string&gt; decode(string s) {
  //... your code
  return strs;
}
</pre>
      <p>
       So Machine 1 does:
      </p>
      <pre>
string encoded_string = encode(strs);
</pre>
      <p>
       and Machine 2 does:
      </p>
      <pre>
vector&lt;string&gt; strs2 = decode(encoded_string);
</pre>
      <p>
       <code>
        strs2
       </code>
       in Machine 2 should be the same as
       <code>
        strs
       </code>
       in Machine 1.
      </p>
      <p>
       Implement the
       <code>
        encode
       </code>
       and
       <code>
        decode
       </code>
       methods.
      </p>
      <p>
       You are not allowed to solve the problem using any serialize methods (such as
       <code>
        eval
       </code>
       ).
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> dummy_input = ["Hello","World"]
<strong>Output:</strong> ["Hello","World"]
<strong>Explanation:</strong>
Machine 1:
Codec encoder = new Codec();
String msg = encoder.encode(strs);
Machine 1 ---msg---&gt; Machine 2

Machine 2:
Codec decoder = new Codec();
String[] strs = decoder.decode(msg);
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> dummy_input = [""]
<strong>Output:</strong> [""]
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= strs.length &lt;= 200
        </code>
       </li>
       <li>
        <code>
         0 &lt;= strs[i].length &lt;= 200
        </code>
       </li>
       <li>
        <code>
         strs[i]
        </code>
        contains any possible characters out of
        <code>
         256
        </code>
        valid ASCII characters.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong>
        Follow up:
       </strong>
       Could you write a generalized algorithm to work on any possible set of characters?
      </p>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       This is a typical example of a problem that involves serializing and deserializing data, which is a common requirement for storing or transmitting data (e.g., over a network).
      </p>
      <h3 id="method-overview">
       Method Overview
      </h3>
      <ul>
       <li>
        <p>
         <strong>
          <code class="language-plaintext highlighter-rouge">
           encode(self, strs: List[str]) -&gt; str
          </code>
          :
         </strong>
         Converts a list of strings into a single string that includes both the length of each original string and the string itself. This is done to ensure that the original list can be accurately reconstructed later.
        </p>
       </li>
       <li>
        <p>
         <strong>
          <code class="language-plaintext highlighter-rouge">
           decode(self, s: str) -&gt; List[str]
          </code>
          :
         </strong>
         Reverses the encoding process to reconstruct the original list of strings from the encoded single string.
        </p>
       </li>
      </ul>
      <h3 id="detailed-explanation">
       Detailed Explanation
      </h3>
      <h4 id="encoding-process">
       Encoding Process
      </h4>
      <ol>
       <li>
        <p>
         For each string in the input list, the length of the string is determined and formatted as a 4-character string. This fixed width is crucial for the decoding process, as it provides a consistent way to determine where each original stringâs length ends and where the string itself begins in the encoded form.
        </p>
       </li>
       <li>
        <p>
         The 4-character length is then concatenated with the actual string, and this combined string is added to a list (
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         ).
        </p>
       </li>
       <li>
        <p>
         Finally, all combined strings in the list
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         are joined together into a single string without any delimiter (since the length of each string is encoded at the beginning of each segment), and this string is returned.
        </p>
       </li>
      </ol>
      <p>
       Example: Encoding
       <code class="language-plaintext highlighter-rouge">
        ["hello", "world"]
       </code>
       results in
       <code class="language-plaintext highlighter-rouge">
        '0005hello0005world'
       </code>
       .
      </p>
      <h4 id="decoding-process">
       Decoding Process
      </h4>
      <ol>
       <li>
        <p>
         The encoded string is processed from the beginning (
         <code class="language-plaintext highlighter-rouge">
          i = 0
         </code>
         ) to the end (
         <code class="language-plaintext highlighter-rouge">
          n = len(s)
         </code>
         ).
        </p>
       </li>
       <li>
        <p>
         At each step, a 4-character substring is read and converted to an integer (
         <code class="language-plaintext highlighter-rouge">
          size
         </code>
         ), representing the length of the next string in the encoded data.
        </p>
       </li>
       <li>
        <p>
         The value of
         <code class="language-plaintext highlighter-rouge">
          i
         </code>
         is then advanced by 4 characters (past the length part), and a substring of length
         <code class="language-plaintext highlighter-rouge">
          size
         </code>
         is extracted, corresponding to one of the original strings.
        </p>
       </li>
       <li>
        <p>
         This string is added to the result list
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         , and
         <code class="language-plaintext highlighter-rouge">
          i
         </code>
         is advanced by
         <code class="language-plaintext highlighter-rouge">
          size
         </code>
         to move to the next segment of the encoded data.
        </p>
       </li>
       <li>
        <p>
         This process repeats until the end of the encoded string is reached.
        </p>
       </li>
      </ol>
      <p>
       Example: Decoding
       <code class="language-plaintext highlighter-rouge">
        '0005hello0005world'
       </code>
       reconstructs the original list
       <code class="language-plaintext highlighter-rouge">
        ["hello", "world"]
       </code>
       .
      </p>
      <h3 id="notes">
       Notes
      </h3>
      <ul>
       <li>
        <p>
         The choice of a 4-character length prefix assumes that the maximum length of any single string in the list does not exceed 9999 characters. If strings could be longer, the fixed width of the length prefix and the encoding/decoding logic would need to be adjusted accordingly.
        </p>
       </li>
       <li>
        <p>
         This approach is efficient and avoids potential issues with special characters or escape sequences that might occur if a delimiter-based approach were used.
        </p>
       </li>
       <li>
        <p>
         The comment in the code mentions a potential overflow issue if the size is larger than what can be represented by an
         <code class="language-plaintext highlighter-rouge">
          int
         </code>
         . However, in Python, integers can be arbitrarily large, so the practical concern would be the fixed width of the length encoding rather than integer overflow. The comment might be more relevant in languages with fixed-size integer types.
        </p>
       </li>
      </ul>
      <ul class="uk-tab" data-uk-switcher="{connect:'#9d1b7cd8-61dc-4f69-9eb7-4af65860870e'}">
       <li class="uk-active">
        <a href="solution-271.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-271.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-271.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-271.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="9d1b7cd8-61dc-4f69-9eb7-4af65860870e">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Codec</span> <span class="o">{</span>

    <span class="c1">// Encodes a list of strings to a single string.</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">encode</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">strs</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">StringBuilder</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">s</span> <span class="o">:</span> <span class="n">strs</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ans</span><span class="o">.</span><span class="na">append</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()).</span><span class="na">append</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// Decodes a single string to a list of strings.</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">decode</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">++);</span>
            <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="n">size</span><span class="o">));</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="n">size</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Your Codec object will be instantiated and called as such:</span>
<span class="c1">// Codec codec = new Codec();</span>
<span class="c1">// codec.decode(codec.encode(strs));</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Codec</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="c1">// Encodes a list of strings to a single string.</span>
    <span class="n">string</span> <span class="n">encode</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">strs</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">string</span> <span class="n">ans</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">string</span> <span class="n">s</span> <span class="o">:</span> <span class="n">strs</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">string</span><span class="p">((</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">size</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">size</span><span class="p">));</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">s</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Decodes a single string to a list of strings.</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">decode</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">memcpy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">size</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">data</span><span class="p">()</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">size</span><span class="p">));</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">size</span><span class="p">);</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="p">));</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="n">size</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Your Codec object will be instantiated and called as such:</span>
<span class="c1">// Codec codec;</span>
<span class="c1">// codec.decode(codec.encode(strs));</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code>
<span class="s">'''
&gt;&gt;&gt; s = 'abcde'
&gt;&gt;&gt; '{:4}'.format(len(s)) + s
'   5abcde'
&gt;&gt;&gt;
&gt;&gt;&gt; '{:4}'.format(333)
' 333'
&gt;&gt;&gt;
&gt;&gt;&gt; '{:4}'.format(1234)
'1234'
&gt;&gt;&gt; '{:4}'.format(12345)
'12345'

&gt;&gt;&gt; '{0:4}'.format(12345)
'12345'
&gt;&gt;&gt; '{1:4}'.format(12345)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
IndexError: Replacement index 1 out of range for positional args tuple
&gt;&gt;&gt; '{1:4}'.format(12345, 678910)
'678910'
&gt;&gt;&gt; '{:4}'.format(12345, 678910)
'12345'
&gt;&gt;&gt; '{0:4}'.format(12345, 678910)
'12345'
'''</span>
<span class="k">class</span> <span class="nc">Codec</span><span class="p">:</span> <span class="c1"># no splitter
</span>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="s">"""Encodes a list of strings to a single string."""</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strs</span><span class="p">:</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'{:4}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">+</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="s">"""Decodes a single string to a list of strings."""</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span> <span class="c1"># so here potential overflow, if larger than int-max, need to clarify assumption with interviewer
</span>            <span class="n">i</span> <span class="o">+=</span> <span class="mi">4</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">size</span><span class="p">])</span> <span class="c1"># note: exclusive for right index
</span>            <span class="n">i</span> <span class="o">+=</span> <span class="n">size</span>
        <span class="k">return</span> <span class="n">ans</span>


<span class="c1"># Your Codec object will be instantiated and called as such:
# codec = Codec()
# codec.decode(codec.encode(strs))
</span>

<span class="c1">#########
</span>
<span class="k">class</span> <span class="nc">Codec</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">encoded</span> <span class="o">=</span> <span class="s">""</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strs</span><span class="p">:</span>
            <span class="c1"># cover for input: ["abcd", "####"]
</span>            <span class="n">encoded</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">+</span> <span class="s">"#"</span> <span class="o">+</span> <span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"#"</span><span class="p">,</span> <span class="s">"$$"</span><span class="p">)</span> <span class="o">+</span> <span class="s">"#"</span>

        <span class="k">return</span> <span class="n">encoded</span>

    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"#"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">])</span>
            <span class="n">decoded</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">length</span><span class="p">].</span><span class="n">replace</span><span class="p">(</span><span class="s">"$$"</span><span class="p">,</span> <span class="s">"#"</span><span class="p">))</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">decoded</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Codec</span><span class="p">:</span> <span class="c1"># wrong compared with above, for input: ["abcd", "####"]
</span>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strs</span><span class="p">):</span>
        <span class="n">encoded</span> <span class="o">=</span> <span class="s">""</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strs</span><span class="p">:</span>
            <span class="n">encoded</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">+</span> <span class="s">"#"</span> <span class="o">+</span> <span class="n">s</span>
        <span class="k">return</span> <span class="n">encoded</span>

    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">delimiter</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="s">"#"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">delimiter</span><span class="p">])</span>
            <span class="n">decoded</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">delimiter</span><span class="o">+</span><span class="mi">1</span> <span class="p">:</span><span class="n">delimiter</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">length</span><span class="p">])</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">delimiter</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length</span>
        <span class="k">return</span> <span class="n">decoded</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">Codec</span> <span class="k">struct</span> <span class="p">{</span>
<span class="p">}</span>

<span class="c">// Encodes a list of strings to a single string.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">codec</span> <span class="o">*</span><span class="n">Codec</span><span class="p">)</span> <span class="n">Encode</span><span class="p">(</span><span class="n">strs</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
	<span class="n">ans</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">bytes</span><span class="o">.</span><span class="n">Buffer</span><span class="p">{}</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">s</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">strs</span> <span class="p">{</span>
		<span class="n">t</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%04d"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
		<span class="n">ans</span><span class="o">.</span><span class="n">WriteString</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
		<span class="n">ans</span><span class="o">.</span><span class="n">WriteString</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">ans</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
<span class="p">}</span>

<span class="c">// Decodes a single string to a list of strings.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">codec</span> <span class="o">*</span><span class="n">Codec</span><span class="p">)</span> <span class="n">Decode</span><span class="p">(</span><span class="n">strs</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="kt">string</span> <span class="p">{</span>
	<span class="n">ans</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{}</span>
	<span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
		<span class="n">t</span> <span class="o">:=</span> <span class="n">strs</span><span class="p">[</span><span class="n">i</span> <span class="o">:</span> <span class="n">i</span><span class="o">+</span><span class="m">4</span><span class="p">]</span>
		<span class="n">i</span> <span class="o">+=</span> <span class="m">4</span>
		<span class="n">size</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Atoi</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
		<span class="n">ans</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">strs</span><span class="p">[</span><span class="n">i</span><span class="o">:</span><span class="n">i</span><span class="o">+</span><span class="n">size</span><span class="p">])</span>
		<span class="n">i</span> <span class="o">+=</span> <span class="n">size</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">ans</span>
<span class="p">}</span>

<span class="c">// Your Codec object will be instantiated and called as such:</span>
<span class="c">// var codec Codec</span>
<span class="c">// codec.Decode(codec.Encode(strs));</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-271.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
