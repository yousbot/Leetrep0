<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-3320.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-3320.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>3320 - Count The Number of Winning Sequences</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 3320. Count The Number of Winning Sequences Description Alice and Bob are playing a fantasy battle game consisting of n rounds where they summon one of three magical creatures each round: a Fire Dragon, a Water Serpent, or an Earth Golem. In each round, players...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-3320.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-3320.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-3320.html" rel="stylesheet"/>
   <link href="solution-3320.html" rel="stylesheet"/>
   <link href="solution-3320.html" rel="stylesheet"/>
   <link href="solution-3320.html" rel="stylesheet"/>
   <link href="solution-3320.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="3320 - Count The Number of Winning Sequences" property="og:title"/>
   <meta content="Leetcode 3320. Count The Number of Winning Sequences Description Alice and Bob are playing a fantasy battle game consisting of n rounds where they summon one of three magical creatures each round: a Fire Dragon, a Water Serpent, or an Earth Golem. In each round, players simultaneously summon their creature and are awarded points as follows: If one player summons a Fire Dragon and the other summons an Earth Golem, the player who summoned the Fire Dragon is awarded a point. If one player summons a Water Serpent and the other summons a Fire Dragon, the player who summoned the Water Serpent is awarded a point. If one player summons an Earth Golem and the other summons a Water Serpent, the player who summoned the Earth Golem is awarded a point. If both players summon the same creature, no player is awarded a point. You are given a string s consisting of n characters &amp;#39;F&amp;#39;, &amp;#39;W&amp;#39;, and &amp;#39;E&amp;#39;, representing the sequence of creatures Alice will summon in each round: If s[i] == &amp;#39;F&amp;#39;, Alice summons a Fire Dragon. If s[i] == &amp;#39;W&amp;#39;, Alice summons a Water Serpent. If s[i] == &amp;#39;E&amp;#39;, Alice summons an Earth Golem. Bob&amp;rsquo;s sequence of moves is unknown, but it is guaranteed that Bob will never summon the same creature in two consecutive rounds. Bob beats Alice if the total number of points awarded to Bob after n rounds is strictly greater than the points awarded to Alice. Return the number of distinct sequences Bob can use to beat Alice. Since the answer may be very large, return it modulo 109 + 7. &amp;nbsp; Example 1: Input: s = &amp;quot;FFF&amp;quot; Output: 3 Explanation: Bob can beat Alice by making one of the following sequences of moves: &amp;quot;WFW&amp;quot;, &amp;quot;FWF&amp;quot;, or &amp;quot;WEW&amp;quot;. Note that other winning sequences like &amp;quot;WWE&amp;quot; or &amp;quot;EWW&amp;quot; are invalid since Bob cannot make the same move twice in a row. Example 2: Input: s = &amp;quot;FWEFW&amp;quot; Output: 18 Explanation: Bob can beat Alice by making one of the following sequences of moves: &amp;quot;FWFWF&amp;quot;, &amp;quot;FWFWE&amp;quot;, &amp;quot;FWEFE&amp;quot;, &amp;quot;FWEWE&amp;quot;, &amp;quot;FEFWF&amp;quot;, &amp;quot;FEFWE&amp;quot;, &amp;quot;FEFEW&amp;quot;, &amp;quot;FEWFE&amp;quot;, &amp;quot;WFEFE&amp;quot;, &amp;quot;WFEWE&amp;quot;, &amp;quot;WEFWF&amp;quot;, &amp;quot;WEFWE&amp;quot;, &amp;quot;WEFEF&amp;quot;, &amp;quot;WEFEW&amp;quot;, &amp;quot;WEWFW&amp;quot;, &amp;quot;WEWFE&amp;quot;, &amp;quot;EWFWE&amp;quot;, or &amp;quot;EWEWE&amp;quot;. &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 1000 s[i] is one of &amp;#39;F&amp;#39;, &amp;#39;W&amp;#39;, or &amp;#39;E&amp;#39;. Solutions Solution 1: Memoization Search We design a function $\textit{dfs}(i, j, k)$, where $i$ represents starting from the $i$-th character of the string $s$, $j$ represents the current score difference between $\textit{Alice}$ and $\textit{Bob}$, and $k$ represents the last creature summoned by $\textit{Bob}$. The function calculates how many sequences of moves $\textit{Bob}$ can make to defeat $\textit{Alice}$. The answer is $\textit{dfs}(0, 0, -1)$, where $-1$ indicates that $\textit{Bob}$ has not summoned any creatures yet. In languages other than Python, since the score difference can be negative, we can add $n$ to the score difference to ensure it is non-negative. The calculation process of the function $\textit{dfs}(i, j, k)$ is as follows: If $n - i \leq j$, then the remaining rounds are not enough..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2024-11-06T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2024-11-06-3320-Count-The-Number-of-Winning-Sequences/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-3320.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="3320 - Count The Number of Winning Sequences" property="twitter:title"/>
   <meta content="Leetcode 3320. Count The Number of Winning Sequences Description Alice and Bob are playing a fantasy battle game consisting of n rounds where they summon one of three magical creatures each round: a Fire Dragon, a Water Serpent, or an Earth Golem. In each round, players simultaneously summon their creature and are awarded points as follows: If one player summons a Fire Dragon and the other summons an Earth Golem, the player who summoned the Fire Dragon is awarded a point. If one player summons a Water Serpent and the other summons a Fire Dragon, the player who summoned the Water Serpent is awarded a point. If one player summons an Earth Golem and the other summons a Water Serpent, the player who summoned the Earth Golem is awarded a point. If both players summon the same creature, no player is awarded a point. You are given a string s consisting of n characters &amp;#39;F&amp;#39;, &amp;#39;W&amp;#39;, and &amp;#39;E&amp;#39;, representing the sequence of creatures Alice will summon in each round: If s[i] == &amp;#39;F&amp;#39;, Alice summons a Fire Dragon. If s[i] == &amp;#39;W&amp;#39;, Alice summons a Water Serpent. If s[i] == &amp;#39;E&amp;#39;, Alice summons an Earth Golem. Bob&amp;rsquo;s sequence of moves is unknown, but it is guaranteed that Bob will never summon the same creature in two consecutive rounds. Bob beats Alice if the total number of points awarded to Bob after n rounds is strictly greater than the points awarded to Alice. Return the number of distinct sequences Bob can use to beat Alice. Since the answer may be very large, return it modulo 109 + 7. &amp;nbsp; Example 1: Input: s = &amp;quot;FFF&amp;quot; Output: 3 Explanation: Bob can beat Alice by making one of the following sequences of moves: &amp;quot;WFW&amp;quot;, &amp;quot;FWF&amp;quot;, or &amp;quot;WEW&amp;quot;. Note that other winning sequences like &amp;quot;WWE&amp;quot; or &amp;quot;EWW&amp;quot; are invalid since Bob cannot make the same move twice in a row. Example 2: Input: s = &amp;quot;FWEFW&amp;quot; Output: 18 Explanation: Bob can beat Alice by making one of the following sequences of moves: &amp;quot;FWFWF&amp;quot;, &amp;quot;FWFWE&amp;quot;, &amp;quot;FWEFE&amp;quot;, &amp;quot;FWEWE&amp;quot;, &amp;quot;FEFWF&amp;quot;, &amp;quot;FEFWE&amp;quot;, &amp;quot;FEFEW&amp;quot;, &amp;quot;FEWFE&amp;quot;, &amp;quot;WFEFE&amp;quot;, &amp;quot;WFEWE&amp;quot;, &amp;quot;WEFWF&amp;quot;, &amp;quot;WEFWE&amp;quot;, &amp;quot;WEFEF&amp;quot;, &amp;quot;WEFEW&amp;quot;, &amp;quot;WEWFW&amp;quot;, &amp;quot;WEWFE&amp;quot;, &amp;quot;EWFWE&amp;quot;, or &amp;quot;EWEWE&amp;quot;. &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 1000 s[i] is one of &amp;#39;F&amp;#39;, &amp;#39;W&amp;#39;, or &amp;#39;E&amp;#39;. Solutions Solution 1: Memoization Search We design a function $\textit{dfs}(i, j, k)$, where $i$ represents starting from the $i$-th character of the string $s$, $j$ represents the current score difference between $\textit{Alice}$ and $\textit{Bob}$, and $k$ represents the last creature summoned by $\textit{Bob}$. The function calculates how many sequences of moves $\textit{Bob}$ can make to defeat $\textit{Alice}$. The answer is $\textit{dfs}(0, 0, -1)$, where $-1$ indicates that $\textit{Bob}$ has not summoned any creatures yet. In languages other than Python, since the score difference can be negative, we can add $n$ to the score difference to ensure it is non-negative. The calculation process of the function $\textit{dfs}(i, j, k)$ is as follows: If $n - i \leq j$, then the remaining rounds are not enough..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    3320 - Count The Number of Winning Sequences | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="3320 - Count The Number of Winning Sequences" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-3320.html" rel="canonical">
          <meta content="https://leetcode.ca/2024-11-06-3320-Count-The-Number-of-Winning-Sequences/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2024-11-06T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"3320 - Count The Number of Winning Sequences","dateModified":"2024-11-06T00:00:00-08:00","datePublished":"2024-11-06T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2024-11-06-3320-Count-The-Number-of-Winning-Sequences/"},"url":"https://leetcode.ca/2024-11-06-3320-Count-The-Number-of-Winning-Sequences/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <!-- problem:start -->
      <h1 id="3320-count-the-number-of-winning-sequences">
       <a href="solution-3320.html">
        3320. Count The Number of Winning Sequences
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <!-- description:start -->
      <p>
       Alice and Bob are playing a fantasy battle game consisting of
       <code>
        n
       </code>
       rounds where they summon one of three magical creatures each round: a Fire Dragon, a Water Serpent, or an Earth Golem. In each round, players
       <strong>
        simultaneously
       </strong>
       summon their creature and are awarded points as follows:
      </p>
      <ul>
       <li>
        If one player summons a Fire Dragon and the other summons an Earth Golem, the player who summoned the
        <strong>
         Fire Dragon
        </strong>
        is awarded a point.
       </li>
       <li>
        If one player summons a Water Serpent and the other summons a Fire Dragon, the player who summoned the
        <strong>
         Water Serpent
        </strong>
        is awarded a point.
       </li>
       <li>
        If one player summons an Earth Golem and the other summons a Water Serpent, the player who summoned the
        <strong>
         Earth Golem
        </strong>
        is awarded a point.
       </li>
       <li>
        If both players summon the same creature, no player is awarded a point.
       </li>
      </ul>
      <p>
       You are given a string
       <code>
        s
       </code>
       consisting of
       <code>
        n
       </code>
       characters
       <code>
        'F'
       </code>
       ,
       <code>
        'W'
       </code>
       , and
       <code>
        'E'
       </code>
       , representing the sequence of creatures Alice will summon in each round:
      </p>
      <ul>
       <li>
        If
        <code>
         s[i] == 'F'
        </code>
        , Alice summons a Fire Dragon.
       </li>
       <li>
        If
        <code>
         s[i] == 'W'
        </code>
        , Alice summons a Water Serpent.
       </li>
       <li>
        If
        <code>
         s[i] == 'E'
        </code>
        , Alice summons an Earth Golem.
       </li>
      </ul>
      <p>
       Bob’s sequence of moves is unknown, but it is guaranteed that Bob will never summon the same creature in two consecutive rounds. Bob
       <em>
        beats
       </em>
       Alice if the total number of points awarded to Bob after
       <code>
        n
       </code>
       rounds is
       <strong>
        strictly greater
       </strong>
       than the points awarded to Alice.
      </p>
      <p>
       Return the number of distinct sequences Bob can use to beat Alice.
      </p>
      <p>
       Since the answer may be very large, return it
       <strong>
        modulo
       </strong>
       <code>
        10
        <sup>
         9
        </sup>
        + 7
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         s = "FFF"
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         3
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        Bob can beat Alice by making one of the following sequences of moves:
        <code>
         "WFW"
        </code>
        ,
        <code>
         "FWF"
        </code>
        , or
        <code>
         "WEW"
        </code>
        . Note that other winning sequences like
        <code>
         "WWE"
        </code>
        or
        <code>
         "EWW"
        </code>
        are invalid since Bob cannot make the same move twice in a row.
       </p>
      </div>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         s = "FWEFW"
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         18
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        <w>
         Bob can beat Alice by making one of the following sequences of moves:
         <code>
          "FWFWF"
         </code>
         ,
         <code>
          "FWFWE"
         </code>
         ,
         <code>
          "FWEFE"
         </code>
         ,
         <code>
          "FWEWE"
         </code>
         ,
         <code>
          "FEFWF"
         </code>
         ,
         <code>
          "FEFWE"
         </code>
         ,
         <code>
          "FEFEW"
         </code>
         ,
         <code>
          "FEWFE"
         </code>
         ,
         <code>
          "WFEFE"
         </code>
         ,
         <code>
          "WFEWE"
         </code>
         ,
         <code>
          "WEFWF"
         </code>
         ,
         <code>
          "WEFWE"
         </code>
         ,
         <code>
          "WEFEF"
         </code>
         ,
         <code>
          "WEFEW"
         </code>
         ,
         <code>
          "WEWFW"
         </code>
         ,
         <code>
          "WEWFE"
         </code>
         ,
         <code>
          "EWFWE"
         </code>
         , or
         <code>
          "EWEWE"
         </code>
         .
        </w>
       </p>
      </div>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= s.length &lt;= 1000
        </code>
       </li>
       <li>
        <code>
         s[i]
        </code>
        is one of
        <code>
         'F'
        </code>
        ,
        <code>
         'W'
        </code>
        , or
        <code>
         'E'
        </code>
        .
       </li>
      </ul>
      <!-- description:end -->
      <h2 id="solutions">
       Solutions
      </h2>
      <!-- solution:start -->
      <h3 id="solution-1-memoization-search">
       Solution 1: Memoization Search
      </h3>
      <p>
       We design a function $\textit{dfs}(i, j, k)$, where $i$ represents starting from the $i$-th character of the string $s$, $j$ represents the current score difference between $\textit{Alice}$ and $\textit{Bob}$, and $k$ represents the last creature summoned by $\textit{Bob}$. The function calculates how many sequences of moves $\textit{Bob}$ can make to defeat $\textit{Alice}$.
      </p>
      <p>
       The answer is $\textit{dfs}(0, 0, -1)$, where $-1$ indicates that $\textit{Bob}$ has not summoned any creatures yet. In languages other than Python, since the score difference can be negative, we can add $n$ to the score difference to ensure it is non-negative.
      </p>
      <p>
       The calculation process of the function $\textit{dfs}(i, j, k)$ is as follows:
      </p>
      <ul>
       <li>
        If $n - i \leq j$, then the remaining rounds are not enough for $\textit{Bob}$ to surpass $\textit{Alice}$âs score, so return $0$.
       </li>
       <li>
        If $i \geq n$, then all rounds have ended. If $\textit{Bob}$âs score is less than $0$, return $1$; otherwise, return $0$.
       </li>
       <li>
        Otherwise, we enumerate the creatures $\textit{Bob}$ can summon this round. If the creature summoned this round is the same as the one summoned in the previous round, $\textit{Bob}$ cannot win this round, so we skip it. Otherwise, we recursively calculate $\textit{dfs}(i + 1, j + \textit{calc}(d[s[i]], l), l)$, where $\textit{calc}(x, y)$ represents the outcome between $x$ and $y$, and $d$ is a mapping that maps characters to $\textit{012}$. We sum all the results and take the modulo $10^9 + 7$.
       </li>
      </ul>
      <p>
       The time complexity is $O(n^2 \times k^2)$, where $n$ is the length of the string $s$, and $k$ represents the size of the character set. The space complexity is $O(n^2 \times k)$.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#1d0ba819-7f89-4be6-b812-4706f0dd8237'}">
       <li class="uk-active">
        <a href="solution-3320.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-3320.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-3320.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-3320.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="1d0ba819-7f89-4be6-b812-4706f0dd8237">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">n</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">s</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>
    <span class="kd">private</span> <span class="nc">Integer</span><span class="o">[][][]</span> <span class="n">f</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">mod</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="mi">1</span><span class="n">e9</span> <span class="o">+</span> <span class="mi">7</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countWinningSequences</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">d</span><span class="o">[</span><span class="sc">'W'</span> <span class="o">-</span> <span class="sc">'A'</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">d</span><span class="o">[</span><span class="sc">'E'</span> <span class="o">-</span> <span class="sc">'A'</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">();</span>
        <span class="n">n</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">s</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">[</span><span class="n">n</span><span class="o">][</span><span class="n">n</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="mi">4</span><span class="o">];</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">j</span> <span class="o">-</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">];</span>
        <span class="o">}</span>

        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">;</span> <span class="o">++</span><span class="n">l</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="o">(</span><span class="n">ans</span> <span class="o">+</span> <span class="n">dfs</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">calc</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="sc">'A'</span><span class="o">],</span> <span class="n">l</span><span class="o">),</span> <span class="n">l</span><span class="o">))</span> <span class="o">%</span> <span class="n">mod</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">]</span> <span class="o">=</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">calc</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">countWinningSequences</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">d</span><span class="p">[</span><span class="mi">26</span><span class="p">]{};</span>
        <span class="n">d</span><span class="p">[</span><span class="sc">'W'</span> <span class="o">-</span> <span class="sc">'A'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">d</span><span class="p">[</span><span class="sc">'E'</span> <span class="o">-</span> <span class="sc">'A'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">n</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span>
        <span class="n">memset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">f</span><span class="p">));</span>
        <span class="k">auto</span> <span class="n">calc</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">const</span> <span class="kt">int</span> <span class="n">mod</span> <span class="o">=</span> <span class="mf">1e9</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">dfs</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="k">auto</span><span class="o">&amp;&amp;</span> <span class="n">dfs</span><span class="p">,</span> <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">j</span> <span class="o">-</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">l</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">continue</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="p">(</span><span class="n">ans</span> <span class="o">+</span> <span class="n">dfs</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">calc</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'A'</span><span class="p">],</span> <span class="n">l</span><span class="p">),</span> <span class="n">l</span><span class="p">))</span> <span class="o">%</span> <span class="n">mod</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">countWinningSequences</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">calc</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span>

        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">res</span> <span class="o">+</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="n">calc</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">l</span><span class="p">),</span> <span class="n">l</span><span class="p">))</span> <span class="o">%</span> <span class="n">mod</span>
            <span class="k">return</span> <span class="n">res</span>

        <span class="n">mod</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">7</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">"F"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"W"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"E"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">.</span><span class="n">cache_clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">ans</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">countWinningSequences</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">const</span> <span class="n">mod</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1e9</span> <span class="o">+</span> <span class="m">7</span>
	<span class="n">d</span> <span class="o">:=</span> <span class="p">[</span><span class="m">26</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="n">d</span><span class="p">[</span><span class="sc">'W'</span><span class="o">-</span><span class="sc">'A'</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
	<span class="n">d</span><span class="p">[</span><span class="sc">'E'</span><span class="o">-</span><span class="sc">'A'</span><span class="p">]</span> <span class="o">=</span> <span class="m">2</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
	<span class="n">f</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][][</span><span class="m">4</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">f</span> <span class="p">{</span>
		<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">make</span><span class="p">([][</span><span class="m">4</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">j</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">{</span>
			<span class="k">for</span> <span class="n">k</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="p">{</span>
				<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="m">1</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">calc</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="p">{</span>
			<span class="k">return</span> <span class="m">0</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="m">2</span> <span class="p">{</span>
				<span class="k">return</span> <span class="m">1</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="o">-</span><span class="m">1</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="m">2</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
			<span class="k">return</span> <span class="o">-</span><span class="m">1</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="m">1</span>
	<span class="p">}</span>
	<span class="k">var</span> <span class="n">dfs</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span>
	<span class="n">dfs</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span><span class="o">-</span><span class="n">n</span> <span class="p">{</span>
			<span class="k">return</span> <span class="m">0</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">n</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">j</span><span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="p">{</span>
				<span class="k">return</span> <span class="m">1</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="m">0</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span> <span class="n">v</span> <span class="o">!=</span> <span class="o">-</span><span class="m">1</span> <span class="p">{</span>
			<span class="k">return</span> <span class="n">v</span>
		<span class="p">}</span>
		<span class="n">ans</span> <span class="o">:=</span> <span class="m">0</span>
		<span class="k">for</span> <span class="n">l</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="m">3</span><span class="p">;</span> <span class="n">l</span><span class="o">++</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="n">k</span> <span class="p">{</span>
				<span class="k">continue</span>
			<span class="p">}</span>
			<span class="n">ans</span> <span class="o">=</span> <span class="p">(</span><span class="n">ans</span> <span class="o">+</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="n">calc</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="sc">'A'</span><span class="p">],</span> <span class="n">l</span><span class="p">),</span> <span class="n">l</span><span class="p">))</span> <span class="o">%</span> <span class="n">mod</span>
		<span class="p">}</span>
		<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span>
		<span class="k">return</span> <span class="n">ans</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-3320.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
