<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-309.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-309.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>309 - Best Time to Buy and Sell Stock with Cooldown</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 309. Best Time to Buy and Sell Stock with Cooldown Description You are given an array prices where prices[i] is the price of a given stock on the ith day. Find the maximum profit you can achieve. You may complete as many transactions as you...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-309.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-309.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-309.html" rel="stylesheet"/>
   <link href="solution-309.html" rel="stylesheet"/>
   <link href="solution-309.html" rel="stylesheet"/>
   <link href="solution-309.html" rel="stylesheet"/>
   <link href="solution-309.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="309 - Best Time to Buy and Sell Stock with Cooldown" property="og:title"/>
   <meta content="Leetcode 309. Best Time to Buy and Sell Stock with Cooldown Description You are given an array prices where prices[i] is the price of a given stock on the ith day. Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times) with the following restrictions: After you sell your stock, you cannot buy stock on the next day (i.e., cooldown one day). Note: You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again). &amp;nbsp; Example 1: Input: prices = [1,2,3,0,2] Output: 3 Explanation: transactions = [buy, sell, cooldown, buy, sell] Example 2: Input: prices = [1] Output: 0 &amp;nbsp; Constraints: 1 &amp;lt;= prices.length &amp;lt;= 5000 0 &amp;lt;= prices[i] &amp;lt;= 1000 Solutions Solution 1: Memoization Search We design a function $dfs(i, j)$, which represents the maximum profit that can be obtained starting from the $i$th day with state $j$. The values of $j$ are $0$ and $1$, respectively representing currently not holding a stock and holding a stock. The answer is $dfs(0, 0)$. The execution logic of the function $dfs(i, j)$ is as follows: If $i \geq n$, it means that there are no more stocks to trade, so return $0$; Otherwise, we can choose not to trade, then $dfs(i, j) = dfs(i + 1, j)$. We can also trade stocks. If $j &amp;gt; 0$, it means that we currently hold a stock and can sell it, then $dfs(i, j) = prices[i] + dfs(i + 2, 0)$. If $j = 0$, it means that we currently do not hold a stock and can buy, then $dfs(i, j) = -prices[i] + dfs(i + 1, 1)$. Take the maximum value as the return value of the function $dfs(i, j)$. The answer is $dfs(0, 0)$. To avoid repeated calculations, we use the method of memoization search, and use an array $f$ to record the return value of $dfs(i, j)$. If $f[i][j]$ is not $-1$, it means that it has been calculated, and we can directly return $f[i][j]$. The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the array $prices$. Solution 2: Dynamic Programming We can also use dynamic programming to solve this problem. We define $f[i][j]$ to represent the maximum profit that can be obtained on the $i$th day with state $j$. The values of $j$ are $0$ and $1$, respectively representing currently not holding a stock and holding a stock. Initially, $f[0][0] = 0$, $f[0][1] = -prices[0]$. When $i \geq 1$, if we currently do not hold a stock, then $f[i][0]$ can be obtained by transitioning from $f[i - 1][0]$ and $f[i - 1][1] + prices[i]$, i.e., $f[i][0] = \max(f[i - 1][0], f[i - 1][1] + prices[i])$. If we currently hold a stock, then $f[i][1]$ can be obtained by transitioning from $f[i - 1][1]$ and $f[i - 2][0] - prices[i]$, i.e., $f[i][1] = \max(f[i -..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-10-04T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-10-04-309-Best-Time-to-Buy-and-Sell-Stock-with-Cooldown/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-309.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="309 - Best Time to Buy and Sell Stock with Cooldown" property="twitter:title"/>
   <meta content="Leetcode 309. Best Time to Buy and Sell Stock with Cooldown Description You are given an array prices where prices[i] is the price of a given stock on the ith day. Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times) with the following restrictions: After you sell your stock, you cannot buy stock on the next day (i.e., cooldown one day). Note: You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again). &amp;nbsp; Example 1: Input: prices = [1,2,3,0,2] Output: 3 Explanation: transactions = [buy, sell, cooldown, buy, sell] Example 2: Input: prices = [1] Output: 0 &amp;nbsp; Constraints: 1 &amp;lt;= prices.length &amp;lt;= 5000 0 &amp;lt;= prices[i] &amp;lt;= 1000 Solutions Solution 1: Memoization Search We design a function $dfs(i, j)$, which represents the maximum profit that can be obtained starting from the $i$th day with state $j$. The values of $j$ are $0$ and $1$, respectively representing currently not holding a stock and holding a stock. The answer is $dfs(0, 0)$. The execution logic of the function $dfs(i, j)$ is as follows: If $i \geq n$, it means that there are no more stocks to trade, so return $0$; Otherwise, we can choose not to trade, then $dfs(i, j) = dfs(i + 1, j)$. We can also trade stocks. If $j &amp;gt; 0$, it means that we currently hold a stock and can sell it, then $dfs(i, j) = prices[i] + dfs(i + 2, 0)$. If $j = 0$, it means that we currently do not hold a stock and can buy, then $dfs(i, j) = -prices[i] + dfs(i + 1, 1)$. Take the maximum value as the return value of the function $dfs(i, j)$. The answer is $dfs(0, 0)$. To avoid repeated calculations, we use the method of memoization search, and use an array $f$ to record the return value of $dfs(i, j)$. If $f[i][j]$ is not $-1$, it means that it has been calculated, and we can directly return $f[i][j]$. The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the array $prices$. Solution 2: Dynamic Programming We can also use dynamic programming to solve this problem. We define $f[i][j]$ to represent the maximum profit that can be obtained on the $i$th day with state $j$. The values of $j$ are $0$ and $1$, respectively representing currently not holding a stock and holding a stock. Initially, $f[0][0] = 0$, $f[0][1] = -prices[0]$. When $i \geq 1$, if we currently do not hold a stock, then $f[i][0]$ can be obtained by transitioning from $f[i - 1][0]$ and $f[i - 1][1] + prices[i]$, i.e., $f[i][0] = \max(f[i - 1][0], f[i - 1][1] + prices[i])$. If we currently hold a stock, then $f[i][1]$ can be obtained by transitioning from $f[i - 1][1]$ and $f[i - 2][0] - prices[i]$, i.e., $f[i][1] = \max(f[i -..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    309 - Best Time to Buy and Sell Stock with Cooldown | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="309 - Best Time to Buy and Sell Stock with Cooldown" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-309.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-10-04-309-Best-Time-to-Buy-and-Sell-Stock-with-Cooldown/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-10-04T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"309 - Best Time to Buy and Sell Stock with Cooldown","dateModified":"2016-10-04T00:00:00-07:00","datePublished":"2016-10-04T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-10-04-309-Best-Time-to-Buy-and-Sell-Stock-with-Cooldown/"},"url":"https://leetcode.ca/2016-10-04-309-Best-Time-to-Buy-and-Sell-Stock-with-Cooldown/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="309-best-time-to-buy-and-sell-stock-with-cooldown">
       <a href="solution-309.html">
        309. Best Time to Buy and Sell Stock with Cooldown
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are given an array
       <code>
        prices
       </code>
       where
       <code>
        prices[i]
       </code>
       is the price of a given stock on the
       <code>
        i
        <sup>
         th
        </sup>
       </code>
       day.
      </p>
      <p>
       Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times) with the following restrictions:
      </p>
      <ul>
       <li>
        After you sell your stock, you cannot buy stock on the next day (i.e., cooldown one day).
       </li>
      </ul>
      <p>
       <strong>
        Note:
       </strong>
       You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> prices = [1,2,3,0,2]
<strong>Output:</strong> 3
<strong>Explanation:</strong> transactions = [buy, sell, cooldown, buy, sell]
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> prices = [1]
<strong>Output:</strong> 0
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= prices.length &lt;= 5000
        </code>
       </li>
       <li>
        <code>
         0 &lt;= prices[i] &lt;= 1000
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Memoization Search
       </strong>
      </p>
      <p>
       We design a function $dfs(i, j)$, which represents the maximum profit that can be obtained starting from the $i$th day with state $j$. The values of $j$ are $0$ and $1$, respectively representing currently not holding a stock and holding a stock. The answer is $dfs(0, 0)$.
      </p>
      <p>
       The execution logic of the function $dfs(i, j)$ is as follows:
      </p>
      <p>
       If $i \geq n$, it means that there are no more stocks to trade, so return $0$;
      </p>
      <p>
       Otherwise, we can choose not to trade, then $dfs(i, j) = dfs(i + 1, j)$. We can also trade stocks. If $j &gt; 0$, it means that we currently hold a stock and can sell it, then $dfs(i, j) = prices[i] + dfs(i + 2, 0)$. If $j = 0$, it means that we currently do not hold a stock and can buy, then $dfs(i, j) = -prices[i] + dfs(i + 1, 1)$. Take the maximum value as the return value of the function $dfs(i, j)$.
      </p>
      <p>
       The answer is $dfs(0, 0)$.
      </p>
      <p>
       To avoid repeated calculations, we use the method of memoization search, and use an array $f$ to record the return value of $dfs(i, j)$. If $f[i][j]$ is not $-1$, it means that it has been calculated, and we can directly return $f[i][j]$.
      </p>
      <p>
       The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the array $prices$.
      </p>
      <p>
       <strong>
        Solution 2: Dynamic Programming
       </strong>
      </p>
      <p>
       We can also use dynamic programming to solve this problem.
      </p>
      <p>
       We define $f[i][j]$ to represent the maximum profit that can be obtained on the $i$th day with state $j$. The values of $j$ are $0$ and $1$, respectively representing currently not holding a stock and holding a stock. Initially, $f[0][0] = 0$, $f[0][1] = -prices[0]$.
      </p>
      <p>
       When $i \geq 1$, if we currently do not hold a stock, then $f[i][0]$ can be obtained by transitioning from $f[i - 1][0]$ and $f[i - 1][1] + prices[i]$, i.e., $f[i][0] = \max(f[i - 1][0], f[i - 1][1] + prices[i])$. If we currently hold a stock, then $f[i][1]$ can be obtained by transitioning from $f[i - 1][1]$ and $f[i - 2][0] - prices[i]$, i.e., $f[i][1] = \max(f[i - 1][1], f[i - 2][0] - prices[i])$. The final answer is $f[n - 1][0]$.
      </p>
      <p>
       The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the array $prices$.
      </p>
      <p>
       We notice that the transition of state $f[i][]$ is only related to $f[i - 1][]$ and $f[i - 2][0]$, so we can use three variables $f$, $f_0$, $f_1$ to replace the array $f$, optimizing the space complexity to $O(1)$.
      </p>
      <p>
       <strong>
        Solution 3: Greedy
       </strong>
      </p>
      <ul>
       <li>
        The solution uses dynamic programming to keep track of the profit at each step. It defines three states for each day:
        <ol>
         <li>
          <code class="language-plaintext highlighter-rouge">
           f1
          </code>
          represents the maximum profit achievable on day
          <code class="language-plaintext highlighter-rouge">
           i
          </code>
          if you own a stock. This means youâve bought a stock and havenât sold it yet.
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           f2
          </code>
          represents the maximum profit achievable on day
          <code class="language-plaintext highlighter-rouge">
           i
          </code>
          if youâre in a cooldown period or have sold the stock and not bought another yet.
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           f3
          </code>
          represents the maximum profit achievable on day
          <code class="language-plaintext highlighter-rouge">
           i
          </code>
          if youâre free to buy a stock, meaning youâve neither bought a stock nor are in a cooldown period.
         </li>
        </ol>
       </li>
       <li>
        The initial conditions are set as follows:
        <ul>
         <li>
          <code class="language-plaintext highlighter-rouge">
           f1
          </code>
          is initialized to
          <code class="language-plaintext highlighter-rouge">
           -prices[0]
          </code>
          because buying a stock costs money, which is considered a negative profit on day 0.
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           f2
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           f3
          </code>
          are initialized to
          <code class="language-plaintext highlighter-rouge">
           0
          </code>
          because you havenât made any transactions yet.
         </li>
        </ul>
       </li>
       <li>
        The for loop iterates over the prices starting from the second day (
        <code class="language-plaintext highlighter-rouge">
         prices[1:]
        </code>
        ), and for each day, it calculates:
        <ul>
         <li>
          The new
          <code class="language-plaintext highlighter-rouge">
           f1
          </code>
          as the maximum of staying in the current
          <code class="language-plaintext highlighter-rouge">
           f1
          </code>
          state or moving from the
          <code class="language-plaintext highlighter-rouge">
           f3
          </code>
          state to the
          <code class="language-plaintext highlighter-rouge">
           f1
          </code>
          state by buying a stock (
          <code class="language-plaintext highlighter-rouge">
           pf3 - price
          </code>
          ). This decision reflects either holding onto the stock bought earlier or buying a new stock after a cooldown.
         </li>
         <li>
          The new
          <code class="language-plaintext highlighter-rouge">
           f2
          </code>
          as the maximum of staying in the current
          <code class="language-plaintext highlighter-rouge">
           f2
          </code>
          state or moving from the
          <code class="language-plaintext highlighter-rouge">
           f1
          </code>
          state to the
          <code class="language-plaintext highlighter-rouge">
           f2
          </code>
          state by selling a stock (
          <code class="language-plaintext highlighter-rouge">
           pf1 + price
          </code>
          ). This captures the profit from selling a stock you own.
         </li>
         <li>
          The new
          <code class="language-plaintext highlighter-rouge">
           f3
          </code>
          as the maximum of staying in the current
          <code class="language-plaintext highlighter-rouge">
           f3
          </code>
          state or moving from the
          <code class="language-plaintext highlighter-rouge">
           f2
          </code>
          state to the
          <code class="language-plaintext highlighter-rouge">
           f3
          </code>
          state (
          <code class="language-plaintext highlighter-rouge">
           pf2
          </code>
          ). This transition reflects the cooldown period after selling a stock before you can buy again.
         </li>
        </ul>
       </li>
       <li>
        Finally, the function returns
        <code class="language-plaintext highlighter-rouge">
         f2
        </code>
        , which represents the maximum profit at the end of the trading period under the condition that youâve sold your stock and possibly are in a cooldown period or not looking to buy immediately. Since you want to maximize profit, ending with an owned stock (
        <code class="language-plaintext highlighter-rouge">
         f1
        </code>
        ) is not considered for the final answer because you havenât realized the profit from selling it. Ending in the
        <code class="language-plaintext highlighter-rouge">
         f3
        </code>
        state doesnât necessarily reflect the maximum profit, as itâs possible to have sold a stock on the last day, entering the cooldown with the profit included in
        <code class="language-plaintext highlighter-rouge">
         f2
        </code>
        .
       </li>
      </ul>
      <ul class="uk-tab" data-uk-switcher="{connect:'#609b39e1-5ddc-4346-9a54-a035725ebd69'}">
       <li class="uk-active">
        <a href="solution-309.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-309.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-309.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-309.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-309.html">
         TypeScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="609b39e1-5ddc-4346-9a54-a035725ebd69">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxProfit</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">prices</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">f0</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">f1</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">g0</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">f0</span><span class="o">,</span> <span class="n">f1</span> <span class="o">+</span> <span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">f1</span><span class="o">,</span> <span class="n">f</span> <span class="o">-</span> <span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">f0</span><span class="o">;</span>
            <span class="n">f0</span> <span class="o">=</span> <span class="n">g0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">f0</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">maxProfit</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">prices</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">f0</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">g0</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">f0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">f</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">f0</span><span class="p">;</span>
            <span class="n">f0</span> <span class="o">=</span> <span class="n">g0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">f0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">f3</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">pf1</span><span class="p">,</span> <span class="n">pf2</span><span class="p">,</span> <span class="n">pf3</span> <span class="o">=</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">f3</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">pf1</span><span class="p">,</span> <span class="n">pf3</span> <span class="o">-</span> <span class="n">price</span><span class="p">)</span>
            <span class="n">f2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">pf2</span><span class="p">,</span> <span class="n">pf1</span> <span class="o">+</span> <span class="n">price</span><span class="p">)</span>
            <span class="n">f3</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">pf3</span><span class="p">,</span> <span class="n">pf2</span><span class="p">)</span> <span class="c1"># cooldown
</span>        <span class="k">return</span> <span class="n">f2</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">f</span><span class="p">,</span> <span class="n">f0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">f</span><span class="p">,</span> <span class="n">f0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">f0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">f0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">f</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f0</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">):</span>
    <span class="s">"""
    :type prices: List[int]
    :rtype: int
    """</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
      <span class="k">return</span> <span class="mi">0</span>
    <span class="n">buy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
    <span class="n">sell</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
    <span class="n">buy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">buy</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">buy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">sell</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">sell</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prices</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)):</span>
      <span class="n">buy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">sell</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">buy</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
      <span class="n">sell</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">buy</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">sell</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">sell</span><span class="p">)</span>


</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">maxProfit</span><span class="p">(</span><span class="n">prices</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">f</span><span class="p">,</span> <span class="n">f0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">x</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">prices</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span> <span class="p">{</span>
		<span class="n">f</span><span class="p">,</span> <span class="n">f0</span><span class="p">,</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">f0</span><span class="p">,</span> <span class="n">max</span><span class="p">(</span><span class="n">f0</span><span class="p">,</span> <span class="n">f1</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">max</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">f</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">f0</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">maxProfit</span><span class="p">(</span><span class="nx">prices</span><span class="p">:</span> <span class="kr">number</span><span class="p">[]):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">f</span><span class="p">,</span> <span class="nx">f0</span><span class="p">,</span> <span class="nx">f1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="nx">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">x</span> <span class="k">of</span> <span class="nx">prices</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
        <span class="p">[</span><span class="nx">f</span><span class="p">,</span> <span class="nx">f0</span><span class="p">,</span> <span class="nx">f1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">f0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">f0</span><span class="p">,</span> <span class="nx">f1</span> <span class="o">+</span> <span class="nx">x</span><span class="p">),</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">f1</span><span class="p">,</span> <span class="nx">f</span> <span class="o">-</span> <span class="nx">x</span><span class="p">)];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">f0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-309.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
