<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1485.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1485.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1485 - Clone Binary Tree With Random Pointer</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1485. Clone Binary Tree With Random Pointer Description A binary tree is given such that each node contains an additional random pointer which could point to any node in the tree or null. Return a deep copy of the tree. The tree is represented in...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1485.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1485.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1485.html" rel="stylesheet"/>
   <link href="solution-1485.html" rel="stylesheet"/>
   <link href="solution-1485.html" rel="stylesheet"/>
   <link href="solution-1485.html" rel="stylesheet"/>
   <link href="solution-1485.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1485 - Clone Binary Tree With Random Pointer" property="og:title"/>
   <meta content="Leetcode 1485. Clone Binary Tree With Random Pointer Description A binary tree is given such that each node contains an additional random pointer which could point to any node in the tree or null. Return a deep copy of the tree. The tree is represented in the same input/output way as normal binary trees where each node is represented as a pair of [val, random_index] where: val: an integer representing Node.val random_index: the index of the node (in the input) where the random pointer points to, or null if it does not point to any node. You will be given the tree in class Node and you should return the cloned tree in class NodeCopy. NodeCopy class is just a clone of Node class with the same attributes and constructors. &amp;nbsp; Example 1: Input: root = [[1,null],null,[4,3],[7,0]] Output: [[1,null],null,[4,3],[7,0]] Explanation: The original binary tree is [1,null,4,7]. The random pointer of node one is null, so it is represented as [1, null]. The random pointer of node 4 is node 7, so it is represented as [4, 3] where 3 is the index of node 7 in the array representing the tree. The random pointer of node 7 is node 1, so it is represented as [7, 0] where 0 is the index of node 1 in the array representing the tree. Example 2: Input: root = [[1,4],null,[1,0],null,[1,5],[1,5]] Output: [[1,4],null,[1,0],null,[1,5],[1,5]] Explanation: The random pointer of a node can be the node itself. Example 3: Input: root = [[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[7,0]] Output: [[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[7,0]] &amp;nbsp; Constraints: The number of nodes in the tree is in the range [0, 1000]. 1 &amp;lt;= Node.val &amp;lt;= 106 Solutions Java C++ Python Go /** * Definition for Node. * public class Node { * int val; * Node left; * Node right; * Node random; * Node() {} * Node(int val) { this.val = val; } * Node(int val, Node left, Node right, Node random) { * this.val = val; * this.left = left; * this.right = right; * this.random = random; * } * } */ class Solution { private Map&amp;lt;Node, NodeCopy&amp;gt; mp; public NodeCopy copyRandomBinaryTree(Node root) { mp = new HashMap&amp;lt;&amp;gt;(); return dfs(root); } private NodeCopy dfs(Node root) { if (root == null) { return null; } if (mp.containsKey(root)) { return mp.get(root); } NodeCopy copy = new NodeCopy(root.val); mp.put(root, copy); copy.left = dfs(root.left); copy.right = dfs(root.right); copy.random = dfs(root.random); return copy; } } /** * Definition for a Node. * struct Node { * int val; * Node *left; * Node *right; * Node *random; * Node() : val(0), left(nullptr), right(nullptr), random(nullptr) {} * Node(int x) : val(x), left(nullptr), right(nullptr), random(nullptr) {} * Node(int x, Node *left, Node *right, Node *random) : val(x), left(left), right(right), random(random) {} * }; */ class Solution { public: NodeCopy* copyRandomBinaryTree(Node* root) { unordered_map&amp;lt;Node*, NodeCopy*&amp;gt; mp; return dfs(root, mp); } NodeCopy* dfs(Node* root, unordered_map&amp;lt;Node*, NodeCopy*&amp;gt;&amp;amp; mp) { if (!root) return nullptr; if (mp.count(root)) return mp[root]; NodeCopy* copy = new NodeCopy(root-&amp;gt;val); mp[root] = copy; copy-&amp;gt;left = dfs(root-&amp;gt;left, mp); copy-&amp;gt;right..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2019-12-24T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2019-12-24-1485-Clone-Binary-Tree-With-Random-Pointer/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1485.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1485 - Clone Binary Tree With Random Pointer" property="twitter:title"/>
   <meta content="Leetcode 1485. Clone Binary Tree With Random Pointer Description A binary tree is given such that each node contains an additional random pointer which could point to any node in the tree or null. Return a deep copy of the tree. The tree is represented in the same input/output way as normal binary trees where each node is represented as a pair of [val, random_index] where: val: an integer representing Node.val random_index: the index of the node (in the input) where the random pointer points to, or null if it does not point to any node. You will be given the tree in class Node and you should return the cloned tree in class NodeCopy. NodeCopy class is just a clone of Node class with the same attributes and constructors. &amp;nbsp; Example 1: Input: root = [[1,null],null,[4,3],[7,0]] Output: [[1,null],null,[4,3],[7,0]] Explanation: The original binary tree is [1,null,4,7]. The random pointer of node one is null, so it is represented as [1, null]. The random pointer of node 4 is node 7, so it is represented as [4, 3] where 3 is the index of node 7 in the array representing the tree. The random pointer of node 7 is node 1, so it is represented as [7, 0] where 0 is the index of node 1 in the array representing the tree. Example 2: Input: root = [[1,4],null,[1,0],null,[1,5],[1,5]] Output: [[1,4],null,[1,0],null,[1,5],[1,5]] Explanation: The random pointer of a node can be the node itself. Example 3: Input: root = [[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[7,0]] Output: [[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[7,0]] &amp;nbsp; Constraints: The number of nodes in the tree is in the range [0, 1000]. 1 &amp;lt;= Node.val &amp;lt;= 106 Solutions Java C++ Python Go /** * Definition for Node. * public class Node { * int val; * Node left; * Node right; * Node random; * Node() {} * Node(int val) { this.val = val; } * Node(int val, Node left, Node right, Node random) { * this.val = val; * this.left = left; * this.right = right; * this.random = random; * } * } */ class Solution { private Map&amp;lt;Node, NodeCopy&amp;gt; mp; public NodeCopy copyRandomBinaryTree(Node root) { mp = new HashMap&amp;lt;&amp;gt;(); return dfs(root); } private NodeCopy dfs(Node root) { if (root == null) { return null; } if (mp.containsKey(root)) { return mp.get(root); } NodeCopy copy = new NodeCopy(root.val); mp.put(root, copy); copy.left = dfs(root.left); copy.right = dfs(root.right); copy.random = dfs(root.random); return copy; } } /** * Definition for a Node. * struct Node { * int val; * Node *left; * Node *right; * Node *random; * Node() : val(0), left(nullptr), right(nullptr), random(nullptr) {} * Node(int x) : val(x), left(nullptr), right(nullptr), random(nullptr) {} * Node(int x, Node *left, Node *right, Node *random) : val(x), left(left), right(right), random(random) {} * }; */ class Solution { public: NodeCopy* copyRandomBinaryTree(Node* root) { unordered_map&amp;lt;Node*, NodeCopy*&amp;gt; mp; return dfs(root, mp); } NodeCopy* dfs(Node* root, unordered_map&amp;lt;Node*, NodeCopy*&amp;gt;&amp;amp; mp) { if (!root) return nullptr; if (mp.count(root)) return mp[root]; NodeCopy* copy = new NodeCopy(root-&amp;gt;val); mp[root] = copy; copy-&amp;gt;left = dfs(root-&amp;gt;left, mp); copy-&amp;gt;right..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1485 - Clone Binary Tree With Random Pointer | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1485 - Clone Binary Tree With Random Pointer" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1485.html" rel="canonical">
          <meta content="https://leetcode.ca/2019-12-24-1485-Clone-Binary-Tree-With-Random-Pointer/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2019-12-24T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1485 - Clone Binary Tree With Random Pointer","dateModified":"2019-12-24T00:00:00-08:00","datePublished":"2019-12-24T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2019-12-24-1485-Clone-Binary-Tree-With-Random-Pointer/"},"url":"https://leetcode.ca/2019-12-24-1485-Clone-Binary-Tree-With-Random-Pointer/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1485-clone-binary-tree-with-random-pointer">
       <a href="solution-1485.html">
        1485. Clone Binary Tree With Random Pointer
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       A binary tree is given such that each node contains an additional random pointer which could point to any node in the tree or null.
      </p>
      <p>
       Return a
       <a href="solution-1485.html" target="_blank">
        <strong>
         deep copy
        </strong>
       </a>
       of the tree.
      </p>
      <p>
       The tree is represented in the same input/output way as normal binary trees where each node is represented as a pair of
       <code>
        [val, random_index]
       </code>
       where:
      </p>
      <ul>
       <li>
        <code>
         val
        </code>
        : an integer representing
        <code>
         Node.val
        </code>
       </li>
       <li>
        <code>
         random_index
        </code>
        : the index of the node (in the input) where the random pointer points to, or
        <code>
         null
        </code>
        if it does not point to any node.
       </li>
      </ul>
      <p>
       You will be given the tree in class
       <code>
        Node
       </code>
       and you should return the cloned tree in class
       <code>
        NodeCopy
       </code>
       .
       <code>
        NodeCopy
       </code>
       class is just a clone of
       <code>
        Node
       </code>
       class with the same attributes and constructors.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1400-1499/1485.Clone%20Binary%20Tree%20With%20Random%20Pointer/images/clone_1.png" style="width: 500px; height: 473px;"/>
      </p>
      <pre>
<strong>Input:</strong> root = [[1,null],null,[4,3],[7,0]]
<strong>Output:</strong> [[1,null],null,[4,3],[7,0]]
<strong>Explanation:</strong> The original binary tree is [1,null,4,7].
The random pointer of node one is null, so it is represented as [1, null].
The random pointer of node 4 is node 7, so it is represented as [4, 3] where 3 is the index of node 7 in the array representing the tree.
The random pointer of node 7 is node 1, so it is represented as [7, 0] where 0 is the index of node 1 in the array representing the tree.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1400-1499/1485.Clone%20Binary%20Tree%20With%20Random%20Pointer/images/clone_2.png" style="width: 500px; height: 540px;"/>
      </p>
      <pre>
<strong>Input:</strong> root = [[1,4],null,[1,0],null,[1,5],[1,5]]
<strong>Output:</strong> [[1,4],null,[1,0],null,[1,5],[1,5]]
<strong>Explanation:</strong> The random pointer of a node can be the node itself.
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1400-1499/1485.Clone%20Binary%20Tree%20With%20Random%20Pointer/images/clone_3.png" style="width: 500px; height: 426px;"/>
      </p>
      <pre>
<strong>Input:</strong> root = [[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[7,0]]
<strong>Output:</strong> [[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[7,0]]
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        The number of nodes in the
        <code>
         tree
        </code>
        is in the range
        <code>
         [0, 1000].
        </code>
       </li>
       <li>
        <code>
         1 &lt;= Node.val &lt;= 10
         <sup>
          6
         </sup>
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <ul class="uk-tab" data-uk-switcher="{connect:'#20e05359-392d-4bc6-9ba9-066d7929f5eb'}">
       <li class="uk-active">
        <a href="solution-1485.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1485.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1485.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1485.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="20e05359-392d-4bc6-9ba9-066d7929f5eb">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for Node.
 * public class Node {
 *     int val;
 *     Node left;
 *     Node right;
 *     Node random;
 *     Node() {}
 *     Node(int val) { this.val = val; }
 *     Node(int val, Node left, Node right, Node random) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *         this.random = random;
 *     }
 * }
 */</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">,</span> <span class="nc">NodeCopy</span><span class="o">&gt;</span> <span class="n">mp</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">NodeCopy</span> <span class="nf">copyRandomBinaryTree</span><span class="o">(</span><span class="nc">Node</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">NodeCopy</span> <span class="nf">dfs</span><span class="o">(</span><span class="nc">Node</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mp</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">root</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">mp</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">NodeCopy</span> <span class="n">copy</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NodeCopy</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
        <span class="n">mp</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="n">copy</span><span class="o">);</span>
        <span class="n">copy</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">);</span>
        <span class="n">copy</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
        <span class="n">copy</span><span class="o">.</span><span class="na">random</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">random</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for a Node.
 * struct Node {
 *     int val;
 *     Node *left;
 *     Node *right;
 *     Node *random;
 *     Node() : val(0), left(nullptr), right(nullptr), random(nullptr) {}
 *     Node(int x) : val(x), left(nullptr), right(nullptr), random(nullptr) {}
 *     Node(int x, Node *left, Node *right, Node *random) : val(x), left(left), right(right), random(random) {}
 * };
 */</span>

<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">NodeCopy</span><span class="o">*</span> <span class="n">copyRandomBinaryTree</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*</span><span class="p">,</span> <span class="n">NodeCopy</span><span class="o">*&gt;</span> <span class="n">mp</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">mp</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">NodeCopy</span><span class="o">*</span> <span class="n">dfs</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*</span><span class="p">,</span> <span class="n">NodeCopy</span><span class="o">*&gt;&amp;</span> <span class="n">mp</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="p">)</span> <span class="k">return</span> <span class="nb">nullptr</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mp</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">root</span><span class="p">))</span> <span class="k">return</span> <span class="n">mp</span><span class="p">[</span><span class="n">root</span><span class="p">];</span>
        <span class="n">NodeCopy</span><span class="o">*</span> <span class="n">copy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NodeCopy</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span>
        <span class="n">mp</span><span class="p">[</span><span class="n">root</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="p">;</span>
        <span class="n">copy</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">mp</span><span class="p">);</span>
        <span class="n">copy</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">mp</span><span class="p">);</span>
        <span class="n">copy</span><span class="o">-&gt;</span><span class="n">random</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">random</span><span class="p">,</span> <span class="n">mp</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">copy</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1"># Definition for Node.
# class Node:
#     def __init__(self, val=0, left=None, right=None, random=None):
#         self.val = val
#         self.left = left
#         self.right = right
#         self.random = random
</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">copyRandomBinaryTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="s">'Optional[Node]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s">'Optional[NodeCopy]'</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">root</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">None</span>
            <span class="k">if</span> <span class="n">root</span> <span class="ow">in</span> <span class="n">mp</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mp</span><span class="p">[</span><span class="n">root</span><span class="p">]</span>
            <span class="n">copy</span> <span class="o">=</span> <span class="n">NodeCopy</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">mp</span><span class="p">[</span><span class="n">root</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span>
            <span class="n">copy</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="n">copy</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="n">copy</span><span class="p">.</span><span class="n">random</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">random</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">copy</span>

        <span class="n">mp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c">/**
 * Definition for a Node.
 * type Node struct {
 *     Val int
 *     Left *Node
 *     Right *Node
 *     Random *Node
 * }
 */</span>

<span class="k">func</span> <span class="n">copyRandomBinaryTree</span><span class="p">(</span><span class="n">root</span> <span class="o">*</span><span class="n">Node</span><span class="p">)</span> <span class="o">*</span><span class="n">NodeCopy</span> <span class="p">{</span>
	<span class="n">mp</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="o">*</span><span class="n">Node</span><span class="p">]</span><span class="o">*</span><span class="n">NodeCopy</span><span class="p">)</span>
	<span class="k">var</span> <span class="n">dfs</span> <span class="k">func</span><span class="p">(</span><span class="n">root</span> <span class="o">*</span><span class="n">Node</span><span class="p">)</span> <span class="o">*</span><span class="n">NodeCopy</span>
	<span class="n">dfs</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">root</span> <span class="o">*</span><span class="n">Node</span><span class="p">)</span> <span class="o">*</span><span class="n">NodeCopy</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="k">return</span> <span class="no">nil</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">v</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">mp</span><span class="p">[</span><span class="n">root</span><span class="p">];</span> <span class="n">ok</span> <span class="p">{</span>
			<span class="k">return</span> <span class="n">v</span>
		<span class="p">}</span>
		<span class="nb">copy</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">NodeCopy</span><span class="p">{</span><span class="n">Val</span><span class="o">:</span> <span class="n">root</span><span class="o">.</span><span class="n">Val</span><span class="p">}</span>
		<span class="n">mp</span><span class="p">[</span><span class="n">root</span><span class="p">]</span> <span class="o">=</span> <span class="nb">copy</span>
		<span class="nb">copy</span><span class="o">.</span><span class="n">Left</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">Left</span><span class="p">)</span>
		<span class="nb">copy</span><span class="o">.</span><span class="n">Right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">Right</span><span class="p">)</span>
		<span class="nb">copy</span><span class="o">.</span><span class="n">Random</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">Random</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">copy</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1485.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
