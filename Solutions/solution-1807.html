<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1807.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1807.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1807 - Evaluate the Bracket Pairs of a String</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1807. Evaluate the Bracket Pairs of a String Description You are given a string s that contains some bracket pairs, with each pair containing a non-empty key. For example, in the string &amp;quot;(name)is(age)yearsold&amp;quot;, there are two bracket pairs that contain the keys &amp;quot;name&amp;quot; and &amp;quot;age&amp;quot;....">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1807.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1807.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1807.html" rel="stylesheet"/>
   <link href="solution-1807.html" rel="stylesheet"/>
   <link href="solution-1807.html" rel="stylesheet"/>
   <link href="solution-1807.html" rel="stylesheet"/>
   <link href="solution-1807.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1807 - Evaluate the Bracket Pairs of a String" property="og:title"/>
   <meta content="Leetcode 1807. Evaluate the Bracket Pairs of a String Description You are given a string s that contains some bracket pairs, with each pair containing a non-empty key. For example, in the string &amp;quot;(name)is(age)yearsold&amp;quot;, there are two bracket pairs that contain the keys &amp;quot;name&amp;quot; and &amp;quot;age&amp;quot;. You know the values of a wide range of keys. This is represented by a 2D string array knowledge where each knowledge[i] = [keyi, valuei] indicates that key keyi has a value of valuei. You are tasked to evaluate all of the bracket pairs. When you evaluate a bracket pair that contains some key keyi, you will: Replace keyi and the bracket pair with the key&amp;#39;s corresponding valuei. If you do not know the value of the key, you will replace keyi and the bracket pair with a question mark &amp;quot;?&amp;quot; (without the quotation marks). Each key will appear at most once in your knowledge. There will not be any nested brackets in s. Return the resulting string after evaluating all of the bracket pairs. &amp;nbsp; Example 1: Input: s = &amp;quot;(name)is(age)yearsold&amp;quot;, knowledge = [[&amp;quot;name&amp;quot;,&amp;quot;bob&amp;quot;],[&amp;quot;age&amp;quot;,&amp;quot;two&amp;quot;]] Output: &amp;quot;bobistwoyearsold&amp;quot; Explanation: The key &amp;quot;name&amp;quot; has a value of &amp;quot;bob&amp;quot;, so replace &amp;quot;(name)&amp;quot; with &amp;quot;bob&amp;quot;. The key &amp;quot;age&amp;quot; has a value of &amp;quot;two&amp;quot;, so replace &amp;quot;(age)&amp;quot; with &amp;quot;two&amp;quot;. Example 2: Input: s = &amp;quot;hi(name)&amp;quot;, knowledge = [[&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;]] Output: &amp;quot;hi?&amp;quot; Explanation: As you do not know the value of the key &amp;quot;name&amp;quot;, replace &amp;quot;(name)&amp;quot; with &amp;quot;?&amp;quot;. Example 3: Input: s = &amp;quot;(a)(a)(a)aaa&amp;quot;, knowledge = [[&amp;quot;a&amp;quot;,&amp;quot;yes&amp;quot;]] Output: &amp;quot;yesyesyesaaa&amp;quot; Explanation: The same key can appear multiple times. The key &amp;quot;a&amp;quot; has a value of &amp;quot;yes&amp;quot;, so replace all occurrences of &amp;quot;(a)&amp;quot; with &amp;quot;yes&amp;quot;. Notice that the &amp;quot;a&amp;quot;s not in a bracket pair are not evaluated. &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 105 0 &amp;lt;= knowledge.length &amp;lt;= 105 knowledge[i].length == 2 1 &amp;lt;= keyi.length, valuei.length &amp;lt;= 10 s consists of lowercase English letters and round brackets &amp;#39;(&amp;#39; and &amp;#39;)&amp;#39;. Every open bracket &amp;#39;(&amp;#39; in s will have a corresponding close bracket &amp;#39;)&amp;#39;. The key in each bracket pair of s will be non-empty. There will not be any nested bracket pairs in s. keyi and valuei consist of lowercase English letters. Each keyi in knowledge is unique. Solutions Solution 1: Hash Table + Simulation First, we use a hash table $d$ to record the key-value pairs in knowledge. Then we traverse the string $s$. If the current character is an open parenthesis '(', we start traversing from the current position until we encounter a close parenthesis ')'. At this point, the string within the parentheses is the key. We look for the corresponding value of this key in the hash table $d$. If found, we replace the value within the parentheses with it, otherwise, we replace it with '?'. The time complexity is $O(n + m)$, and the space complexity is $O(L)$. Here, $n$ and $m$ are the lengths of the string $s$ and the list knowledge respectively, and $L$ is the sum of the lengths of all..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2020-11-10T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2020-11-10-1807-Evaluate-the-Bracket-Pairs-of-a-String/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1807.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1807 - Evaluate the Bracket Pairs of a String" property="twitter:title"/>
   <meta content="Leetcode 1807. Evaluate the Bracket Pairs of a String Description You are given a string s that contains some bracket pairs, with each pair containing a non-empty key. For example, in the string &amp;quot;(name)is(age)yearsold&amp;quot;, there are two bracket pairs that contain the keys &amp;quot;name&amp;quot; and &amp;quot;age&amp;quot;. You know the values of a wide range of keys. This is represented by a 2D string array knowledge where each knowledge[i] = [keyi, valuei] indicates that key keyi has a value of valuei. You are tasked to evaluate all of the bracket pairs. When you evaluate a bracket pair that contains some key keyi, you will: Replace keyi and the bracket pair with the key&amp;#39;s corresponding valuei. If you do not know the value of the key, you will replace keyi and the bracket pair with a question mark &amp;quot;?&amp;quot; (without the quotation marks). Each key will appear at most once in your knowledge. There will not be any nested brackets in s. Return the resulting string after evaluating all of the bracket pairs. &amp;nbsp; Example 1: Input: s = &amp;quot;(name)is(age)yearsold&amp;quot;, knowledge = [[&amp;quot;name&amp;quot;,&amp;quot;bob&amp;quot;],[&amp;quot;age&amp;quot;,&amp;quot;two&amp;quot;]] Output: &amp;quot;bobistwoyearsold&amp;quot; Explanation: The key &amp;quot;name&amp;quot; has a value of &amp;quot;bob&amp;quot;, so replace &amp;quot;(name)&amp;quot; with &amp;quot;bob&amp;quot;. The key &amp;quot;age&amp;quot; has a value of &amp;quot;two&amp;quot;, so replace &amp;quot;(age)&amp;quot; with &amp;quot;two&amp;quot;. Example 2: Input: s = &amp;quot;hi(name)&amp;quot;, knowledge = [[&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;]] Output: &amp;quot;hi?&amp;quot; Explanation: As you do not know the value of the key &amp;quot;name&amp;quot;, replace &amp;quot;(name)&amp;quot; with &amp;quot;?&amp;quot;. Example 3: Input: s = &amp;quot;(a)(a)(a)aaa&amp;quot;, knowledge = [[&amp;quot;a&amp;quot;,&amp;quot;yes&amp;quot;]] Output: &amp;quot;yesyesyesaaa&amp;quot; Explanation: The same key can appear multiple times. The key &amp;quot;a&amp;quot; has a value of &amp;quot;yes&amp;quot;, so replace all occurrences of &amp;quot;(a)&amp;quot; with &amp;quot;yes&amp;quot;. Notice that the &amp;quot;a&amp;quot;s not in a bracket pair are not evaluated. &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 105 0 &amp;lt;= knowledge.length &amp;lt;= 105 knowledge[i].length == 2 1 &amp;lt;= keyi.length, valuei.length &amp;lt;= 10 s consists of lowercase English letters and round brackets &amp;#39;(&amp;#39; and &amp;#39;)&amp;#39;. Every open bracket &amp;#39;(&amp;#39; in s will have a corresponding close bracket &amp;#39;)&amp;#39;. The key in each bracket pair of s will be non-empty. There will not be any nested bracket pairs in s. keyi and valuei consist of lowercase English letters. Each keyi in knowledge is unique. Solutions Solution 1: Hash Table + Simulation First, we use a hash table $d$ to record the key-value pairs in knowledge. Then we traverse the string $s$. If the current character is an open parenthesis '(', we start traversing from the current position until we encounter a close parenthesis ')'. At this point, the string within the parentheses is the key. We look for the corresponding value of this key in the hash table $d$. If found, we replace the value within the parentheses with it, otherwise, we replace it with '?'. The time complexity is $O(n + m)$, and the space complexity is $O(L)$. Here, $n$ and $m$ are the lengths of the string $s$ and the list knowledge respectively, and $L$ is the sum of the lengths of all..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1807 - Evaluate the Bracket Pairs of a String | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1807 - Evaluate the Bracket Pairs of a String" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1807.html" rel="canonical">
          <meta content="https://leetcode.ca/2020-11-10-1807-Evaluate-the-Bracket-Pairs-of-a-String/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2020-11-10T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1807 - Evaluate the Bracket Pairs of a String","dateModified":"2020-11-10T00:00:00-08:00","datePublished":"2020-11-10T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2020-11-10-1807-Evaluate-the-Bracket-Pairs-of-a-String/"},"url":"https://leetcode.ca/2020-11-10-1807-Evaluate-the-Bracket-Pairs-of-a-String/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1807-evaluate-the-bracket-pairs-of-a-string">
       <a href="solution-1807.html">
        1807. Evaluate the Bracket Pairs of a String
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are given a string
       <code>
        s
       </code>
       that contains some bracket pairs, with each pair containing a
       <strong>
        non-empty
       </strong>
       key.
      </p>
      <ul>
       <li>
        For example, in the string
        <code>
         "(name)is(age)yearsold"
        </code>
        , there are
        <strong>
         two
        </strong>
        bracket pairs that contain the keys
        <code>
         "name"
        </code>
        and
        <code>
         "age"
        </code>
        .
       </li>
      </ul>
      <p>
       You know the values of a wide range of keys. This is represented by a 2D string array
       <code>
        knowledge
       </code>
       where each
       <code>
        knowledge[i] = [key
        <sub>
         i
        </sub>
        , value
        <sub>
         i
        </sub>
        ]
       </code>
       indicates that key
       <code>
        key
        <sub>
         i
        </sub>
       </code>
       has a value of
       <code>
        value
        <sub>
         i
        </sub>
       </code>
       .
      </p>
      <p>
       You are tasked to evaluate
       <strong>
        all
       </strong>
       of the bracket pairs. When you evaluate a bracket pair that contains some key
       <code>
        key
        <sub>
         i
        </sub>
       </code>
       , you will:
      </p>
      <ul>
       <li>
        Replace
        <code>
         key
         <sub>
          i
         </sub>
        </code>
        and the bracket pair with the key's corresponding
        <code>
         value
         <sub>
          i
         </sub>
        </code>
        .
       </li>
       <li>
        If you do not know the value of the key, you will replace
        <code>
         key
         <sub>
          i
         </sub>
        </code>
        and the bracket pair with a question mark
        <code>
         "?"
        </code>
        (without the quotation marks).
       </li>
      </ul>
      <p>
       Each key will appear at most once in your
       <code>
        knowledge
       </code>
       . There will not be any nested brackets in
       <code>
        s
       </code>
       .
      </p>
      <p>
       Return
       <em>
        the resulting string after evaluating
        <strong>
         all
        </strong>
        of the bracket pairs.
       </em>
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "(name)is(age)yearsold", knowledge = [["name","bob"],["age","two"]]
<strong>Output:</strong> "bobistwoyearsold"
<strong>Explanation:</strong>
The key "name" has a value of "bob", so replace "(name)" with "bob".
The key "age" has a value of "two", so replace "(age)" with "two".
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "hi(name)", knowledge = [["a","b"]]
<strong>Output:</strong> "hi?"
<strong>Explanation:</strong> As you do not know the value of the key "name", replace "(name)" with "?".
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "(a)(a)(a)aaa", knowledge = [["a","yes"]]
<strong>Output:</strong> "yesyesyesaaa"
<strong>Explanation:</strong> The same key can appear multiple times.
The key "a" has a value of "yes", so replace all occurrences of "(a)" with "yes".
Notice that the "a"s not in a bracket pair are not evaluated.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= s.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         0 &lt;= knowledge.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         knowledge[i].length == 2
        </code>
       </li>
       <li>
        <code>
         1 &lt;= key
         <sub>
          i
         </sub>
         .length, value
         <sub>
          i
         </sub>
         .length &lt;= 10
        </code>
       </li>
       <li>
        <code>
         s
        </code>
        consists of lowercase English letters and round brackets
        <code>
         '('
        </code>
        and
        <code>
         ')'
        </code>
        .
       </li>
       <li>
        Every open bracket
        <code>
         '('
        </code>
        in
        <code>
         s
        </code>
        will have a corresponding close bracket
        <code>
         ')'
        </code>
        .
       </li>
       <li>
        The key in each bracket pair of
        <code>
         s
        </code>
        will be non-empty.
       </li>
       <li>
        There will not be any nested bracket pairs in
        <code>
         s
        </code>
        .
       </li>
       <li>
        <code>
         key
         <sub>
          i
         </sub>
        </code>
        and
        <code>
         value
         <sub>
          i
         </sub>
        </code>
        consist of lowercase English letters.
       </li>
       <li>
        Each
        <code>
         key
         <sub>
          i
         </sub>
        </code>
        in
        <code>
         knowledge
        </code>
        is unique.
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Hash Table + Simulation
       </strong>
      </p>
      <p>
       First, we use a hash table $d$ to record the key-value pairs in
       <code class="language-plaintext highlighter-rouge">
        knowledge
       </code>
       .
      </p>
      <p>
       Then we traverse the string $s$. If the current character is an open parenthesis
       <code class="language-plaintext highlighter-rouge">
        '('
       </code>
       , we start traversing from the current position until we encounter a close parenthesis
       <code class="language-plaintext highlighter-rouge">
        ')'
       </code>
       . At this point, the string within the parentheses is the key. We look for the corresponding value of this key in the hash table $d$. If found, we replace the value within the parentheses with it, otherwise, we replace it with
       <code class="language-plaintext highlighter-rouge">
        '?'
       </code>
       .
      </p>
      <p>
       The time complexity is $O(n + m)$, and the space complexity is $O(L)$. Here, $n$ and $m$ are the lengths of the string $s$ and the list
       <code class="language-plaintext highlighter-rouge">
        knowledge
       </code>
       respectively, and $L$ is the sum of the lengths of all strings in
       <code class="language-plaintext highlighter-rouge">
        knowledge
       </code>
       .
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#0b7488a4-3b0b-4d2d-8e76-0e489591011e'}">
       <li class="uk-active">
        <a href="solution-1807.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1807.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1807.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1807.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-1807.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-1807.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="0b7488a4-3b0b-4d2d-8e76-0e489591011e">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">evaluate</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">knowledge</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;(</span><span class="n">knowledge</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">var</span> <span class="n">e</span> <span class="o">:</span> <span class="n">knowledge</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">d</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span> <span class="n">e</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="nc">StringBuilder</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="sc">'('</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="sc">')'</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
                <span class="n">ans</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">d</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">j</span><span class="o">),</span> <span class="s">"?"</span><span class="o">));</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">ans</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">string</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;&amp;</span> <span class="n">knowledge</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">e</span> <span class="o">:</span> <span class="n">knowledge</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">d</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="n">string</span> <span class="n">ans</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'('</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">")"</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                <span class="k">auto</span> <span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">d</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">?</span> <span class="n">d</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">:</span> <span class="s">"?"</span><span class="p">;</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">knowledge</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">knowledge</span><span class="p">}</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">'('</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">')'</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">j</span><span class="p">],</span> <span class="s">'?'</span><span class="p">))</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">,</span> <span class="n">knowledge</span> <span class="p">[][]</span><span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
	<span class="n">d</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{}</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">knowledge</span> <span class="p">{</span>
		<span class="n">d</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="m">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
	<span class="p">}</span>
	<span class="k">var</span> <span class="n">ans</span> <span class="n">strings</span><span class="o">.</span><span class="n">Builder</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'('</span> <span class="p">{</span>
			<span class="n">j</span> <span class="o">:=</span> <span class="n">i</span> <span class="o">+</span> <span class="m">1</span>
			<span class="k">for</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">')'</span> <span class="p">{</span>
				<span class="n">j</span><span class="o">++</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="n">v</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">d</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="o">:</span><span class="n">j</span><span class="p">]];</span> <span class="n">ok</span> <span class="p">{</span>
				<span class="n">ans</span><span class="o">.</span><span class="n">WriteString</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="n">ans</span><span class="o">.</span><span class="n">WriteByte</span><span class="p">(</span><span class="sc">'?'</span><span class="p">)</span>
			<span class="p">}</span>
			<span class="n">i</span> <span class="o">=</span> <span class="n">j</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">ans</span><span class="o">.</span><span class="n">WriteByte</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">ans</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">evaluate</span><span class="p">(</span><span class="nx">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">knowledge</span><span class="p">:</span> <span class="kr">string</span><span class="p">[][]):</span> <span class="kr">string</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="p">[</span><span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">]</span> <span class="k">of</span> <span class="nx">knowledge</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">map</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">ans</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">(</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">)</span><span class="dl">'</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
            <span class="nx">ans</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span><span class="p">))</span> <span class="o">??</span> <span class="dl">'</span><span class="s1">?</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">i</span> <span class="o">=</span> <span class="nx">j</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">ans</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="nx">i</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">ans</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="nn">collections</span><span class="p">::</span><span class="n">HashMap</span><span class="p">;</span>
<span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">evaluate</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">knowledge</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">let</span> <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="nf">.as_bytes</span><span class="p">();</span>
        <span class="k">let</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="nf">.len</span><span class="p">();</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">map</span> <span class="o">=</span> <span class="nn">HashMap</span><span class="p">::</span><span class="nf">new</span><span class="p">();</span>
        <span class="k">for</span> <span class="n">v</span> <span class="k">in</span> <span class="n">knowledge</span><span class="nf">.iter</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">map</span><span class="nf">.insert</span><span class="p">(</span><span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">ans</span> <span class="o">=</span> <span class="nn">String</span><span class="p">::</span><span class="nf">new</span><span class="p">();</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">b'('</span> <span class="p">{</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">let</span> <span class="k">mut</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="k">let</span> <span class="k">mut</span> <span class="n">key</span> <span class="o">=</span> <span class="nn">String</span><span class="p">::</span><span class="nf">new</span><span class="p">();</span>
                <span class="k">while</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">b')'</span> <span class="p">{</span>
                    <span class="n">key</span><span class="nf">.push</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">as</span> <span class="nb">char</span><span class="p">);</span>
                    <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">ans</span><span class="nf">.push_str</span><span class="p">(</span><span class="n">map</span><span class="nf">.get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">key</span><span class="p">)</span><span class="nf">.unwrap_or</span><span class="p">(</span><span class="o">&amp;&amp;</span><span class="sc">'?'</span><span class="nf">.to_string</span><span class="p">()));</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">ans</span><span class="nf">.push</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">as</span> <span class="nb">char</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">ans</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1807.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
