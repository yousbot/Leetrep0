<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-241.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-241.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>241 - Different Ways to Add Parentheses</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Question Formatted question description: https://leetcode.ca/all/241.html Given a string expression of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. You may return the answer in any order. The test cases are generated such that the...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-241.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-241.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-241.html" rel="stylesheet"/>
   <link href="solution-241.html" rel="stylesheet"/>
   <link href="solution-241.html" rel="stylesheet"/>
   <link href="solution-241.html" rel="stylesheet"/>
   <link href="solution-241.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="241 - Different Ways to Add Parentheses" property="og:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/241.html Given a string expression of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. You may return the answer in any order. The test cases are generated such that the output values fit in a 32-bit integer and the number of different results does not exceed 104. &amp;nbsp; Example 1: Input: expression = &amp;quot;2-1-1&amp;quot; Output: [0,2] Explanation: ((2-1)-1) = 0 (2-(1-1)) = 2 Example 2: Input: expression = &amp;quot;2*3-4*5&amp;quot; Output: [-34,-14,-10,-10,10] Explanation: (2*(3-(4*5))) = -34 ((2*3)-(4*5)) = -14 ((2*(3-4))*5) = -10 (2*((3-4)*5)) = -10 (((2*3)-4)*5) = 10 &amp;nbsp; Constraints: 1 &amp;lt;= expression.length &amp;lt;= 20 expression consists of digits and the operator &amp;#39;+&amp;#39;, &amp;#39;-&amp;#39;, and &amp;#39;*&amp;#39;. All the integer values in the input expression are in the range [0, 99]. Algorithm The solution employs a Divide and Conquer approach facilitated by recursion and is optimized with memoization through Pythonâs @cache decorator from the functools module. Understanding the Approach Base Case: If the input expression exp is purely numeric (contains no operators), it is directly converted to an integer and returned as a list containing this single number. This serves as the base case for the recursion. Recursive Case: If the expression contains operators ('-', '+', '*'), the code iterates through the expression, looking for these operators. When an operator is found, the expression is split into two parts: left: The sub-expression before the operator. right: The sub-expression after the operator. Recursive calls are made to compute the possible results from both the left and right sub-expressions separately. Combining Results: For each pair of results from the left and right sub-expressions, the corresponding operation is applied based on the current operator c. The results of these operations are collected into the list ans. Memoization with @cache: To optimize the solution, the @cache decorator is used. This decorator automatically stores the results of expensive function calls and returns the cached result when the same inputs occur again. This is particularly useful here because the same sub-expression might be evaluated multiple times due to different splits of the original expression. Memoization ensures that each unique sub-expression is only evaluated once, significantly reducing the computational overhead. Example Given the expression &quot;2-1-1&quot;: The function will first check and find that itâs not purely numeric. It will then find the first -, split the expression into left = &quot;2&quot; and right = &quot;1-1&quot;, and compute recursively. The left part results in [2]. The right part, &quot;1-1&quot;, is further split into left = &quot;1&quot; and right = &quot;1&quot; at the - operator, each resulting in [1]. Combining them with - gives [0]. The results from the left and right parts of the original split are combined using the - operator, resulting in [2 - 0] = [2]. For expressions with multiple operations, the function will explore all possible ways of splitting the expression around operators, recursively solve for each part, and combine the results, thereby considering all possible..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-07-28T22:21:01-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-07-28-241-Different-Ways-to-Add-Parentheses/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-241.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="241 - Different Ways to Add Parentheses" property="twitter:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/241.html Given a string expression of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. You may return the answer in any order. The test cases are generated such that the output values fit in a 32-bit integer and the number of different results does not exceed 104. &amp;nbsp; Example 1: Input: expression = &amp;quot;2-1-1&amp;quot; Output: [0,2] Explanation: ((2-1)-1) = 0 (2-(1-1)) = 2 Example 2: Input: expression = &amp;quot;2*3-4*5&amp;quot; Output: [-34,-14,-10,-10,10] Explanation: (2*(3-(4*5))) = -34 ((2*3)-(4*5)) = -14 ((2*(3-4))*5) = -10 (2*((3-4)*5)) = -10 (((2*3)-4)*5) = 10 &amp;nbsp; Constraints: 1 &amp;lt;= expression.length &amp;lt;= 20 expression consists of digits and the operator &amp;#39;+&amp;#39;, &amp;#39;-&amp;#39;, and &amp;#39;*&amp;#39;. All the integer values in the input expression are in the range [0, 99]. Algorithm The solution employs a Divide and Conquer approach facilitated by recursion and is optimized with memoization through Pythonâs @cache decorator from the functools module. Understanding the Approach Base Case: If the input expression exp is purely numeric (contains no operators), it is directly converted to an integer and returned as a list containing this single number. This serves as the base case for the recursion. Recursive Case: If the expression contains operators ('-', '+', '*'), the code iterates through the expression, looking for these operators. When an operator is found, the expression is split into two parts: left: The sub-expression before the operator. right: The sub-expression after the operator. Recursive calls are made to compute the possible results from both the left and right sub-expressions separately. Combining Results: For each pair of results from the left and right sub-expressions, the corresponding operation is applied based on the current operator c. The results of these operations are collected into the list ans. Memoization with @cache: To optimize the solution, the @cache decorator is used. This decorator automatically stores the results of expensive function calls and returns the cached result when the same inputs occur again. This is particularly useful here because the same sub-expression might be evaluated multiple times due to different splits of the original expression. Memoization ensures that each unique sub-expression is only evaluated once, significantly reducing the computational overhead. Example Given the expression &quot;2-1-1&quot;: The function will first check and find that itâs not purely numeric. It will then find the first -, split the expression into left = &quot;2&quot; and right = &quot;1-1&quot;, and compute recursively. The left part results in [2]. The right part, &quot;1-1&quot;, is further split into left = &quot;1&quot; and right = &quot;1&quot; at the - operator, each resulting in [1]. Combining them with - gives [0]. The results from the left and right parts of the original split are combined using the - operator, resulting in [2 - 0] = [2]. For expressions with multiple operations, the function will explore all possible ways of splitting the expression around operators, recursively solve for each part, and combine the results, thereby considering all possible..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    241 - Different Ways to Add Parentheses | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="241 - Different Ways to Add Parentheses" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-241.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-07-28-241-Different-Ways-to-Add-Parentheses/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-07-28T22:21:01-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"241 - Different Ways to Add Parentheses","dateModified":"2016-07-28T22:21:01-07:00","datePublished":"2016-07-28T22:21:01-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-07-28-241-Different-Ways-to-Add-Parentheses/"},"url":"https://leetcode.ca/2016-07-28-241-Different-Ways-to-Add-Parentheses/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="question">
       Question
      </h1>
      <p>
       Formatted question description:
       <a href="solution-241.html">
        https://leetcode.ca/all/241.html
       </a>
      </p>
      <p>
       Given a string
       <code>
        expression
       </code>
       of numbers and operators, return
       <em>
        all possible results from computing all the different possible ways to group numbers and operators
       </em>
       . You may return the answer in
       <strong>
        any order
       </strong>
       .
      </p>
      <p>
       The test cases are generated such that the output values fit in a 32-bit integer and the number of different results does not exceed
       <code>
        10
        <sup>
         4
        </sup>
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> expression = "2-1-1"
<strong>Output:</strong> [0,2]
<strong>Explanation:</strong>
((2-1)-1) = 0 
(2-(1-1)) = 2
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> expression = "2*3-4*5"
<strong>Output:</strong> [-34,-14,-10,-10,10]
<strong>Explanation:</strong>
(2*(3-(4*5))) = -34 
((2*3)-(4*5)) = -14 
((2*(3-4))*5) = -10 
(2*((3-4)*5)) = -10 
(((2*3)-4)*5) = 10
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= expression.length &lt;= 20
        </code>
       </li>
       <li>
        <code>
         expression
        </code>
        consists of digits and the operator
        <code>
         '+'
        </code>
        ,
        <code>
         '-'
        </code>
        , and
        <code>
         '*'
        </code>
        .
       </li>
       <li>
        All the integer values in the input expression are in the range
        <code>
         [0, 99]
        </code>
        .
       </li>
      </ul>
      <h1 id="algorithm">
       Algorithm
      </h1>
      <p>
       The solution employs a Divide and Conquer approach facilitated by recursion and is optimized with memoization through Pythonâs
       <code class="language-plaintext highlighter-rouge">
        @cache
       </code>
       decorator from the
       <code class="language-plaintext highlighter-rouge">
        functools
       </code>
       module.
      </p>
      <h3 id="understanding-the-approach">
       Understanding the Approach
      </h3>
      <ol>
       <li>
        <p>
         <strong>
          Base Case
         </strong>
         : If the input expression
         <code class="language-plaintext highlighter-rouge">
          exp
         </code>
         is purely numeric (contains no operators), it is directly converted to an integer and returned as a list containing this single number. This serves as the base case for the recursion.
        </p>
       </li>
       <li>
        <strong>
         Recursive Case
        </strong>
        : If the expression contains operators (
        <code class="language-plaintext highlighter-rouge">
         '-'
        </code>
        ,
        <code class="language-plaintext highlighter-rouge">
         '+'
        </code>
        ,
        <code class="language-plaintext highlighter-rouge">
         '*'
        </code>
        ), the code iterates through the expression, looking for these operators. When an operator is found, the expression is split into two parts:
        <ul>
         <li>
          <code class="language-plaintext highlighter-rouge">
           left
          </code>
          : The sub-expression before the operator.
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           right
          </code>
          : The sub-expression after the operator.
         </li>
        </ul>
        <p>
         Recursive calls are made to compute the possible results from both the
         <code class="language-plaintext highlighter-rouge">
          left
         </code>
         and
         <code class="language-plaintext highlighter-rouge">
          right
         </code>
         sub-expressions separately.
        </p>
       </li>
       <li>
        <p>
         <strong>
          Combining Results
         </strong>
         : For each pair of results from the
         <code class="language-plaintext highlighter-rouge">
          left
         </code>
         and
         <code class="language-plaintext highlighter-rouge">
          right
         </code>
         sub-expressions, the corresponding operation is applied based on the current operator
         <code class="language-plaintext highlighter-rouge">
          c
         </code>
         . The results of these operations are collected into the list
         <code class="language-plaintext highlighter-rouge">
          ans
         </code>
         .
        </p>
       </li>
       <li>
        <strong>
         Memoization with
         <code class="language-plaintext highlighter-rouge">
          @cache
         </code>
        </strong>
        : To optimize the solution, the
        <code class="language-plaintext highlighter-rouge">
         @cache
        </code>
        decorator is used. This decorator automatically stores the results of expensive function calls and returns the cached result when the same inputs occur again. This is particularly useful here because the same sub-expression might be evaluated multiple times due to different splits of the original expression. Memoization ensures that each unique sub-expression is only evaluated once, significantly reducing the computational overhead.
       </li>
      </ol>
      <h3 id="example">
       Example
      </h3>
      <p>
       Given the expression
       <code class="language-plaintext highlighter-rouge">
        "2-1-1"
       </code>
       :
      </p>
      <ul>
       <li>
        The function will first check and find that itâs not purely numeric.
       </li>
       <li>
        It will then find the first
        <code class="language-plaintext highlighter-rouge">
         -
        </code>
        , split the expression into
        <code class="language-plaintext highlighter-rouge">
         left = "2"
        </code>
        and
        <code class="language-plaintext highlighter-rouge">
         right = "1-1"
        </code>
        , and compute recursively.
        <ul>
         <li>
          The
          <code class="language-plaintext highlighter-rouge">
           left
          </code>
          part results in
          <code class="language-plaintext highlighter-rouge">
           [2]
          </code>
          .
         </li>
         <li>
          The
          <code class="language-plaintext highlighter-rouge">
           right
          </code>
          part,
          <code class="language-plaintext highlighter-rouge">
           "1-1"
          </code>
          , is further split into
          <code class="language-plaintext highlighter-rouge">
           left = "1"
          </code>
          and
          <code class="language-plaintext highlighter-rouge">
           right = "1"
          </code>
          at the
          <code class="language-plaintext highlighter-rouge">
           -
          </code>
          operator, each resulting in
          <code class="language-plaintext highlighter-rouge">
           [1]
          </code>
          . Combining them with
          <code class="language-plaintext highlighter-rouge">
           -
          </code>
          gives
          <code class="language-plaintext highlighter-rouge">
           [0]
          </code>
          .
         </li>
        </ul>
       </li>
       <li>
        The results from the
        <code class="language-plaintext highlighter-rouge">
         left
        </code>
        and
        <code class="language-plaintext highlighter-rouge">
         right
        </code>
        parts of the original split are combined using the
        <code class="language-plaintext highlighter-rouge">
         -
        </code>
        operator, resulting in
        <code class="language-plaintext highlighter-rouge">
         [2 - 0] = [2]
        </code>
        .
       </li>
      </ul>
      <p>
       For expressions with multiple operations, the function will explore all possible ways of splitting the expression around operators, recursively solve for each part, and combine the results, thereby considering all possible orderings of operations due to the non-associative property of subtraction and division.
      </p>
      <h1 id="code">
       Code
      </h1>
      <ul class="uk-tab" data-uk-switcher="{connect:'#d3c4ede8-cdce-4916-963b-5ce9d31f813d'}">
       <li class="uk-active">
        <a href="solution-241.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-241.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-241.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-241.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-241.html">
         C#
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="d3c4ede8-cdce-4916-963b-5ce9d31f813d">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Different_Ways_to_Add_Parentheses</span> <span class="o">{</span>


    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">diffWaysToCompute</span><span class="o">(</span><span class="nc">String</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">input</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>

                <span class="k">if</span> <span class="o">(!</span><span class="n">isOperator</span><span class="o">(</span><span class="n">c</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">continue</span><span class="o">;</span>
                <span class="o">}</span>

                <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">diffWaysToCompute</span><span class="o">(</span><span class="n">input</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">i</span><span class="o">));</span>
                <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">diffWaysToCompute</span><span class="o">(</span><span class="n">input</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>

                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">num1</span> <span class="o">:</span> <span class="n">left</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">num2</span> <span class="o">:</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
                        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">calculate</span><span class="o">(</span><span class="n">num1</span><span class="o">,</span> <span class="n">num2</span><span class="o">,</span> <span class="n">c</span><span class="o">);</span>
                        <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>

            <span class="c1">// only contains one number</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">input</span><span class="o">));</span>
            <span class="o">}</span>

            <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="kt">int</span> <span class="nf">calculate</span><span class="o">(</span><span class="kt">int</span> <span class="n">num1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="o">,</span> <span class="kt">char</span> <span class="n">operator</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

            <span class="k">switch</span><span class="o">(</span><span class="n">operator</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">case</span> <span class="sc">'+'</span> <span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>

                <span class="k">case</span> <span class="sc">'-'</span> <span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">num1</span> <span class="o">-</span> <span class="n">num2</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>

                <span class="k">case</span> <span class="sc">'*'</span> <span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">num1</span> <span class="o">*</span> <span class="n">num2</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isOperator</span><span class="o">(</span><span class="kt">char</span> <span class="n">operator</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">(</span><span class="n">operator</span> <span class="o">==</span> <span class="sc">'+'</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">operator</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">operator</span> <span class="o">==</span> <span class="sc">'*'</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="err">############</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">memo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">diffWaysToCompute</span><span class="o">(</span><span class="nc">String</span> <span class="n">expression</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="n">expression</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">dfs</span><span class="o">(</span><span class="nc">String</span> <span class="n">exp</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">memo</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">exp</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">memo</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">exp</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">exp</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">exp</span><span class="o">));</span>
            <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">exp</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">exp</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'*'</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">exp</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">i</span><span class="o">));</span>
                <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">exp</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">:</span> <span class="n">left</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">b</span> <span class="o">:</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">memo</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">exp</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">diffWaysToCompute</span><span class="p">(</span><span class="n">string</span> <span class="n">expression</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">expression</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dfs</span><span class="p">(</span><span class="n">string</span> <span class="n">exp</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">memo</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">exp</span><span class="p">))</span> <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="n">exp</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="p">{</span><span class="n">stoi</span><span class="p">(</span><span class="n">exp</span><span class="p">)};</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">exp</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">exp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'*'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">));</span>
                <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">a</span> <span class="o">:</span> <span class="n">left</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">b</span> <span class="o">:</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span><span class="p">)</span>
                            <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">);</span>
                        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span><span class="p">)</span>
                            <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">);</span>
                        <span class="k">else</span>
                            <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">memo</span><span class="p">[</span><span class="n">exp</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nl">private:</span>
    <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">memo</span><span class="p">;</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">diffWaysToCompute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="o">@</span><span class="n">cache</span> <span class="c1"># note
</span>        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">exp</span><span class="p">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">exp</span><span class="p">)]</span> <span class="c1"># return list
</span>            <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">exp</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="s">'-+*'</span><span class="p">:</span>
                    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">[:</span><span class="n">i</span><span class="p">]),</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:])</span>
                    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">left</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">right</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'-'</span><span class="p">:</span>
                                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span>
                            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'+'</span><span class="p">:</span>
                                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ans</span>

        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>

<span class="c1">############
</span>
<span class="s">'''
&gt;&gt;&gt; from operator import *
&gt;&gt;&gt; add(1,2)
3
&gt;&gt;&gt; sub(1,2)
-1
&gt;&gt;&gt; mul(1,2)
2
&gt;&gt;&gt; div(1,2)
0

### append() vs extend()

&gt;&gt;&gt; x = [1, 2, 3]
&gt;&gt;&gt; x.append([4, 5])
&gt;&gt;&gt; print(x)
[1, 2, 3, [4, 5]]


&gt;&gt;&gt; x = [1, 2, 3]
&gt;&gt;&gt; x.extend([4, 5])
&gt;&gt;&gt; print(x)
[1, 2, 3, 4, 5]


https://stackoverflow.com/questions/252703/what-is-the-difference-between-pythons-list-methods-append-and-extend
'''</span>

<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">diffWaysToCompute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">):</span>
    <span class="s">"""
    :type input: str
    :rtype: List[int]
    """</span>
    <span class="n">ops</span> <span class="o">=</span> <span class="p">{</span><span class="s">"+"</span><span class="p">:</span> <span class="n">add</span><span class="p">,</span> <span class="s">"-"</span><span class="p">:</span> <span class="n">sub</span><span class="p">,</span> <span class="s">"*"</span><span class="p">:</span> <span class="n">mul</span><span class="p">,</span> <span class="s">"/"</span><span class="p">:</span> <span class="n">div</span><span class="p">}</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">input</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ops</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">diffWaysToCompute</span><span class="p">(</span><span class="nb">input</span><span class="p">[:</span><span class="n">i</span><span class="p">])</span>
        <span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">diffWaysToCompute</span><span class="p">(</span><span class="nb">input</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:])</span>
        <span class="n">ans</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span><span class="n">ops</span><span class="p">[</span><span class="n">c</span><span class="p">](</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">left</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">right</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">ans</span> <span class="k">if</span> <span class="n">ans</span> <span class="k">else</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">)]</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">var</span> <span class="n">memo</span> <span class="o">=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">int</span><span class="p">{}</span>

<span class="k">func</span> <span class="n">diffWaysToCompute</span><span class="p">(</span><span class="n">expression</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">v</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">memo</span><span class="p">[</span><span class="n">exp</span><span class="p">];</span> <span class="n">ok</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">v</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span> <span class="o">&lt;</span> <span class="m">3</span> <span class="p">{</span>
		<span class="n">v</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Atoi</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
		<span class="k">return</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="n">v</span><span class="p">}</span>
	<span class="p">}</span>
	<span class="n">ans</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">exp</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'*'</span> <span class="p">{</span>
			<span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">:=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">[</span><span class="o">:</span><span class="n">i</span><span class="p">]),</span> <span class="n">dfs</span><span class="p">(</span><span class="n">exp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="o">:</span><span class="p">])</span>
			<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">left</span> <span class="p">{</span>
				<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">b</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">right</span> <span class="p">{</span>
					<span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span> <span class="p">{</span>
						<span class="n">ans</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">)</span>
					<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span> <span class="p">{</span>
						<span class="n">ans</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="n">ans</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">memo</span><span class="p">[</span><span class="n">exp</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span>
	<span class="k">return</span> <span class="n">ans</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="nf">DiffWaysToCompute</span><span class="p">(</span><span class="kt">string</span> <span class="n">input</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">var</span> <span class="n">values</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
        <span class="kt">var</span> <span class="n">operators</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">&gt;();</span>
        <span class="kt">var</span> <span class="n">sum</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">ch</span> <span class="k">in</span> <span class="n">input</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ch</span> <span class="p">==</span> <span class="sc">'+'</span> <span class="p">||</span> <span class="n">ch</span> <span class="p">==</span> <span class="sc">'-'</span> <span class="p">||</span> <span class="n">ch</span> <span class="p">==</span> <span class="sc">'*'</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">values</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span>
                <span class="n">operators</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
                <span class="n">sum</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">sum</span> <span class="p">=</span> <span class="n">sum</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">ch</span> <span class="p">-</span> <span class="sc">'0'</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">values</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">f</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;[</span><span class="n">values</span><span class="p">.</span><span class="n">Count</span><span class="p">,</span> <span class="n">values</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">values</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">};</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">diff</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">diff</span> <span class="p">&lt;</span> <span class="n">values</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="p">++</span><span class="n">diff</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">left</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">left</span> <span class="p">+</span> <span class="n">diff</span> <span class="p">&lt;</span> <span class="n">values</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="p">++</span><span class="n">left</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">var</span> <span class="n">right</span> <span class="p">=</span> <span class="n">left</span> <span class="p">+</span> <span class="n">diff</span><span class="p">;</span>
                <span class="n">f</span><span class="p">[</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="n">left</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">right</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">leftValue</span> <span class="k">in</span> <span class="n">f</span><span class="p">[</span><span class="n">left</span><span class="p">,</span> <span class="n">i</span><span class="p">])</span>
                    <span class="p">{</span>
                        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">rightValue</span> <span class="k">in</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">right</span><span class="p">])</span>
                        <span class="p">{</span>
                            <span class="k">switch</span> <span class="p">(</span><span class="n">operators</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="p">{</span>
                                <span class="k">case</span> <span class="sc">'+'</span><span class="p">:</span>
                                    <span class="n">f</span><span class="p">[</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">].</span><span class="nf">Add</span><span class="p">(</span><span class="n">leftValue</span> <span class="p">+</span> <span class="n">rightValue</span><span class="p">);</span>
                                    <span class="k">break</span><span class="p">;</span>
                                <span class="k">case</span> <span class="sc">'-'</span><span class="p">:</span>
                                    <span class="n">f</span><span class="p">[</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">].</span><span class="nf">Add</span><span class="p">(</span><span class="n">leftValue</span> <span class="p">-</span> <span class="n">rightValue</span><span class="p">);</span>
                                    <span class="k">break</span><span class="p">;</span>
                                <span class="k">case</span> <span class="sc">'*'</span><span class="p">:</span>
                                    <span class="n">f</span><span class="p">[</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">].</span><span class="nf">Add</span><span class="p">(</span><span class="n">leftValue</span> <span class="p">*</span> <span class="n">rightValue</span><span class="p">);</span>
                                    <span class="k">break</span><span class="p">;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="m">0</span><span class="p">,</span> <span class="n">values</span><span class="p">.</span><span class="n">Count</span> <span class="p">-</span> <span class="m">1</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-241.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
