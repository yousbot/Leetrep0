<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-3363.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-3363.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>3363 - Find the Maximum Number of Fruits Collected</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 3363. Find the Maximum Number of Fruits Collected Description There is a game dungeon comprised of&amp;nbsp;n x n rooms arranged in a grid. You are given a 2D array fruits of size n x n, where fruits[i][j] represents the number of fruits in the room...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-3363.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-3363.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-3363.html" rel="stylesheet"/>
   <link href="solution-3363.html" rel="stylesheet"/>
   <link href="solution-3363.html" rel="stylesheet"/>
   <link href="solution-3363.html" rel="stylesheet"/>
   <link href="solution-3363.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="3363 - Find the Maximum Number of Fruits Collected" property="og:title"/>
   <meta content="Leetcode






3363. Find the Maximum Number of Fruits Collected

Description



There is a game dungeon comprised of&amp;nbsp;n x n rooms arranged in a grid.

You are given a 2D array fruits of size n x n, where fruits[i][j] represents the number of fruits in the room (i, j). Three children will play in the game dungeon, with initial positions at the corner rooms (0, 0), (0, n - 1), and (n - 1, 0).

The children will make exactly n - 1 moves according to the following rules to reach the room (n - 1, n - 1):


	The child starting from (0, 0) must move from their current room (i, j) to one of the rooms (i + 1, j + 1), (i + 1, j), and (i, j + 1) if the target room exists.
	The child starting from (0, n - 1) must move from their current room (i, j) to one of the rooms (i + 1, j - 1), (i + 1, j), and (i + 1, j + 1) if the target room exists.
	The child starting from (n - 1, 0) must move from their current room (i, j) to one of the rooms (i - 1, j + 1), (i, j + 1), and (i + 1, j + 1) if the target room exists.


When a child enters a room, they will collect all the fruits there. If two or more children enter the same room, only one child will collect the fruits, and the room will be emptied after they leave.

Return the maximum number of fruits the children can collect from the dungeon.

&amp;nbsp;
Example 1:


Input: fruits = [[1,2,3,4],[5,6,8,7],[9,10,11,12],[13,14,15,16]]

Output: 100

Explanation:



In this example:


	The 1st child (green) moves on the path (0,0) -&amp;gt; (1,1) -&amp;gt; (2,2) -&amp;gt; (3, 3).
	The 2nd child (red) moves on the path (0,3) -&amp;gt; (1,2) -&amp;gt; (2,3) -&amp;gt; (3, 3).
	The 3rd child (blue) moves on the path (3,0) -&amp;gt; (3,1) -&amp;gt; (3,2) -&amp;gt; (3, 3).


In total they collect 1 + 6 + 11 + 16 + 4 + 8 + 12 + 13 + 14 + 15 = 100 fruits.


Example 2:


Input: fruits = [[1,1],[1,1]]

Output: 4

Explanation:

In this example:


	The 1st child moves on the path (0,0) -&amp;gt; (1,1).
	The 2nd child moves on the path (0,1) -&amp;gt; (1,1).
	The 3rd child moves on the path (1,0) -&amp;gt; (1,1).


In total they collect 1 + 1 + 1 + 1 = 4 fruits.


&amp;nbsp;
Constraints:


	2 &amp;lt;= n == fruits.length == fruits[i].length &amp;lt;= 1000
	0 &amp;lt;= fruits[i][j] &amp;lt;= 1000




Solutions



Solution 1

All Problems

All Solutions" property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2024-12-07T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2024-12-07-3363-Find-the-Maximum-Number-of-Fruits-Collected/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-3363.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="3363 - Find the Maximum Number of Fruits Collected" property="twitter:title"/>
   <meta content="Leetcode






3363. Find the Maximum Number of Fruits Collected

Description



There is a game dungeon comprised of&amp;nbsp;n x n rooms arranged in a grid.

You are given a 2D array fruits of size n x n, where fruits[i][j] represents the number of fruits in the room (i, j). Three children will play in the game dungeon, with initial positions at the corner rooms (0, 0), (0, n - 1), and (n - 1, 0).

The children will make exactly n - 1 moves according to the following rules to reach the room (n - 1, n - 1):


	The child starting from (0, 0) must move from their current room (i, j) to one of the rooms (i + 1, j + 1), (i + 1, j), and (i, j + 1) if the target room exists.
	The child starting from (0, n - 1) must move from their current room (i, j) to one of the rooms (i + 1, j - 1), (i + 1, j), and (i + 1, j + 1) if the target room exists.
	The child starting from (n - 1, 0) must move from their current room (i, j) to one of the rooms (i - 1, j + 1), (i, j + 1), and (i + 1, j + 1) if the target room exists.


When a child enters a room, they will collect all the fruits there. If two or more children enter the same room, only one child will collect the fruits, and the room will be emptied after they leave.

Return the maximum number of fruits the children can collect from the dungeon.

&amp;nbsp;
Example 1:


Input: fruits = [[1,2,3,4],[5,6,8,7],[9,10,11,12],[13,14,15,16]]

Output: 100

Explanation:



In this example:


	The 1st child (green) moves on the path (0,0) -&amp;gt; (1,1) -&amp;gt; (2,2) -&amp;gt; (3, 3).
	The 2nd child (red) moves on the path (0,3) -&amp;gt; (1,2) -&amp;gt; (2,3) -&amp;gt; (3, 3).
	The 3rd child (blue) moves on the path (3,0) -&amp;gt; (3,1) -&amp;gt; (3,2) -&amp;gt; (3, 3).


In total they collect 1 + 6 + 11 + 16 + 4 + 8 + 12 + 13 + 14 + 15 = 100 fruits.


Example 2:


Input: fruits = [[1,1],[1,1]]

Output: 4

Explanation:

In this example:


	The 1st child moves on the path (0,0) -&amp;gt; (1,1).
	The 2nd child moves on the path (0,1) -&amp;gt; (1,1).
	The 3rd child moves on the path (1,0) -&amp;gt; (1,1).


In total they collect 1 + 1 + 1 + 1 = 4 fruits.


&amp;nbsp;
Constraints:


	2 &amp;lt;= n == fruits.length == fruits[i].length &amp;lt;= 1000
	0 &amp;lt;= fruits[i][j] &amp;lt;= 1000




Solutions



Solution 1

All Problems

All Solutions" property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    3363 - Find the Maximum Number of Fruits Collected | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="3363 - Find the Maximum Number of Fruits Collected" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-3363.html" rel="canonical">
          <meta content="https://leetcode.ca/2024-12-07-3363-Find-the-Maximum-Number-of-Fruits-Collected/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2024-12-07T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"3363 - Find the Maximum Number of Fruits Collected","dateModified":"2024-12-07T00:00:00-08:00","datePublished":"2024-12-07T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2024-12-07-3363-Find-the-Maximum-Number-of-Fruits-Collected/"},"url":"https://leetcode.ca/2024-12-07-3363-Find-the-Maximum-Number-of-Fruits-Collected/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <!-- problem:start -->
      <h1 id="3363-find-the-maximum-number-of-fruits-collected">
       <a href="solution-3363.html">
        3363. Find the Maximum Number of Fruits Collected
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <!-- description:start -->
      <p>
       There is a game dungeon comprised of
       <code>
        n x n
       </code>
       rooms arranged in a grid.
      </p>
      <p>
       You are given a 2D array
       <code>
        fruits
       </code>
       of size
       <code>
        n x n
       </code>
       , where
       <code>
        fruits[i][j]
       </code>
       represents the number of fruits in the room
       <code>
        (i, j)
       </code>
       . Three children will play in the game dungeon, with
       <strong>
        initial
       </strong>
       positions at the corner rooms
       <code>
        (0, 0)
       </code>
       ,
       <code>
        (0, n - 1)
       </code>
       , and
       <code>
        (n - 1, 0)
       </code>
       .
      </p>
      <p>
       The children will make
       <strong>
        exactly
       </strong>
       <code>
        n - 1
       </code>
       moves according to the following rules to reach the room
       <code>
        (n - 1, n - 1)
       </code>
       :
      </p>
      <ul>
       <li>
        The child starting from
        <code>
         (0, 0)
        </code>
        must move from their current room
        <code>
         (i, j)
        </code>
        to one of the rooms
        <code>
         (i + 1, j + 1)
        </code>
        ,
        <code>
         (i + 1, j)
        </code>
        , and
        <code>
         (i, j + 1)
        </code>
        if the target room exists.
       </li>
       <li>
        The child starting from
        <code>
         (0, n - 1)
        </code>
        must move from their current room
        <code>
         (i, j)
        </code>
        to one of the rooms
        <code>
         (i + 1, j - 1)
        </code>
        ,
        <code>
         (i + 1, j)
        </code>
        , and
        <code>
         (i + 1, j + 1)
        </code>
        if the target room exists.
       </li>
       <li>
        The child starting from
        <code>
         (n - 1, 0)
        </code>
        must move from their current room
        <code>
         (i, j)
        </code>
        to one of the rooms
        <code>
         (i - 1, j + 1)
        </code>
        ,
        <code>
         (i, j + 1)
        </code>
        , and
        <code>
         (i + 1, j + 1)
        </code>
        if the target room exists.
       </li>
      </ul>
      <p>
       When a child enters a room, they will collect all the fruits there. If two or more children enter the same room, only one child will collect the fruits, and the room will be emptied after they leave.
      </p>
      <p>
       Return the
       <strong>
        maximum
       </strong>
       number of fruits the children can collect from the dungeon.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         fruits = [[1,2,3,4],[5,6,8,7],[9,10,11,12],[13,14,15,16]]
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         100
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3300-3399/3363.Find%20the%20Maximum%20Number%20of%20Fruits%20Collected/images/example_1.gif" style="width: 250px; height: 214px;"/>
       </p>
       <p>
        In this example:
       </p>
       <ul>
        <li>
         The 1
         <sup>
          st
         </sup>
         child (green) moves on the path
         <code>
          (0,0) -&gt; (1,1) -&gt; (2,2) -&gt; (3, 3)
         </code>
         .
        </li>
        <li>
         The 2
         <sup>
          nd
         </sup>
         child (red) moves on the path
         <code>
          (0,3) -&gt; (1,2) -&gt; (2,3) -&gt; (3, 3)
         </code>
         .
        </li>
        <li>
         The 3
         <sup>
          rd
         </sup>
         child (blue) moves on the path
         <code>
          (3,0) -&gt; (3,1) -&gt; (3,2) -&gt; (3, 3)
         </code>
         .
        </li>
       </ul>
       <p>
        In total they collect
        <code>
         1 + 6 + 11 + 16 + 4 + 8 + 12 + 13 + 14 + 15 = 100
        </code>
        fruits.
       </p>
      </div>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <div class="example-block">
       <p>
        <strong>
         Input:
        </strong>
        <span class="example-io">
         fruits = [[1,1],[1,1]]
        </span>
       </p>
       <p>
        <strong>
         Output:
        </strong>
        <span class="example-io">
         4
        </span>
       </p>
       <p>
        <strong>
         Explanation:
        </strong>
       </p>
       <p>
        In this example:
       </p>
       <ul>
        <li>
         The 1
         <sup>
          st
         </sup>
         child moves on the path
         <code>
          (0,0) -&gt; (1,1)
         </code>
         .
        </li>
        <li>
         The 2
         <sup>
          nd
         </sup>
         child moves on the path
         <code>
          (0,1) -&gt; (1,1)
         </code>
         .
        </li>
        <li>
         The 3
         <sup>
          rd
         </sup>
         child moves on the path
         <code>
          (1,0) -&gt; (1,1)
         </code>
         .
        </li>
       </ul>
       <p>
        In total they collect
        <code>
         1 + 1 + 1 + 1 = 4
        </code>
        fruits.
       </p>
      </div>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         2 &lt;= n == fruits.length == fruits[i].length &lt;= 1000
        </code>
       </li>
       <li>
        <code>
         0 &lt;= fruits[i][j] &lt;= 1000
        </code>
       </li>
      </ul>
      <!-- description:end -->
      <h2 id="solutions">
       Solutions
      </h2>
      <!-- solution:start -->
      <h3 id="solution-1">
       Solution 1
      </h3>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-3363.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
