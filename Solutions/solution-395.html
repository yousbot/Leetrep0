<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-395.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-395.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>395 - Longest Substring with At Least K Repeating Characters</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 395. Longest Substring with At Least K Repeating Characters Description Given a string s and an integer k, return the length of the longest substring of s such that the frequency of each character in this substring is greater than or equal to k. if...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-395.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-395.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-395.html" rel="stylesheet"/>
   <link href="solution-395.html" rel="stylesheet"/>
   <link href="solution-395.html" rel="stylesheet"/>
   <link href="solution-395.html" rel="stylesheet"/>
   <link href="solution-395.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="395 - Longest Substring with At Least K Repeating Characters" property="og:title"/>
   <meta content="Leetcode 395. Longest Substring with At Least K Repeating Characters Description Given a string s and an integer k, return the length of the longest substring of s such that the frequency of each character in this substring is greater than or equal to k. if no such substring exists, return 0. &amp;nbsp; Example 1: Input: s = &amp;quot;aaabb&amp;quot;, k = 3 Output: 3 Explanation: The longest substring is &amp;quot;aaa&amp;quot;, as &amp;#39;a&amp;#39; is repeated 3 times. Example 2: Input: s = &amp;quot;ababbc&amp;quot;, k = 2 Output: 5 Explanation: The longest substring is &amp;quot;ababb&amp;quot;, as &amp;#39;a&amp;#39; is repeated 2 times and &amp;#39;b&amp;#39; is repeated 3 times. &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 104 s consists of only lowercase English letters. 1 &amp;lt;= k &amp;lt;= 105 Solutions Use a divide and conquer approach. This problem asks for the length of the longest substring where each character appears at least k times. The key insight is that if a character x appears in the substring less than k times, then any valid substring cannot include x and must lie entirely on one side of x. Thus, x acts as a divider for potential valid substrings. How It Works: Base Case: If the stringâs length is less than k, itâs impossible for any character to appear k times, so return 0. Character Frequency: Use Counter from the collections module to count the frequency of each character in s. Divide and Conquer: Iterate through the character frequencies. If any character char appears less than k times, it cannot be part of the longest valid substring. Thus, char acts as a divider. Split the string s at char and apply the function recursively to each segment. This step divides the problem into smaller subproblems. The max function is used on the result of the recursive calls to ensure that the longest valid substring length is returned. Valid Substring: If the loop completes without finding any character that appears less than k times, the entire string s is a valid substring. Thus, return the length of s. This divide and conquer solution efficiently reduces the problem size by splitting the string into smaller segments whenever an invalid character is found, leading to a direct path toward finding the longest substring where each character appears at least k times. Java C++ Python Go class Solution { private String s; private int k; public int longestSubstring(String s, int k) { this.s = s; this.k = k; return dfs(0, s.length() - 1); } private int dfs(int l, int r) { int[] cnt = new int[26]; for (int i = l; i &amp;lt;= r; ++i) { ++cnt[s.charAt(i) - 'a']; } char split = 0; for (int i = 0; i &amp;lt; 26; ++i) { if (cnt[i] &amp;gt; 0 &amp;amp;&amp;amp; cnt[i] &amp;lt; k) { split = (char) (i + 'a'); break; } } if (split == 0) { return r - l + 1; } int i = l; int ans = 0; while (i &amp;lt;= r) {..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-12-29T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-12-29-395-Longest-Substring-with-At-Least-K-Repeating-Characters/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-395.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="395 - Longest Substring with At Least K Repeating Characters" property="twitter:title"/>
   <meta content="Leetcode 395. Longest Substring with At Least K Repeating Characters Description Given a string s and an integer k, return the length of the longest substring of s such that the frequency of each character in this substring is greater than or equal to k. if no such substring exists, return 0. &amp;nbsp; Example 1: Input: s = &amp;quot;aaabb&amp;quot;, k = 3 Output: 3 Explanation: The longest substring is &amp;quot;aaa&amp;quot;, as &amp;#39;a&amp;#39; is repeated 3 times. Example 2: Input: s = &amp;quot;ababbc&amp;quot;, k = 2 Output: 5 Explanation: The longest substring is &amp;quot;ababb&amp;quot;, as &amp;#39;a&amp;#39; is repeated 2 times and &amp;#39;b&amp;#39; is repeated 3 times. &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 104 s consists of only lowercase English letters. 1 &amp;lt;= k &amp;lt;= 105 Solutions Use a divide and conquer approach. This problem asks for the length of the longest substring where each character appears at least k times. The key insight is that if a character x appears in the substring less than k times, then any valid substring cannot include x and must lie entirely on one side of x. Thus, x acts as a divider for potential valid substrings. How It Works: Base Case: If the stringâs length is less than k, itâs impossible for any character to appear k times, so return 0. Character Frequency: Use Counter from the collections module to count the frequency of each character in s. Divide and Conquer: Iterate through the character frequencies. If any character char appears less than k times, it cannot be part of the longest valid substring. Thus, char acts as a divider. Split the string s at char and apply the function recursively to each segment. This step divides the problem into smaller subproblems. The max function is used on the result of the recursive calls to ensure that the longest valid substring length is returned. Valid Substring: If the loop completes without finding any character that appears less than k times, the entire string s is a valid substring. Thus, return the length of s. This divide and conquer solution efficiently reduces the problem size by splitting the string into smaller segments whenever an invalid character is found, leading to a direct path toward finding the longest substring where each character appears at least k times. Java C++ Python Go class Solution { private String s; private int k; public int longestSubstring(String s, int k) { this.s = s; this.k = k; return dfs(0, s.length() - 1); } private int dfs(int l, int r) { int[] cnt = new int[26]; for (int i = l; i &amp;lt;= r; ++i) { ++cnt[s.charAt(i) - 'a']; } char split = 0; for (int i = 0; i &amp;lt; 26; ++i) { if (cnt[i] &amp;gt; 0 &amp;amp;&amp;amp; cnt[i] &amp;lt; k) { split = (char) (i + 'a'); break; } } if (split == 0) { return r - l + 1; } int i = l; int ans = 0; while (i &amp;lt;= r) {..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    395 - Longest Substring with At Least K Repeating Characters | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="395 - Longest Substring with At Least K Repeating Characters" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-395.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-12-29-395-Longest-Substring-with-At-Least-K-Repeating-Characters/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-12-29T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"395 - Longest Substring with At Least K Repeating Characters","dateModified":"2016-12-29T00:00:00-08:00","datePublished":"2016-12-29T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-12-29-395-Longest-Substring-with-At-Least-K-Repeating-Characters/"},"url":"https://leetcode.ca/2016-12-29-395-Longest-Substring-with-At-Least-K-Repeating-Characters/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="395-longest-substring-with-at-least-k-repeating-characters">
       <a href="solution-395.html">
        395. Longest Substring with At Least K Repeating Characters
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given a string
       <code>
        s
       </code>
       and an integer
       <code>
        k
       </code>
       , return
       <em>
        the length of the longest substring of
       </em>
       <code>
        s
       </code>
       <em>
        such that the frequency of each character in this substring is greater than or equal to
       </em>
       <code>
        k
       </code>
       .
      </p>
      <p data-pm-slice="1 1 []">
       if no such substring exists, return 0.
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "aaabb", k = 3
<strong>Output:</strong> 3
<strong>Explanation:</strong> The longest substring is "aaa", as 'a' is repeated 3 times.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "ababbc", k = 2
<strong>Output:</strong> 5
<strong>Explanation:</strong> The longest substring is "ababb", as 'a' is repeated 2 times and 'b' is repeated 3 times.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= s.length &lt;= 10
         <sup>
          4
         </sup>
        </code>
       </li>
       <li>
        <code>
         s
        </code>
        consists of only lowercase English letters.
       </li>
       <li>
        <code>
         1 &lt;= k &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       Use a divide and conquer approach. This problem asks for the length of the longest substring where each character appears at least
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       times. The key insight is that if a character
       <code class="language-plaintext highlighter-rouge">
        x
       </code>
       appears in the substring less than
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       times, then any valid substring cannot include
       <code class="language-plaintext highlighter-rouge">
        x
       </code>
       and must lie entirely on one side of
       <code class="language-plaintext highlighter-rouge">
        x
       </code>
       . Thus,
       <code class="language-plaintext highlighter-rouge">
        x
       </code>
       acts as a divider for potential valid substrings.
      </p>
      <h3 id="how-it-works">
       How It Works:
      </h3>
      <ol>
       <li>
        <p>
         <strong>
          Base Case
         </strong>
         : If the stringâs length is less than
         <code class="language-plaintext highlighter-rouge">
          k
         </code>
         , itâs impossible for any character to appear
         <code class="language-plaintext highlighter-rouge">
          k
         </code>
         times, so return
         <code class="language-plaintext highlighter-rouge">
          0
         </code>
         .
        </p>
       </li>
       <li>
        <p>
         <strong>
          Character Frequency
         </strong>
         : Use
         <code class="language-plaintext highlighter-rouge">
          Counter
         </code>
         from the
         <code class="language-plaintext highlighter-rouge">
          collections
         </code>
         module to count the frequency of each character in
         <code class="language-plaintext highlighter-rouge">
          s
         </code>
         .
        </p>
       </li>
       <li>
        <strong>
         Divide and Conquer
        </strong>
        :
        <ul>
         <li>
          Iterate through the character frequencies. If any character
          <code class="language-plaintext highlighter-rouge">
           char
          </code>
          appears less than
          <code class="language-plaintext highlighter-rouge">
           k
          </code>
          times, it cannot be part of the longest valid substring. Thus,
          <code class="language-plaintext highlighter-rouge">
           char
          </code>
          acts as a divider.
         </li>
         <li>
          Split the string
          <code class="language-plaintext highlighter-rouge">
           s
          </code>
          at
          <code class="language-plaintext highlighter-rouge">
           char
          </code>
          and apply the function recursively to each segment. This step divides the problem into smaller subproblems.
         </li>
         <li>
          The
          <code class="language-plaintext highlighter-rouge">
           max
          </code>
          function is used on the result of the recursive calls to ensure that the longest valid substring length is returned.
         </li>
        </ul>
       </li>
       <li>
        <strong>
         Valid Substring
        </strong>
        : If the loop completes without finding any character that appears less than
        <code class="language-plaintext highlighter-rouge">
         k
        </code>
        times, the entire string
        <code class="language-plaintext highlighter-rouge">
         s
        </code>
        is a valid substring. Thus, return the length of
        <code class="language-plaintext highlighter-rouge">
         s
        </code>
        .
       </li>
      </ol>
      <p>
       This divide and conquer solution efficiently reduces the problem size by splitting the string into smaller segments whenever an invalid character is found, leading to a direct path toward finding the longest substring where each character appears at least
       <code class="language-plaintext highlighter-rouge">
        k
       </code>
       times.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#ffa76c90-823a-41d2-ae8a-f5a55a83720e'}">
       <li class="uk-active">
        <a href="solution-395.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-395.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-395.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-395.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="ffa76c90-823a-41d2-ae8a-f5a55a83720e">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">s</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">k</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">longestSubstring</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">k</span> <span class="o">=</span> <span class="n">k</span><span class="o">;</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">l</span><span class="o">,</span> <span class="kt">int</span> <span class="n">r</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">cnt</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="o">++</span><span class="n">cnt</span><span class="o">[</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'a'</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="kt">char</span> <span class="n">split</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">cnt</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">cnt</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">split</span> <span class="o">=</span> <span class="o">(</span><span class="kt">char</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="sc">'a'</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">split</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">split</span><span class="o">)</span> <span class="o">{</span>
                <span class="o">++</span><span class="n">i</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">r</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)</span> <span class="o">!=</span> <span class="n">split</span><span class="o">)</span> <span class="o">{</span>
                <span class="o">++</span><span class="n">j</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">t</span><span class="o">);</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">longestSubstring</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">function</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">dfs</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">cnt</span><span class="p">[</span><span class="mi">26</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cnt</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'a'</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">char</span> <span class="n">split</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">split</span> <span class="o">=</span> <span class="sc">'a'</span> <span class="o">+</span> <span class="n">i</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">split</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">split</span><span class="p">)</span> <span class="p">{</span>
                    <span class="o">++</span><span class="n">i</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="n">split</span><span class="p">)</span> <span class="p">{</span>
                    <span class="o">++</span><span class="n">j</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="s">'''
&gt;&gt;&gt; s = "ababbc"
&gt;&gt;&gt; set(s)
{'b', 'a', 'c'}

&gt;&gt;&gt; s.count('a')
2
&gt;&gt;&gt; s.count('b')
3

&gt;&gt;&gt; s.split('a')
['', 'b', 'bbc']
'''</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestSubstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="c1"># no need to try all chars with count&lt;k, get the 1st one and return
</span>            <span class="k">if</span> <span class="n">s</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">:</span> <span class="c1"># @note: This character must not appear in any substring
</span>                <span class="k">return</span> <span class="nb">max</span><span class="p">([</span><span class="bp">self</span><span class="p">.</span><span class="n">longestSubstring</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">s</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">c</span><span class="p">)])</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span> <span class="c1"># iterative, OJ passed
</span>    <span class="k">def</span> <span class="nf">longestSubstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Iterate over the possible values of unique characters in the substring
</span>        <span class="k">for</span> <span class="n">num_unique</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">27</span><span class="p">):</span>
            <span class="n">freq_map</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span>
            <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">num_chars</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">num_chars_at_least_k</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="c1"># Sliding window approach to find the longest substring with num_unique characters
</span>            <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">freq_map</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">num_chars</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">freq_map</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">freq_map</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)]</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
                    <span class="n">num_chars_at_least_k</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="c1"># Shrink the window if the number of unique characters exceeds num_unique
</span>                <span class="k">while</span> <span class="n">num_chars</span> <span class="o">&gt;</span> <span class="n">num_unique</span><span class="p">:</span>
                    <span class="n">freq_map</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">freq_map</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)]</span> <span class="o">==</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">num_chars_at_least_k</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">freq_map</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">num_chars</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="c1"># Check if all characters in the substring occur at least k times
</span>                <span class="k">if</span> <span class="n">num_chars</span> <span class="o">==</span> <span class="n">num_chars_at_least_k</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestSubstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">l</span> <span class="p">:</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">split</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cnt</span><span class="p">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">),</span> <span class="s">''</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">split</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">l</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="p">:</span>
                <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">split</span><span class="p">:</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">r</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
                <span class="k">while</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="n">split</span><span class="p">:</span>
                    <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span>
            <span class="k">return</span> <span class="n">ans</span>

        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">longestSubstring</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">,</span> <span class="n">k</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">var</span> <span class="n">dfs</span> <span class="k">func</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span>
	<span class="n">dfs</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
		<span class="n">cnt</span> <span class="o">:=</span> <span class="p">[</span><span class="m">26</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
		<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="n">l</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
			<span class="n">cnt</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="sc">'a'</span><span class="p">]</span><span class="o">++</span>
		<span class="p">}</span>
		<span class="k">var</span> <span class="n">split</span> <span class="kt">byte</span>
		<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">cnt</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">k</span> <span class="p">{</span>
				<span class="n">split</span> <span class="o">=</span> <span class="kt">byte</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="sc">'a'</span><span class="p">)</span>
				<span class="k">break</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">split</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
			<span class="k">return</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span> <span class="o">+</span> <span class="m">1</span>
		<span class="p">}</span>
		<span class="n">i</span> <span class="o">:=</span> <span class="n">l</span>
		<span class="n">ans</span> <span class="o">:=</span> <span class="m">0</span>
		<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="p">{</span>
			<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">split</span> <span class="p">{</span>
				<span class="n">i</span><span class="o">++</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">r</span> <span class="p">{</span>
				<span class="k">break</span>
			<span class="p">}</span>
			<span class="n">j</span> <span class="o">:=</span> <span class="n">i</span>
			<span class="k">for</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="n">split</span> <span class="p">{</span>
				<span class="n">j</span><span class="o">++</span>
			<span class="p">}</span>
			<span class="n">t</span> <span class="o">:=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="m">1</span><span class="p">)</span>
			<span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
			<span class="n">i</span> <span class="o">=</span> <span class="n">j</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="n">ans</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-395.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
