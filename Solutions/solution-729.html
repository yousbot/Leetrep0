<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-729.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-729.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>729 - My Calendar I</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 729. My Calendar I Description You are implementing a program to use as your calendar. We can add a new event if adding the event will not cause a double booking. A double booking happens when two events have some non-empty intersection (i.e., some moment...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-729.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-729.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-729.html" rel="stylesheet"/>
   <link href="solution-729.html" rel="stylesheet"/>
   <link href="solution-729.html" rel="stylesheet"/>
   <link href="solution-729.html" rel="stylesheet"/>
   <link href="solution-729.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="729 - My Calendar I" property="og:title"/>
   <meta content="Leetcode 729. My Calendar I Description You are implementing a program to use as your calendar. We can add a new event if adding the event will not cause a double booking. A double booking happens when two events have some non-empty intersection (i.e., some moment is common to both events.). The event can be represented as a pair of integers start and end that represents a booking on the half-open interval [start, end), the range of real numbers x such that start &amp;lt;= x &amp;lt; end. Implement the MyCalendar class: MyCalendar() Initializes the calendar object. boolean book(int start, int end) Returns true if the event can be added to the calendar successfully without causing a double booking. Otherwise, return false and do not add the event to the calendar. &amp;nbsp; Example 1: Input [&amp;quot;MyCalendar&amp;quot;, &amp;quot;book&amp;quot;, &amp;quot;book&amp;quot;, &amp;quot;book&amp;quot;] [[], [10, 20], [15, 25], [20, 30]] Output [null, true, false, true] Explanation MyCalendar myCalendar = new MyCalendar(); myCalendar.book(10, 20); // return True myCalendar.book(15, 25); // return False, It can not be booked because time 15 is already booked by another event. myCalendar.book(20, 30); // return True, The event can be booked, as the first event takes every time less than 20, but not including 20. &amp;nbsp; Constraints: 0 &amp;lt;= start &amp;lt; end &amp;lt;= 109 At most 1000 calls will be made to book. Solutions Use a list to store the intervals of booking, which contains all intervals in sorted order. Each time book(int start, int end) is called, loop over the list of intervals to see whether the new interval [start, end) can be added. If the new interval can be added at the start or at the end without causing a double booking, add the new interval at the start or at the end and return true. If the new interval can be added between two intervals without causing a double booking, add the new interval between the two intervals and return true. If the new interval has intersection with any interval in the list, then adding the interval will cause double booking, so return false. Java C++ Python Go TypeScript RenderScript Javascript import java.util.Map; import java.util.TreeMap; class MyCalendar { private final TreeMap&amp;lt;Integer, Integer&amp;gt; tm = new TreeMap&amp;lt;&amp;gt;(); public MyCalendar() { } public boolean book(int start, int end) { Map.Entry&amp;lt;Integer, Integer&amp;gt; ent = tm.floorEntry(start); if (ent != null &amp;amp;&amp;amp; ent.getValue() &amp;gt; start) { return false; } ent = tm.ceilingEntry(start); if (ent != null &amp;amp;&amp;amp; ent.getKey() &amp;lt; end) { return false; } tm.put(start, end); return true; } } /** * Your MyCalendar object will be instantiated and called as such: MyCalendar * obj = new MyCalendar(); boolean param_1 = obj.book(start,end); */ class MyCalendar { public: map&amp;lt;int, int&amp;gt; m; MyCalendar() { } bool book(int start, int end) { ++m[start]; --m[end]; int s = 0; for (auto&amp;amp; [k, v] : m) { s += v; if (s &amp;gt; 1) { --m[start]; ++m[end]; return false; } } return true; } }; /** * Your MyCalendar object will be instantiated and..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2017-11-28T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2017-11-28-729-My-Calendar-I/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-729.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="729 - My Calendar I" property="twitter:title"/>
   <meta content="Leetcode 729. My Calendar I Description You are implementing a program to use as your calendar. We can add a new event if adding the event will not cause a double booking. A double booking happens when two events have some non-empty intersection (i.e., some moment is common to both events.). The event can be represented as a pair of integers start and end that represents a booking on the half-open interval [start, end), the range of real numbers x such that start &amp;lt;= x &amp;lt; end. Implement the MyCalendar class: MyCalendar() Initializes the calendar object. boolean book(int start, int end) Returns true if the event can be added to the calendar successfully without causing a double booking. Otherwise, return false and do not add the event to the calendar. &amp;nbsp; Example 1: Input [&amp;quot;MyCalendar&amp;quot;, &amp;quot;book&amp;quot;, &amp;quot;book&amp;quot;, &amp;quot;book&amp;quot;] [[], [10, 20], [15, 25], [20, 30]] Output [null, true, false, true] Explanation MyCalendar myCalendar = new MyCalendar(); myCalendar.book(10, 20); // return True myCalendar.book(15, 25); // return False, It can not be booked because time 15 is already booked by another event. myCalendar.book(20, 30); // return True, The event can be booked, as the first event takes every time less than 20, but not including 20. &amp;nbsp; Constraints: 0 &amp;lt;= start &amp;lt; end &amp;lt;= 109 At most 1000 calls will be made to book. Solutions Use a list to store the intervals of booking, which contains all intervals in sorted order. Each time book(int start, int end) is called, loop over the list of intervals to see whether the new interval [start, end) can be added. If the new interval can be added at the start or at the end without causing a double booking, add the new interval at the start or at the end and return true. If the new interval can be added between two intervals without causing a double booking, add the new interval between the two intervals and return true. If the new interval has intersection with any interval in the list, then adding the interval will cause double booking, so return false. Java C++ Python Go TypeScript RenderScript Javascript import java.util.Map; import java.util.TreeMap; class MyCalendar { private final TreeMap&amp;lt;Integer, Integer&amp;gt; tm = new TreeMap&amp;lt;&amp;gt;(); public MyCalendar() { } public boolean book(int start, int end) { Map.Entry&amp;lt;Integer, Integer&amp;gt; ent = tm.floorEntry(start); if (ent != null &amp;amp;&amp;amp; ent.getValue() &amp;gt; start) { return false; } ent = tm.ceilingEntry(start); if (ent != null &amp;amp;&amp;amp; ent.getKey() &amp;lt; end) { return false; } tm.put(start, end); return true; } } /** * Your MyCalendar object will be instantiated and called as such: MyCalendar * obj = new MyCalendar(); boolean param_1 = obj.book(start,end); */ class MyCalendar { public: map&amp;lt;int, int&amp;gt; m; MyCalendar() { } bool book(int start, int end) { ++m[start]; --m[end]; int s = 0; for (auto&amp;amp; [k, v] : m) { s += v; if (s &amp;gt; 1) { --m[start]; ++m[end]; return false; } } return true; } }; /** * Your MyCalendar object will be instantiated and..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    729 - My Calendar I | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="729 - My Calendar I" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-729.html" rel="canonical">
          <meta content="https://leetcode.ca/2017-11-28-729-My-Calendar-I/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2017-11-28T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"729 - My Calendar I","dateModified":"2017-11-28T00:00:00-08:00","datePublished":"2017-11-28T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2017-11-28-729-My-Calendar-I/"},"url":"https://leetcode.ca/2017-11-28-729-My-Calendar-I/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="729-my-calendar-i">
       <a href="solution-729.html">
        729. My Calendar I
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are implementing a program to use as your calendar. We can add a new event if adding the event will not cause a
       <strong>
        double booking
       </strong>
       .
      </p>
      <p>
       A
       <strong>
        double booking
       </strong>
       happens when two events have some non-empty intersection (i.e., some moment is common to both events.).
      </p>
      <p>
       The event can be represented as a pair of integers
       <code>
        start
       </code>
       and
       <code>
        end
       </code>
       that represents a booking on the half-open interval
       <code>
        [start, end)
       </code>
       , the range of real numbers
       <code>
        x
       </code>
       such that
       <code>
        start &lt;= x &lt; end
       </code>
       .
      </p>
      <p>
       Implement the
       <code>
        MyCalendar
       </code>
       class:
      </p>
      <ul>
       <li>
        <code>
         MyCalendar()
        </code>
        Initializes the calendar object.
       </li>
       <li>
        <code>
         boolean book(int start, int end)
        </code>
        Returns
        <code>
         true
        </code>
        if the event can be added to the calendar successfully without causing a
        <strong>
         double booking
        </strong>
        . Otherwise, return
        <code>
         false
        </code>
        and do not add the event to the calendar.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input</strong>
["MyCalendar", "book", "book", "book"]
[[], [10, 20], [15, 25], [20, 30]]
<strong>Output</strong>
[null, true, false, true]

<strong>Explanation</strong>
MyCalendar myCalendar = new MyCalendar();
myCalendar.book(10, 20); // return True
myCalendar.book(15, 25); // return False, It can not be booked because time 15 is already booked by another event.
myCalendar.book(20, 30); // return True, The event can be booked, as the first event takes every time less than 20, but not including 20.</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         0 &lt;= start &lt; end &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        At most
        <code>
         1000
        </code>
        calls will be made to
        <code>
         book
        </code>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       Use a list to store the intervals of booking, which contains all intervals in sorted order. Each time
       <code class="language-plaintext highlighter-rouge">
        book(int start, int end)
       </code>
       is called, loop over the list of intervals to see whether the new interval
       <code class="language-plaintext highlighter-rouge">
        [start, end)
       </code>
       can be added.
      </p>
      <p>
       If the new interval can be added at the start or at the end without causing a double booking, add the new interval at the start or at the end and return
       <code class="language-plaintext highlighter-rouge">
        true
       </code>
       .
      </p>
      <p>
       If the new interval can be added between two intervals without causing a double booking, add the new interval between the two intervals and return
       <code class="language-plaintext highlighter-rouge">
        true
       </code>
       .
      </p>
      <p>
       If the new interval has intersection with any interval in the list, then adding the interval will cause double booking, so return
       <code class="language-plaintext highlighter-rouge">
        false
       </code>
       .
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#6da69380-cc4b-4948-8b94-7fe9d04961c7'}">
       <li class="uk-active">
        <a href="solution-729.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-729.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-729.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-729.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-729.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-729.html">
         RenderScript
        </a>
       </li>
       <li>
        <a href="solution-729.html">
         Javascript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="6da69380-cc4b-4948-8b94-7fe9d04961c7">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.TreeMap</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">MyCalendar</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TreeMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">tm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeMap</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">MyCalendar</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">book</span><span class="o">(</span><span class="kt">int</span> <span class="n">start</span><span class="o">,</span> <span class="kt">int</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">ent</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="na">floorEntry</span><span class="o">(</span><span class="n">start</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ent</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">ent</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">start</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">ent</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="na">ceilingEntry</span><span class="o">(</span><span class="n">start</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ent</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">ent</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">tm</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your MyCalendar object will be instantiated and called as such: MyCalendar
 * obj = new MyCalendar(); boolean param_1 = obj.book(start,end);
 */</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">MyCalendar</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">m</span><span class="p">;</span>

    <span class="n">MyCalendar</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kt">bool</span> <span class="n">book</span><span class="p">(</span><span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">++</span><span class="n">m</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>
        <span class="o">--</span><span class="n">m</span><span class="p">[</span><span class="n">end</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span> <span class="o">:</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="n">v</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">--</span><span class="n">m</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>
                <span class="o">++</span><span class="n">m</span><span class="p">[</span><span class="n">end</span><span class="p">];</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
 * Your MyCalendar object will be instantiated and called as such:
 * MyCalendar* obj = new MyCalendar();
 * bool param_1 = obj-&gt;book(start,end);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code>
<span class="s">'''
&gt;&gt;&gt; sd
SortedDict({'a': 111, 'b': 222, 'c': 333})
&gt;&gt;&gt; sd.keys()
SortedKeysView(SortedDict({'a': 111, 'b': 222, 'c': 333}))
&gt;&gt;&gt; sd.values()
SortedValuesView(SortedDict({'a': 111, 'b': 222, 'c': 333}))
&gt;&gt;&gt; sd.items()
SortedItemsView(SortedDict({'a': 111, 'b': 222, 'c': 333}))
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; sd.keys()[1]
'b'
&gt;&gt;&gt; sd.values()[1]
222



&gt;&gt;&gt; sd.append({'aaa':111})
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'SortedDict' object has no attribute 'append'
&gt;&gt;&gt;
&gt;&gt;&gt; sd.add({'aaa':111})
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'SortedDict' object has no attribute 'add'
'''</span>

<span class="kn">from</span> <span class="nn">sortedcontainers</span> <span class="kn">import</span> <span class="n">SortedDict</span>

<span class="k">class</span> <span class="nc">MyCalendar</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">sd</span> <span class="o">=</span> <span class="n">SortedDict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">book</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># bisect_left will not work, due to duplicates
</span>        <span class="c1"># eg: [[],[10,20],[15,25],[20,30]]
</span>        <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">sd</span><span class="p">.</span><span class="n">bisect_right</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>

        <span class="c1"># self.sd.keys()[idx] ==&gt; end time
</span>        <span class="c1"># self.sd.values()[idx] ==&gt; it's start time
</span>        <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">sd</span><span class="p">)</span> <span class="ow">and</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="p">.</span><span class="n">sd</span><span class="p">.</span><span class="n">values</span><span class="p">()[</span><span class="n">idx</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">sd</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span>
        <span class="k">return</span> <span class="bp">True</span>


<span class="c1"># Your MyCalendar object will be instantiated and called as such:
# obj = MyCalendar()
# param_1 = obj.book(start,end)
</span>
<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Node</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span> <span class="c1"># double linked list, full scan
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">e</span> <span class="o">=</span> <span class="n">e</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">MyCalendar</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">root</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">book_helper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">.</span><span class="n">e</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">book_helper</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="n">node</span><span class="p">.</span><span class="n">s</span> <span class="o">&gt;=</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">book_helper</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">book</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
        <span class="s">"""
        :type start: int
        :type end: int
        :rtype: bool
        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">root</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">book_helper</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">root</span><span class="p">)</span>


<span class="c1"># Your MyCalendar object will be instantiated and called as such:
# obj = MyCalendar()
# param_1 = obj.book(start,end)
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">MyCalendar</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">rbt</span> <span class="o">*</span><span class="n">redblacktree</span><span class="o">.</span><span class="n">Tree</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Constructor</span><span class="p">()</span> <span class="n">MyCalendar</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">MyCalendar</span><span class="p">{</span>
		<span class="n">rbt</span><span class="o">:</span> <span class="n">redblacktree</span><span class="o">.</span><span class="n">NewWithIntComparator</span><span class="p">(),</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">MyCalendar</span><span class="p">)</span> <span class="n">Book</span><span class="p">(</span><span class="n">start</span> <span class="kt">int</span><span class="p">,</span> <span class="n">end</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">p</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">this</span><span class="o">.</span><span class="n">rbt</span><span class="o">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">start</span><span class="p">);</span> <span class="n">ok</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="n">Value</span><span class="o">.</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">start</span> <span class="p">{</span>
		<span class="k">return</span> <span class="no">false</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="n">p</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">this</span><span class="o">.</span><span class="n">rbt</span><span class="o">.</span><span class="n">Ceiling</span><span class="p">(</span><span class="n">start</span><span class="p">);</span> <span class="n">ok</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="n">Key</span><span class="o">.</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">end</span> <span class="p">{</span>
		<span class="k">return</span> <span class="no">false</span>
	<span class="p">}</span>
	<span class="n">this</span><span class="o">.</span><span class="n">rbt</span><span class="o">.</span><span class="n">Put</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
	<span class="k">return</span> <span class="no">true</span>
<span class="p">}</span>

<span class="c">/**
 * Your MyCalendar object will be instantiated and called as such:
 * obj := Constructor();
 * param_1 := obj.Book(start,end);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyCalendar</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nx">calendar</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][];</span>

    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">calendar</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>

    <span class="nx">book</span><span class="p">(</span><span class="nx">start</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">end</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nx">boolean</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">item</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">calendar</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">end</span> <span class="o">&lt;=</span> <span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="nx">start</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">calendar</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">]);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**
 * Your MyCalendar object will be instantiated and called as such:
 * var obj = new MyCalendar()
 * var param_1 = obj.book(start,end)
 */</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="nn">collections</span><span class="p">::</span><span class="n">BTreeMap</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">MyCalendar</span> <span class="p">{</span>
    <span class="n">bt</span><span class="p">:</span> <span class="n">BTreeMap</span><span class="o">&lt;</span><span class="nb">i32</span><span class="p">,</span> <span class="nb">i32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>

<span class="cd">/**
 * `&amp;self` means the method takes an immutable reference.
 * If you need a mutable reference, change it to `&amp;mut self` instead.
 */</span>
<span class="k">impl</span> <span class="n">MyCalendar</span> <span class="p">{</span>
    <span class="k">fn</span> <span class="nf">new</span><span class="p">()</span> <span class="k">-&gt;</span> <span class="k">Self</span> <span class="p">{</span>
        <span class="n">MyCalendar</span> <span class="p">{</span>
            <span class="n">bt</span><span class="p">:</span> <span class="nn">BTreeMap</span><span class="p">::</span><span class="nf">new</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">book</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span> <span class="k">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">i32</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">i32</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">bool</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nf">Some</span><span class="p">((</span><span class="n">_</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">))</span> <span class="o">=</span> <span class="k">self</span><span class="py">.bt</span><span class="nf">.range</span><span class="p">(</span><span class="o">..=</span><span class="n">start</span><span class="p">)</span><span class="nf">.last</span><span class="p">()</span> <span class="p">{</span>
            <span class="nd">println!</span><span class="p">(</span><span class="s">"{} {} {}"</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="n">start</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nf">Some</span><span class="p">((</span><span class="o">&amp;</span><span class="n">key</span><span class="p">,</span> <span class="n">_</span><span class="p">))</span> <span class="o">=</span> <span class="k">self</span><span class="py">.bt</span><span class="nf">.range</span><span class="p">(</span><span class="n">start</span><span class="o">..</span><span class="p">)</span><span class="nf">.next</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">end</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">self</span><span class="py">.bt</span><span class="nf">.insert</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
        <span class="k">true</span>
    <span class="p">}</span>
<span class="p">}</span><span class="cd">/**
 * Your MyCalendar object will be instantiated and called as such:
 * let obj = MyCalendar::new();
 * let ret_1: bool = obj.book(start, end);
 */</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-js highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">var</span> <span class="nx">MyCalendar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">calendar</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>

<span class="cm">/**
 * @param {number} start
 * @param {number} end
 * @return {boolean}
 */</span>
<span class="nx">MyCalendar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">book</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">item</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">calendar</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">end</span> <span class="o">&lt;=</span> <span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="nx">start</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">calendar</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">]);</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
 * Your MyCalendar object will be instantiated and called as such:
 * var obj = new MyCalendar()
 * var param_1 = obj.book(start,end)
 */</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-729.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
