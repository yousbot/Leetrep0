<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-2106.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-2106.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>2106 - Maximum Fruits Harvested After at Most K Steps</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 2106. Maximum Fruits Harvested After at Most K Steps Description Fruits are available at some positions on an infinite x-axis. You are given a 2D integer array fruits where fruits[i] = [positioni, amounti] depicts amounti fruits at the position positioni. fruits is already sorted by...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-2106.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-2106.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-2106.html" rel="stylesheet"/>
   <link href="solution-2106.html" rel="stylesheet"/>
   <link href="solution-2106.html" rel="stylesheet"/>
   <link href="solution-2106.html" rel="stylesheet"/>
   <link href="solution-2106.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="2106 - Maximum Fruits Harvested After at Most K Steps" property="og:title"/>
   <meta content="Leetcode 2106. Maximum Fruits Harvested After at Most K Steps Description Fruits are available at some positions on an infinite x-axis. You are given a 2D integer array fruits where fruits[i] = [positioni, amounti] depicts amounti fruits at the position positioni. fruits is already sorted by positioni in ascending order, and each positioni is unique. You are also given an integer startPos and an integer k. Initially, you are at the position startPos. From any position, you can either walk to the left or right. It takes one step to move one unit on the x-axis, and you can walk at most k steps in total. For every position you reach, you harvest all the fruits at that position, and the fruits will disappear from that position. Return the maximum total number of fruits you can harvest. &amp;nbsp; Example 1: Input: fruits = [[2,8],[6,3],[8,6]], startPos = 5, k = 4 Output: 9 Explanation: The optimal way is to: - Move right to position 6 and harvest 3 fruits - Move right to position 8 and harvest 6 fruits You moved 3 steps and harvested 3 + 6 = 9 fruits in total. Example 2: Input: fruits = [[0,9],[4,1],[5,7],[6,2],[7,4],[10,9]], startPos = 5, k = 4 Output: 14 Explanation: You can move at most k = 4 steps, so you cannot reach position 0 nor 10. The optimal way is to: - Harvest the 7 fruits at the starting position 5 - Move left to position 4 and harvest 1 fruit - Move right to position 6 and harvest 2 fruits - Move right to position 7 and harvest 4 fruits You moved 1 + 3 = 4 steps and harvested 7 + 1 + 2 + 4 = 14 fruits in total. Example 3: Input: fruits = [[0,3],[6,4],[8,5]], startPos = 3, k = 2 Output: 0 Explanation: You can move at most k = 2 steps and cannot reach any position with fruits. &amp;nbsp; Constraints: 1 &amp;lt;= fruits.length &amp;lt;= 105 fruits[i].length == 2 0 &amp;lt;= startPos, positioni &amp;lt;= 2 * 105 positioni-1 &amp;lt; positioni for any i &amp;gt; 0&amp;nbsp;(0-indexed) 1 &amp;lt;= amounti &amp;lt;= 104 0 &amp;lt;= k &amp;lt;= 2 * 105 Solutions Java C++ Python Go TypeScript class Solution { public int maxTotalFruits(int[][] fruits, int startPos, int k) { int ans = 0, s = 0; for (int i = 0, j = 0; j &amp;lt; fruits.length; ++j) { int pj = fruits[j][0], fj = fruits[j][1]; s += fj; while (i &amp;lt;= j &amp;amp;&amp;amp; pj - fruits[i][0] + Math.min(Math.abs(startPos - fruits[i][0]), Math.abs(startPos - pj)) &amp;gt; k) { s -= fruits[i++][1]; } ans = Math.max(ans, s); } return ans; } } class Solution { public: int maxTotalFruits(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; fruits, int startPos, int k) { int ans = 0, s = 0; for (int i = 0, j = 0; j &amp;lt; fruits.size(); ++j) { int pj = fruits[j][0], fj = fruits[j][1]; s += fj; while (i &amp;lt;= j &amp;amp;&amp;amp; pj - fruits[i][0] + min(abs(startPos - fruits[i][0]), abs(startPos - pj))..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2021-09-05T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2021-09-05-2106-Maximum-Fruits-Harvested-After-at-Most-K-Steps/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-2106.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="2106 - Maximum Fruits Harvested After at Most K Steps" property="twitter:title"/>
   <meta content="Leetcode 2106. Maximum Fruits Harvested After at Most K Steps Description Fruits are available at some positions on an infinite x-axis. You are given a 2D integer array fruits where fruits[i] = [positioni, amounti] depicts amounti fruits at the position positioni. fruits is already sorted by positioni in ascending order, and each positioni is unique. You are also given an integer startPos and an integer k. Initially, you are at the position startPos. From any position, you can either walk to the left or right. It takes one step to move one unit on the x-axis, and you can walk at most k steps in total. For every position you reach, you harvest all the fruits at that position, and the fruits will disappear from that position. Return the maximum total number of fruits you can harvest. &amp;nbsp; Example 1: Input: fruits = [[2,8],[6,3],[8,6]], startPos = 5, k = 4 Output: 9 Explanation: The optimal way is to: - Move right to position 6 and harvest 3 fruits - Move right to position 8 and harvest 6 fruits You moved 3 steps and harvested 3 + 6 = 9 fruits in total. Example 2: Input: fruits = [[0,9],[4,1],[5,7],[6,2],[7,4],[10,9]], startPos = 5, k = 4 Output: 14 Explanation: You can move at most k = 4 steps, so you cannot reach position 0 nor 10. The optimal way is to: - Harvest the 7 fruits at the starting position 5 - Move left to position 4 and harvest 1 fruit - Move right to position 6 and harvest 2 fruits - Move right to position 7 and harvest 4 fruits You moved 1 + 3 = 4 steps and harvested 7 + 1 + 2 + 4 = 14 fruits in total. Example 3: Input: fruits = [[0,3],[6,4],[8,5]], startPos = 3, k = 2 Output: 0 Explanation: You can move at most k = 2 steps and cannot reach any position with fruits. &amp;nbsp; Constraints: 1 &amp;lt;= fruits.length &amp;lt;= 105 fruits[i].length == 2 0 &amp;lt;= startPos, positioni &amp;lt;= 2 * 105 positioni-1 &amp;lt; positioni for any i &amp;gt; 0&amp;nbsp;(0-indexed) 1 &amp;lt;= amounti &amp;lt;= 104 0 &amp;lt;= k &amp;lt;= 2 * 105 Solutions Java C++ Python Go TypeScript class Solution { public int maxTotalFruits(int[][] fruits, int startPos, int k) { int ans = 0, s = 0; for (int i = 0, j = 0; j &amp;lt; fruits.length; ++j) { int pj = fruits[j][0], fj = fruits[j][1]; s += fj; while (i &amp;lt;= j &amp;amp;&amp;amp; pj - fruits[i][0] + Math.min(Math.abs(startPos - fruits[i][0]), Math.abs(startPos - pj)) &amp;gt; k) { s -= fruits[i++][1]; } ans = Math.max(ans, s); } return ans; } } class Solution { public: int maxTotalFruits(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; fruits, int startPos, int k) { int ans = 0, s = 0; for (int i = 0, j = 0; j &amp;lt; fruits.size(); ++j) { int pj = fruits[j][0], fj = fruits[j][1]; s += fj; while (i &amp;lt;= j &amp;amp;&amp;amp; pj - fruits[i][0] + min(abs(startPos - fruits[i][0]), abs(startPos - pj))..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    2106 - Maximum Fruits Harvested After at Most K Steps | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="2106 - Maximum Fruits Harvested After at Most K Steps" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-2106.html" rel="canonical">
          <meta content="https://leetcode.ca/2021-09-05-2106-Maximum-Fruits-Harvested-After-at-Most-K-Steps/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2021-09-05T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"2106 - Maximum Fruits Harvested After at Most K Steps","dateModified":"2021-09-05T00:00:00-07:00","datePublished":"2021-09-05T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2021-09-05-2106-Maximum-Fruits-Harvested-After-at-Most-K-Steps/"},"url":"https://leetcode.ca/2021-09-05-2106-Maximum-Fruits-Harvested-After-at-Most-K-Steps/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="2106-maximum-fruits-harvested-after-at-most-k-steps">
       <a href="solution-2106.html">
        2106. Maximum Fruits Harvested After at Most K Steps
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Fruits are available at some positions on an infinite x-axis. You are given a 2D integer array
       <code>
        fruits
       </code>
       where
       <code>
        fruits[i] = [position
        <sub>
         i
        </sub>
        , amount
        <sub>
         i
        </sub>
        ]
       </code>
       depicts
       <code>
        amount
        <sub>
         i
        </sub>
       </code>
       fruits at the position
       <code>
        position
        <sub>
         i
        </sub>
       </code>
       .
       <code>
        fruits
       </code>
       is already
       <strong>
        sorted
       </strong>
       by
       <code>
        position
        <sub>
         i
        </sub>
       </code>
       in
       <strong>
        ascending order
       </strong>
       , and each
       <code>
        position
        <sub>
         i
        </sub>
       </code>
       is
       <strong>
        unique
       </strong>
       .
      </p>
      <p>
       You are also given an integer
       <code>
        startPos
       </code>
       and an integer
       <code>
        k
       </code>
       . Initially, you are at the position
       <code>
        startPos
       </code>
       . From any position, you can either walk to the
       <strong>
        left or right
       </strong>
       . It takes
       <strong>
        one step
       </strong>
       to move
       <strong>
        one unit
       </strong>
       on the x-axis, and you can walk
       <strong>
        at most
       </strong>
       <code>
        k
       </code>
       steps in total. For every position you reach, you harvest all the fruits at that position, and the fruits will disappear from that position.
      </p>
      <p>
       Return
       <em>
        the
        <strong>
         maximum total number
        </strong>
        of fruits you can harvest
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2100-2199/2106.Maximum%20Fruits%20Harvested%20After%20at%20Most%20K%20Steps/images/1.png" style="width: 472px; height: 115px;"/>
      </p>
      <pre>
<strong>Input:</strong> fruits = [[2,8],[6,3],[8,6]], startPos = 5, k = 4
<strong>Output:</strong> 9
<strong>Explanation:</strong> 
The optimal way is to:
- Move right to position 6 and harvest 3 fruits
- Move right to position 8 and harvest 6 fruits
You moved 3 steps and harvested 3 + 6 = 9 fruits in total.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2100-2199/2106.Maximum%20Fruits%20Harvested%20After%20at%20Most%20K%20Steps/images/2.png" style="width: 512px; height: 129px;"/>
      </p>
      <pre>
<strong>Input:</strong> fruits = [[0,9],[4,1],[5,7],[6,2],[7,4],[10,9]], startPos = 5, k = 4
<strong>Output:</strong> 14
<strong>Explanation:</strong> 
You can move at most k = 4 steps, so you cannot reach position 0 nor 10.
The optimal way is to:
- Harvest the 7 fruits at the starting position 5
- Move left to position 4 and harvest 1 fruit
- Move right to position 6 and harvest 2 fruits
- Move right to position 7 and harvest 4 fruits
You moved 1 + 3 = 4 steps and harvested 7 + 1 + 2 + 4 = 14 fruits in total.
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2100-2199/2106.Maximum%20Fruits%20Harvested%20After%20at%20Most%20K%20Steps/images/3.png" style="width: 476px; height: 100px;"/>
      </p>
      <pre>
<strong>Input:</strong> fruits = [[0,3],[6,4],[8,5]], startPos = 3, k = 2
<strong>Output:</strong> 0
<strong>Explanation:</strong>
You can move at most k = 2 steps and cannot reach any position with fruits.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= fruits.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         fruits[i].length == 2
        </code>
       </li>
       <li>
        <code>
         0 &lt;= startPos, position
         <sub>
          i
         </sub>
         &lt;= 2 * 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         position
         <sub>
          i-1
         </sub>
         &lt; position
         <sub>
          i
         </sub>
        </code>
        for any
        <code>
         i &gt; 0
        </code>
        (
        <strong>
         0-indexed
        </strong>
        )
       </li>
       <li>
        <code>
         1 &lt;= amount
         <sub>
          i
         </sub>
         &lt;= 10
         <sup>
          4
         </sup>
        </code>
       </li>
       <li>
        <code>
         0 &lt;= k &lt;= 2 * 10
         <sup>
          5
         </sup>
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <ul class="uk-tab" data-uk-switcher="{connect:'#03722181-5604-40cd-ad0d-eb1cc2cd846e'}">
       <li class="uk-active">
        <a href="solution-2106.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-2106.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-2106.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-2106.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-2106.html">
         TypeScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="03722181-5604-40cd-ad0d-eb1cc2cd846e">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxTotalFruits</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">fruits</span><span class="o">,</span> <span class="kt">int</span> <span class="n">startPos</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">fruits</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">pj</span> <span class="o">=</span> <span class="n">fruits</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">],</span> <span class="n">fj</span> <span class="o">=</span> <span class="n">fruits</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="n">fj</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span>
                <span class="o">&amp;&amp;</span> <span class="n">pj</span> <span class="o">-</span> <span class="n">fruits</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span>
                        <span class="o">+</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">startPos</span> <span class="o">-</span> <span class="n">fruits</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]),</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">startPos</span> <span class="o">-</span> <span class="n">pj</span><span class="o">))</span>
                    <span class="o">&gt;</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">s</span> <span class="o">-=</span> <span class="n">fruits</span><span class="o">[</span><span class="n">i</span><span class="o">++][</span><span class="mi">1</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">maxTotalFruits</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">fruits</span><span class="p">,</span> <span class="kt">int</span> <span class="n">startPos</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">fruits</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">pj</span> <span class="o">=</span> <span class="n">fruits</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">fj</span> <span class="o">=</span> <span class="n">fruits</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="n">fj</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">&amp;&amp;</span> <span class="n">pj</span> <span class="o">-</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">min</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">startPos</span> <span class="o">-</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span> <span class="n">abs</span><span class="p">(</span><span class="n">startPos</span> <span class="o">-</span> <span class="n">pj</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">s</span> <span class="o">-=</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxTotalFruits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fruits</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">startPos</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="n">i</span> <span class="o">=</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="p">(</span><span class="n">pj</span><span class="p">,</span> <span class="n">fj</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fruits</span><span class="p">):</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="n">fj</span>
            <span class="k">while</span> <span class="p">(</span>
                <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span>
                <span class="ow">and</span> <span class="n">pj</span>
                <span class="o">-</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">startPos</span> <span class="o">-</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">startPos</span> <span class="o">-</span> <span class="n">fruits</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
                <span class="o">&gt;</span> <span class="n">k</span>
            <span class="p">):</span>
                <span class="n">s</span> <span class="o">-=</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">maxTotalFruits</span><span class="p">(</span><span class="n">fruits</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">,</span> <span class="n">startPos</span> <span class="kt">int</span><span class="p">,</span> <span class="n">k</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">ans</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">var</span> <span class="n">s</span><span class="p">,</span> <span class="n">i</span> <span class="kt">int</span>
	<span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">f</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">fruits</span> <span class="p">{</span>
		<span class="n">s</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
		<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">-</span><span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="m">0</span><span class="p">]</span><span class="o">+</span><span class="n">min</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">startPos</span><span class="o">-</span><span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="m">0</span><span class="p">]),</span> <span class="n">abs</span><span class="p">(</span><span class="n">startPos</span><span class="o">-</span><span class="n">f</span><span class="p">[</span><span class="m">0</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="n">k</span> <span class="p">{</span>
			<span class="n">s</span> <span class="o">-=</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="m">1</span><span class="p">]</span>
			<span class="n">i</span> <span class="o">+=</span> <span class="m">1</span>
		<span class="p">}</span>
		<span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">abs</span><span class="p">(</span><span class="n">x</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">x</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">x</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">maxTotalFruits</span><span class="p">(</span><span class="nx">fruits</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][],</span> <span class="nx">startPos</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">k</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">fruits</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">[</span><span class="nx">pj</span><span class="p">,</span> <span class="nx">fj</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fruits</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
        <span class="nx">s</span> <span class="o">+=</span> <span class="nx">fj</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span>
            <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">j</span> <span class="o">&amp;&amp;</span>
            <span class="nx">pj</span> <span class="o">-</span>
                <span class="nx">fruits</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
                <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">startPos</span> <span class="o">-</span> <span class="nx">fruits</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">startPos</span> <span class="o">-</span> <span class="nx">pj</span><span class="p">))</span> <span class="o">&gt;</span>
                <span class="nx">k</span>
        <span class="p">)</span> <span class="p">{</span>
            <span class="nx">s</span> <span class="o">-=</span> <span class="nx">fruits</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="nx">ans</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">ans</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-2106.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
