<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-2557.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-2557.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>2557 - Maximum Number of Integers to Choose From a Range II</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 2557. Maximum Number of Integers to Choose From a Range II Description You are given an integer array banned and two integers n and maxSum. You are choosing some number of integers following the below rules: The chosen integers have to be in the range...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-2557.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-2557.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-2557.html" rel="stylesheet"/>
   <link href="solution-2557.html" rel="stylesheet"/>
   <link href="solution-2557.html" rel="stylesheet"/>
   <link href="solution-2557.html" rel="stylesheet"/>
   <link href="solution-2557.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="2557 - Maximum Number of Integers to Choose From a Range II" property="og:title"/>
   <meta content="Leetcode 2557. Maximum Number of Integers to Choose From a Range II Description You are given an integer array banned and two integers n and maxSum. You are choosing some number of integers following the below rules: The chosen integers have to be in the range [1, n]. Each integer can be chosen at most once. The chosen integers should not be in the array banned. The sum of the chosen integers should not exceed maxSum. Return the maximum number of integers you can choose following the mentioned rules. &amp;nbsp; Example 1: Input: banned = [1,4,6], n = 6, maxSum = 4 Output: 1 Explanation: You can choose the integer 3. 3 is in the range [1, 6], and do not appear in banned. The sum of the chosen integers is 3, which does not exceed maxSum. Example 2: Input: banned = [4,3,5,6], n = 7, maxSum = 18 Output: 3 Explanation: You can choose the integers 1, 2, and 7. All these integers are in the range [1, 7], all do not appear in banned, and their sum is 18, which does not exceed maxSum. &amp;nbsp; Constraints: 1 &amp;lt;= banned.length &amp;lt;= 105 1 &amp;lt;= banned[i] &amp;lt;= n &amp;lt;= 109 1 &amp;lt;= maxSum &amp;lt;= 1015 Solutions Solution 1: Deduplication + Sorting + Binary Search We can add $0$ and $n + 1$ to the array banned, then deduplicate and sort the array banned. Next, we enumerate every two adjacent elements $i$ and $j$ in the array banned. The range of selectable integers is $[i + 1, j - 1]$. We use binary search to enumerate the number of elements we can select in this range, find the maximum number of selectable elements, and then add it to $ans$. At the same time, we subtract the sum of these elements from maxSum. If maxSum is less than $0$, we break the loop. Return the answer. The time complexity is $O(n \times \log n)$, and the space complexity is $O(n)$. Where $n$ is the length of the array banned. Java C++ Python Go class Solution { public int maxCount(int[] banned, int n, long maxSum) { Set&amp;lt;Integer&amp;gt; black = new HashSet&amp;lt;&amp;gt;(); black.add(0); black.add(n + 1); for (int x : banned) { black.add(x); } List&amp;lt;Integer&amp;gt; ban = new ArrayList&amp;lt;&amp;gt;(black); Collections.sort(ban); int ans = 0; for (int k = 1; k &amp;lt; ban.size(); ++k) { int i = ban.get(k - 1), j = ban.get(k); int left = 0, right = j - i - 1; while (left &amp;lt; right) { int mid = (left + right + 1) &amp;gt;&amp;gt;&amp;gt; 1; if ((i + 1 + i + mid) * 1L * mid / 2 &amp;lt;= maxSum) { left = mid; } else { right = mid - 1; } } ans += left; maxSum -= (i + 1 + i + left) * 1L * left / 2; if (maxSum &amp;lt;= 0) { break; } } return ans; } } class Solution { public: int maxCount(vector&amp;lt;int&amp;gt;&amp;amp; banned, int n, long long..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2022-11-30T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2022-11-30-2557-Maximum-Number-of-Integers-to-Choose-From-a-Range-II/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-2557.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="2557 - Maximum Number of Integers to Choose From a Range II" property="twitter:title"/>
   <meta content="Leetcode 2557. Maximum Number of Integers to Choose From a Range II Description You are given an integer array banned and two integers n and maxSum. You are choosing some number of integers following the below rules: The chosen integers have to be in the range [1, n]. Each integer can be chosen at most once. The chosen integers should not be in the array banned. The sum of the chosen integers should not exceed maxSum. Return the maximum number of integers you can choose following the mentioned rules. &amp;nbsp; Example 1: Input: banned = [1,4,6], n = 6, maxSum = 4 Output: 1 Explanation: You can choose the integer 3. 3 is in the range [1, 6], and do not appear in banned. The sum of the chosen integers is 3, which does not exceed maxSum. Example 2: Input: banned = [4,3,5,6], n = 7, maxSum = 18 Output: 3 Explanation: You can choose the integers 1, 2, and 7. All these integers are in the range [1, 7], all do not appear in banned, and their sum is 18, which does not exceed maxSum. &amp;nbsp; Constraints: 1 &amp;lt;= banned.length &amp;lt;= 105 1 &amp;lt;= banned[i] &amp;lt;= n &amp;lt;= 109 1 &amp;lt;= maxSum &amp;lt;= 1015 Solutions Solution 1: Deduplication + Sorting + Binary Search We can add $0$ and $n + 1$ to the array banned, then deduplicate and sort the array banned. Next, we enumerate every two adjacent elements $i$ and $j$ in the array banned. The range of selectable integers is $[i + 1, j - 1]$. We use binary search to enumerate the number of elements we can select in this range, find the maximum number of selectable elements, and then add it to $ans$. At the same time, we subtract the sum of these elements from maxSum. If maxSum is less than $0$, we break the loop. Return the answer. The time complexity is $O(n \times \log n)$, and the space complexity is $O(n)$. Where $n$ is the length of the array banned. Java C++ Python Go class Solution { public int maxCount(int[] banned, int n, long maxSum) { Set&amp;lt;Integer&amp;gt; black = new HashSet&amp;lt;&amp;gt;(); black.add(0); black.add(n + 1); for (int x : banned) { black.add(x); } List&amp;lt;Integer&amp;gt; ban = new ArrayList&amp;lt;&amp;gt;(black); Collections.sort(ban); int ans = 0; for (int k = 1; k &amp;lt; ban.size(); ++k) { int i = ban.get(k - 1), j = ban.get(k); int left = 0, right = j - i - 1; while (left &amp;lt; right) { int mid = (left + right + 1) &amp;gt;&amp;gt;&amp;gt; 1; if ((i + 1 + i + mid) * 1L * mid / 2 &amp;lt;= maxSum) { left = mid; } else { right = mid - 1; } } ans += left; maxSum -= (i + 1 + i + left) * 1L * left / 2; if (maxSum &amp;lt;= 0) { break; } } return ans; } } class Solution { public: int maxCount(vector&amp;lt;int&amp;gt;&amp;amp; banned, int n, long long..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    2557 - Maximum Number of Integers to Choose From a Range II | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="2557 - Maximum Number of Integers to Choose From a Range II" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-2557.html" rel="canonical">
          <meta content="https://leetcode.ca/2022-11-30-2557-Maximum-Number-of-Integers-to-Choose-From-a-Range-II/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2022-11-30T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"2557 - Maximum Number of Integers to Choose From a Range II","dateModified":"2022-11-30T00:00:00-08:00","datePublished":"2022-11-30T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2022-11-30-2557-Maximum-Number-of-Integers-to-Choose-From-a-Range-II/"},"url":"https://leetcode.ca/2022-11-30-2557-Maximum-Number-of-Integers-to-Choose-From-a-Range-II/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="2557-maximum-number-of-integers-to-choose-from-a-range-ii">
       <a href="solution-2557.html">
        2557. Maximum Number of Integers to Choose From a Range II
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       You are given an integer array
       <code>
        banned
       </code>
       and two integers
       <code>
        n
       </code>
       and
       <code>
        maxSum
       </code>
       . You are choosing some number of integers following the below rules:
      </p>
      <ul>
       <li>
        The chosen integers have to be in the range
        <code>
         [1, n]
        </code>
        .
       </li>
       <li>
        Each integer can be chosen
        <strong>
         at most once
        </strong>
        .
       </li>
       <li>
        The chosen integers should not be in the array
        <code>
         banned
        </code>
        .
       </li>
       <li>
        The sum of the chosen integers should not exceed
        <code>
         maxSum
        </code>
        .
       </li>
      </ul>
      <p>
       Return
       <em>
        the
        <strong>
         maximum
        </strong>
        number of integers you can choose following the mentioned rules
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> banned = [1,4,6], n = 6, maxSum = 4
<strong>Output:</strong> 1
<strong>Explanation:</strong> You can choose the integer 3.
3 is in the range [1, 6], and do not appear in banned. The sum of the chosen integers is 3, which does not exceed maxSum.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> banned = [4,3,5,6], n = 7, maxSum = 18
<strong>Output:</strong> 3
<strong>Explanation:</strong> You can choose the integers 1, 2, and 7.
All these integers are in the range [1, 7], all do not appear in banned, and their sum is 18, which does not exceed maxSum.
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= banned.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         1 &lt;= banned[i] &lt;= n &lt;= 10
         <sup>
          9
         </sup>
        </code>
       </li>
       <li>
        <code>
         1 &lt;= maxSum &lt;= 10
         <sup>
          15
         </sup>
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Deduplication + Sorting + Binary Search
       </strong>
      </p>
      <p>
       We can add $0$ and $n + 1$ to the array
       <code class="language-plaintext highlighter-rouge">
        banned
       </code>
       , then deduplicate and sort the array
       <code class="language-plaintext highlighter-rouge">
        banned
       </code>
       .
      </p>
      <p>
       Next, we enumerate every two adjacent elements $i$ and $j$ in the array
       <code class="language-plaintext highlighter-rouge">
        banned
       </code>
       . The range of selectable integers is $[i + 1, j - 1]$. We use binary search to enumerate the number of elements we can select in this range, find the maximum number of selectable elements, and then add it to $ans$. At the same time, we subtract the sum of these elements from
       <code class="language-plaintext highlighter-rouge">
        maxSum
       </code>
       . If
       <code class="language-plaintext highlighter-rouge">
        maxSum
       </code>
       is less than $0$, we break the loop. Return the answer.
      </p>
      <p>
       The time complexity is $O(n \times \log n)$, and the space complexity is $O(n)$. Where $n$ is the length of the array
       <code class="language-plaintext highlighter-rouge">
        banned
       </code>
       .
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#3b86b822-355c-4c18-b216-63e41b68559b'}">
       <li class="uk-active">
        <a href="solution-2557.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-2557.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-2557.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-2557.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="3b86b822-355c-4c18-b216-63e41b68559b">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxCount</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">banned</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="kt">long</span> <span class="n">maxSum</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">black</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">black</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="n">black</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">:</span> <span class="n">banned</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">black</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">ban</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="n">black</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">ban</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">ban</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="o">++</span><span class="n">k</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ban</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">),</span> <span class="n">j</span> <span class="o">=</span> <span class="n">ban</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">k</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="o">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">((</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">mid</span><span class="o">)</span> <span class="o">*</span> <span class="mi">1L</span> <span class="o">*</span> <span class="n">mid</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">maxSum</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">left</span><span class="o">;</span>
            <span class="n">maxSum</span> <span class="o">-=</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">left</span><span class="o">)</span> <span class="o">*</span> <span class="mi">1L</span> <span class="o">*</span> <span class="n">left</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">maxSum</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">maxCount</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">banned</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">maxSum</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">banned</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="n">banned</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">sort</span><span class="p">(</span><span class="n">banned</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">banned</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="n">banned</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">banned</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">banned</span><span class="p">.</span><span class="n">end</span><span class="p">()),</span> <span class="n">banned</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">banned</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">banned</span><span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">j</span> <span class="o">=</span> <span class="n">banned</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
            <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">((</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">((</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">mid</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1LL</span> <span class="o">*</span> <span class="n">mid</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">maxSum</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">left</span><span class="p">;</span>
            <span class="n">maxSum</span> <span class="o">-=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1LL</span> <span class="o">*</span> <span class="n">left</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">maxSum</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxCount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">banned</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">maxSum</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">banned</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">ban</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">banned</span><span class="p">))</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">(</span><span class="n">ban</span><span class="p">):</span>
            <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
                <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">mid</span><span class="p">)</span> <span class="o">*</span> <span class="n">mid</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">maxSum</span><span class="p">:</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">left</span>
            <span class="n">maxSum</span> <span class="o">-=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="n">left</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">maxSum</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">ans</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">maxCount</span><span class="p">(</span><span class="n">banned</span> <span class="p">[]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span> <span class="kt">int</span><span class="p">,</span> <span class="n">maxSum</span> <span class="kt">int64</span><span class="p">)</span> <span class="p">(</span><span class="n">ans</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">banned</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">banned</span><span class="p">,</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="m">1</span><span class="p">}</span><span class="o">...</span><span class="p">)</span>
	<span class="n">sort</span><span class="o">.</span><span class="n">Ints</span><span class="p">(</span><span class="n">banned</span><span class="p">)</span>
	<span class="n">ban</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">banned</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">==</span> <span class="n">banned</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="m">1</span><span class="p">]</span> <span class="p">{</span>
			<span class="k">continue</span>
		<span class="p">}</span>
		<span class="n">ban</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">ban</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="n">k</span> <span class="o">:=</span> <span class="m">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ban</span><span class="p">);</span> <span class="n">k</span><span class="o">++</span> <span class="p">{</span>
		<span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">:=</span> <span class="n">ban</span><span class="p">[</span><span class="n">k</span><span class="o">-</span><span class="m">1</span><span class="p">],</span> <span class="n">ban</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
		<span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="m">1</span>
		<span class="k">for</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="p">{</span>
			<span class="n">mid</span> <span class="o">:=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="m">1</span>
			<span class="k">if</span> <span class="kt">int64</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="n">mid</span><span class="p">)</span><span class="o">*</span><span class="n">mid</span><span class="o">/</span><span class="m">2</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">maxSum</span> <span class="p">{</span>
				<span class="n">left</span> <span class="o">=</span> <span class="n">mid</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="m">1</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">ans</span> <span class="o">+=</span> <span class="n">left</span>
		<span class="n">maxSum</span> <span class="o">-=</span> <span class="kt">int64</span><span class="p">((</span><span class="n">i</span> <span class="o">+</span> <span class="m">1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="n">left</span> <span class="o">/</span> <span class="m">2</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">maxSum</span> <span class="o">&lt;=</span> <span class="m">0</span> <span class="p">{</span>
			<span class="k">break</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-2557.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
