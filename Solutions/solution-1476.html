<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1476.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1476.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1476 - Subrectangle Queries</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1476. Subrectangle Queries Description Implement the class SubrectangleQueries&amp;nbsp;which receives a rows x cols rectangle as a matrix of integers in the constructor and supports two methods: 1.&amp;nbsp;updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) Updates all values with newValue in the subrectangle whose...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1476.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1476.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1476.html" rel="stylesheet"/>
   <link href="solution-1476.html" rel="stylesheet"/>
   <link href="solution-1476.html" rel="stylesheet"/>
   <link href="solution-1476.html" rel="stylesheet"/>
   <link href="solution-1476.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1476 - Subrectangle Queries" property="og:title"/>
   <meta content="Leetcode 1476. Subrectangle Queries Description Implement the class SubrectangleQueries&amp;nbsp;which receives a rows x cols rectangle as a matrix of integers in the constructor and supports two methods: 1.&amp;nbsp;updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) Updates all values with newValue in the subrectangle whose upper left coordinate is (row1,col1) and bottom right coordinate is (row2,col2). 2.&amp;nbsp;getValue(int row, int col) Returns the current value of the coordinate (row,col) from&amp;nbsp;the rectangle. &amp;nbsp; Example 1: Input [&amp;quot;SubrectangleQueries&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;getValue&amp;quot;] [[[[1,2,1],[4,3,4],[3,2,1],[1,1,1]]],[0,2],[0,0,3,2,5],[0,2],[3,1],[3,0,3,2,10],[3,1],[0,2]] Output [null,1,null,5,5,null,10,5] Explanation SubrectangleQueries subrectangleQueries = new SubrectangleQueries([[1,2,1],[4,3,4],[3,2,1],[1,1,1]]); // The initial rectangle (4x3) looks like: // 1 2 1 // 4 3 4 // 3 2 1 // 1 1 1 subrectangleQueries.getValue(0, 2); // return 1 subrectangleQueries.updateSubrectangle(0, 0, 3, 2, 5); // After this update the rectangle looks like: // 5 5 5 // 5 5 5 // 5 5 5 // 5 5 5 subrectangleQueries.getValue(0, 2); // return 5 subrectangleQueries.getValue(3, 1); // return 5 subrectangleQueries.updateSubrectangle(3, 0, 3, 2, 10); // After this update the rectangle looks like: // 5 5 5 // 5 5 5 // 5 5 5 // 10 10 10 subrectangleQueries.getValue(3, 1); // return 10 subrectangleQueries.getValue(0, 2); // return 5 Example 2: Input [&amp;quot;SubrectangleQueries&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;] [[[[1,1,1],[2,2,2],[3,3,3]]],[0,0],[0,0,2,2,100],[0,0],[2,2],[1,1,2,2,20],[2,2]] Output [null,1,null,100,100,null,20] Explanation SubrectangleQueries subrectangleQueries = new SubrectangleQueries([[1,1,1],[2,2,2],[3,3,3]]); subrectangleQueries.getValue(0, 0); // return 1 subrectangleQueries.updateSubrectangle(0, 0, 2, 2, 100); subrectangleQueries.getValue(0, 0); // return 100 subrectangleQueries.getValue(2, 2); // return 100 subrectangleQueries.updateSubrectangle(1, 1, 2, 2, 20); subrectangleQueries.getValue(2, 2); // return 20 &amp;nbsp; Constraints: There will be at most 500&amp;nbsp;operations considering both methods:&amp;nbsp;updateSubrectangle and getValue. 1 &amp;lt;= rows, cols &amp;lt;= 100 rows ==&amp;nbsp;rectangle.length cols == rectangle[i].length 0 &amp;lt;= row1 &amp;lt;= row2 &amp;lt; rows 0 &amp;lt;= col1 &amp;lt;= col2 &amp;lt; cols 1 &amp;lt;= newValue, rectangle[i][j] &amp;lt;= 10^9 0 &amp;lt;= row &amp;lt; rows 0 &amp;lt;= col &amp;lt; cols Solutions Use history list to save the updated record. Java C++ Python Go TypeScript class SubrectangleQueries { private int[][] g; private LinkedList&amp;lt;int[]&amp;gt; ops = new LinkedList&amp;lt;&amp;gt;(); public SubrectangleQueries(int[][] rectangle) { g = rectangle; } public void updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) { ops.addFirst(new int[] {row1, col1, row2, col2, newValue}); } public int getValue(int row, int col) { for (var op : ops) { if (op[0] &amp;lt;= row &amp;amp;&amp;amp; row &amp;lt;= op[2] &amp;amp;&amp;amp; op[1] &amp;lt;= col &amp;amp;&amp;amp; col &amp;lt;= op[3]) { return op[4]; } } return g[row][col]; } } /** * Your SubrectangleQueries object will be instantiated and called as such: * SubrectangleQueries obj = new SubrectangleQueries(rectangle); * obj.updateSubrectangle(row1,col1,row2,col2,newValue); * int param_2 = obj.getValue(row,col); */ class SubrectangleQueries { public: vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; g; vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; ops; SubrectangleQueries(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; rectangle) { g = rectangle; } void updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) { ops.push_back({row1, col1, row2, col2, newValue}); } int getValue(int row, int col) { for (int i = ops.size() - 1; ~i; --i) { auto op = ops[i]; if (op[0] &amp;lt;= row &amp;amp;&amp;amp; row &amp;lt;= op[2] &amp;amp;&amp;amp; op[1] &amp;lt;= col &amp;amp;&amp;amp; col &amp;lt;= op[3]) { return op[4]; } } return g[row][col]; } }; /** * Your SubrectangleQueries object will be instantiated and called as..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2019-12-15T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2019-12-15-1476-Subrectangle-Queries/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1476.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1476 - Subrectangle Queries" property="twitter:title"/>
   <meta content="Leetcode 1476. Subrectangle Queries Description Implement the class SubrectangleQueries&amp;nbsp;which receives a rows x cols rectangle as a matrix of integers in the constructor and supports two methods: 1.&amp;nbsp;updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) Updates all values with newValue in the subrectangle whose upper left coordinate is (row1,col1) and bottom right coordinate is (row2,col2). 2.&amp;nbsp;getValue(int row, int col) Returns the current value of the coordinate (row,col) from&amp;nbsp;the rectangle. &amp;nbsp; Example 1: Input [&amp;quot;SubrectangleQueries&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;getValue&amp;quot;] [[[[1,2,1],[4,3,4],[3,2,1],[1,1,1]]],[0,2],[0,0,3,2,5],[0,2],[3,1],[3,0,3,2,10],[3,1],[0,2]] Output [null,1,null,5,5,null,10,5] Explanation SubrectangleQueries subrectangleQueries = new SubrectangleQueries([[1,2,1],[4,3,4],[3,2,1],[1,1,1]]); // The initial rectangle (4x3) looks like: // 1 2 1 // 4 3 4 // 3 2 1 // 1 1 1 subrectangleQueries.getValue(0, 2); // return 1 subrectangleQueries.updateSubrectangle(0, 0, 3, 2, 5); // After this update the rectangle looks like: // 5 5 5 // 5 5 5 // 5 5 5 // 5 5 5 subrectangleQueries.getValue(0, 2); // return 5 subrectangleQueries.getValue(3, 1); // return 5 subrectangleQueries.updateSubrectangle(3, 0, 3, 2, 10); // After this update the rectangle looks like: // 5 5 5 // 5 5 5 // 5 5 5 // 10 10 10 subrectangleQueries.getValue(3, 1); // return 10 subrectangleQueries.getValue(0, 2); // return 5 Example 2: Input [&amp;quot;SubrectangleQueries&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;getValue&amp;quot;,&amp;quot;updateSubrectangle&amp;quot;,&amp;quot;getValue&amp;quot;] [[[[1,1,1],[2,2,2],[3,3,3]]],[0,0],[0,0,2,2,100],[0,0],[2,2],[1,1,2,2,20],[2,2]] Output [null,1,null,100,100,null,20] Explanation SubrectangleQueries subrectangleQueries = new SubrectangleQueries([[1,1,1],[2,2,2],[3,3,3]]); subrectangleQueries.getValue(0, 0); // return 1 subrectangleQueries.updateSubrectangle(0, 0, 2, 2, 100); subrectangleQueries.getValue(0, 0); // return 100 subrectangleQueries.getValue(2, 2); // return 100 subrectangleQueries.updateSubrectangle(1, 1, 2, 2, 20); subrectangleQueries.getValue(2, 2); // return 20 &amp;nbsp; Constraints: There will be at most 500&amp;nbsp;operations considering both methods:&amp;nbsp;updateSubrectangle and getValue. 1 &amp;lt;= rows, cols &amp;lt;= 100 rows ==&amp;nbsp;rectangle.length cols == rectangle[i].length 0 &amp;lt;= row1 &amp;lt;= row2 &amp;lt; rows 0 &amp;lt;= col1 &amp;lt;= col2 &amp;lt; cols 1 &amp;lt;= newValue, rectangle[i][j] &amp;lt;= 10^9 0 &amp;lt;= row &amp;lt; rows 0 &amp;lt;= col &amp;lt; cols Solutions Use history list to save the updated record. Java C++ Python Go TypeScript class SubrectangleQueries { private int[][] g; private LinkedList&amp;lt;int[]&amp;gt; ops = new LinkedList&amp;lt;&amp;gt;(); public SubrectangleQueries(int[][] rectangle) { g = rectangle; } public void updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) { ops.addFirst(new int[] {row1, col1, row2, col2, newValue}); } public int getValue(int row, int col) { for (var op : ops) { if (op[0] &amp;lt;= row &amp;amp;&amp;amp; row &amp;lt;= op[2] &amp;amp;&amp;amp; op[1] &amp;lt;= col &amp;amp;&amp;amp; col &amp;lt;= op[3]) { return op[4]; } } return g[row][col]; } } /** * Your SubrectangleQueries object will be instantiated and called as such: * SubrectangleQueries obj = new SubrectangleQueries(rectangle); * obj.updateSubrectangle(row1,col1,row2,col2,newValue); * int param_2 = obj.getValue(row,col); */ class SubrectangleQueries { public: vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; g; vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; ops; SubrectangleQueries(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; rectangle) { g = rectangle; } void updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) { ops.push_back({row1, col1, row2, col2, newValue}); } int getValue(int row, int col) { for (int i = ops.size() - 1; ~i; --i) { auto op = ops[i]; if (op[0] &amp;lt;= row &amp;amp;&amp;amp; row &amp;lt;= op[2] &amp;amp;&amp;amp; op[1] &amp;lt;= col &amp;amp;&amp;amp; col &amp;lt;= op[3]) { return op[4]; } } return g[row][col]; } }; /** * Your SubrectangleQueries object will be instantiated and called as..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1476 - Subrectangle Queries | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1476 - Subrectangle Queries" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1476.html" rel="canonical">
          <meta content="https://leetcode.ca/2019-12-15-1476-Subrectangle-Queries/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2019-12-15T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1476 - Subrectangle Queries","dateModified":"2019-12-15T00:00:00-08:00","datePublished":"2019-12-15T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2019-12-15-1476-Subrectangle-Queries/"},"url":"https://leetcode.ca/2019-12-15-1476-Subrectangle-Queries/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1476-subrectangle-queries">
       <a href="solution-1476.html">
        1476. Subrectangle Queries
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Implement the class
       <code>
        SubrectangleQueries
       </code>
       which receives a
       <code>
        rows x cols
       </code>
       rectangle as a matrix of integers in the constructor and supports two methods:
      </p>
      <p>
       1.
       <code>
        updateSubrectangle(int row1, int col1, int row2, int col2, int newValue)
       </code>
      </p>
      <ul>
       <li>
        Updates all values with
        <code>
         newValue
        </code>
        in the subrectangle whose upper left coordinate is
        <code>
         (row1,col1)
        </code>
        and bottom right coordinate is
        <code>
         (row2,col2)
        </code>
        .
       </li>
      </ul>
      <p>
       2.
       <code>
        getValue(int row, int col)
       </code>
      </p>
      <ul>
       <li>
        Returns the current value of the coordinate
        <code>
         (row,col)
        </code>
        from the rectangle.
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input</strong>
["SubrectangleQueries","getValue","updateSubrectangle","getValue","getValue","updateSubrectangle","getValue","getValue"]
[[[[1,2,1],[4,3,4],[3,2,1],[1,1,1]]],[0,2],[0,0,3,2,5],[0,2],[3,1],[3,0,3,2,10],[3,1],[0,2]]
<strong>Output</strong>
[null,1,null,5,5,null,10,5]
<strong>Explanation</strong>
SubrectangleQueries subrectangleQueries = new SubrectangleQueries([[1,2,1],[4,3,4],[3,2,1],[1,1,1]]);  
// The initial rectangle (4x3) looks like:
// 1 2 1
// 4 3 4
// 3 2 1
// 1 1 1
subrectangleQueries.getValue(0, 2); // return 1
subrectangleQueries.updateSubrectangle(0, 0, 3, 2, 5);
// After this update the rectangle looks like:
// 5 5 5
// 5 5 5
// 5 5 5
// 5 5 5 
subrectangleQueries.getValue(0, 2); // return 5
subrectangleQueries.getValue(3, 1); // return 5
subrectangleQueries.updateSubrectangle(3, 0, 3, 2, 10);
// After this update the rectangle looks like:
// 5   5   5
// 5   5   5
// 5   5   5
// 10  10  10 
subrectangleQueries.getValue(3, 1); // return 10
subrectangleQueries.getValue(0, 2); // return 5
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input</strong>
["SubrectangleQueries","getValue","updateSubrectangle","getValue","getValue","updateSubrectangle","getValue"]
[[[[1,1,1],[2,2,2],[3,3,3]]],[0,0],[0,0,2,2,100],[0,0],[2,2],[1,1,2,2,20],[2,2]]
<strong>Output</strong>
[null,1,null,100,100,null,20]
<strong>Explanation</strong>
SubrectangleQueries subrectangleQueries = new SubrectangleQueries([[1,1,1],[2,2,2],[3,3,3]]);
subrectangleQueries.getValue(0, 0); // return 1
subrectangleQueries.updateSubrectangle(0, 0, 2, 2, 100);
subrectangleQueries.getValue(0, 0); // return 100
subrectangleQueries.getValue(2, 2); // return 100
subrectangleQueries.updateSubrectangle(1, 1, 2, 2, 20);
subrectangleQueries.getValue(2, 2); // return 20
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        There will be at most
        <code>
         <font face="monospace">
          500
         </font>
        </code>
        operations considering both methods:
        <code>
         updateSubrectangle
        </code>
        and
        <code>
         getValue
        </code>
        .
       </li>
       <li>
        <code>
         1 &lt;= rows, cols &lt;= 100
        </code>
       </li>
       <li>
        <code>
         rows == rectangle.length
        </code>
       </li>
       <li>
        <code>
         cols == rectangle[i].length
        </code>
       </li>
       <li>
        <code>
         0 &lt;= row1 &lt;= row2 &lt; rows
        </code>
       </li>
       <li>
        <code>
         0 &lt;= col1 &lt;= col2 &lt; cols
        </code>
       </li>
       <li>
        <code>
         1 &lt;= newValue, rectangle[i][j] &lt;= 10^9
        </code>
       </li>
       <li>
        <code>
         0 &lt;= row &lt; rows
        </code>
       </li>
       <li>
        <code>
         0 &lt;= col &lt; cols
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       Use history list to save the updated record.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#1c5a07b5-2979-48f5-bb65-04dfaaf379be'}">
       <li class="uk-active">
        <a href="solution-1476.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1476.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1476.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1476.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-1476.html">
         TypeScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="1c5a07b5-2979-48f5-bb65-04dfaaf379be">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">SubrectangleQueries</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">g</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">ops</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">SubrectangleQueries</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">rectangle</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">rectangle</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateSubrectangle</span><span class="o">(</span><span class="kt">int</span> <span class="n">row1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">row2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newValue</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ops</span><span class="o">.</span><span class="na">addFirst</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">row1</span><span class="o">,</span> <span class="n">col1</span><span class="o">,</span> <span class="n">row2</span><span class="o">,</span> <span class="n">col2</span><span class="o">,</span> <span class="n">newValue</span><span class="o">});</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getValue</span><span class="o">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">var</span> <span class="n">op</span> <span class="o">:</span> <span class="n">ops</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">op</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="n">row</span> <span class="o">&amp;&amp;</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">op</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">op</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="n">col</span> <span class="o">&amp;&amp;</span> <span class="n">col</span> <span class="o">&lt;=</span> <span class="n">op</span><span class="o">[</span><span class="mi">3</span><span class="o">])</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">op</span><span class="o">[</span><span class="mi">4</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">g</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your SubrectangleQueries object will be instantiated and called as such:
 * SubrectangleQueries obj = new SubrectangleQueries(rectangle);
 * obj.updateSubrectangle(row1,col1,row2,col2,newValue);
 * int param_2 = obj.getValue(row,col);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">SubrectangleQueries</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">ops</span><span class="p">;</span>

    <span class="n">SubrectangleQueries</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">rectangle</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">rectangle</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">updateSubrectangle</span><span class="p">(</span><span class="kt">int</span> <span class="n">row1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">col1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">row2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">col2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">newValue</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ops</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">row1</span><span class="p">,</span> <span class="n">col1</span><span class="p">,</span> <span class="n">row2</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="n">newValue</span><span class="p">});</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">getValue</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="p">,</span> <span class="kt">int</span> <span class="n">col</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ops</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">~</span><span class="n">i</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">auto</span> <span class="n">op</span> <span class="o">=</span> <span class="n">ops</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">op</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">row</span> <span class="o">&amp;&amp;</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">op</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">op</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">col</span> <span class="o">&amp;&amp;</span> <span class="n">col</span> <span class="o">&lt;=</span> <span class="n">op</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">op</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
 * Your SubrectangleQueries object will be instantiated and called as such:
 * SubrectangleQueries* obj = new SubrectangleQueries(rectangle);
 * obj-&gt;updateSubrectangle(row1,col1,row2,col2,newValue);
 * int param_2 = obj-&gt;getValue(row,col);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">SubrectangleQueries</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">g</span> <span class="o">=</span> <span class="n">rectangle</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">ops</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">updateSubrectangle</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">row1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">col1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">row2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">newValue</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">ops</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">row1</span><span class="p">,</span> <span class="n">col1</span><span class="p">,</span> <span class="n">row2</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="n">newValue</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">getValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">col</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">r1</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="n">r2</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">ops</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">r1</span> <span class="o">&lt;=</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">r2</span> <span class="ow">and</span> <span class="n">c1</span> <span class="o">&lt;=</span> <span class="n">col</span> <span class="o">&lt;=</span> <span class="n">c2</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">v</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span>


<span class="c1"># Your SubrectangleQueries object will be instantiated and called as such:
# obj = SubrectangleQueries(rectangle)
# obj.updateSubrectangle(row1,col1,row2,col2,newValue)
# param_2 = obj.getValue(row,col)
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">SubrectangleQueries</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">g</span>   <span class="p">[][]</span><span class="kt">int</span>
	<span class="n">ops</span> <span class="p">[][]</span><span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Constructor</span><span class="p">(</span><span class="n">rectangle</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="n">SubrectangleQueries</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">SubrectangleQueries</span><span class="p">{</span><span class="n">rectangle</span><span class="p">,</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">{}</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">SubrectangleQueries</span><span class="p">)</span> <span class="n">UpdateSubrectangle</span><span class="p">(</span><span class="n">row1</span> <span class="kt">int</span><span class="p">,</span> <span class="n">col1</span> <span class="kt">int</span><span class="p">,</span> <span class="n">row2</span> <span class="kt">int</span><span class="p">,</span> <span class="n">col2</span> <span class="kt">int</span><span class="p">,</span> <span class="n">newValue</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">this</span><span class="o">.</span><span class="n">ops</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">ops</span><span class="p">,</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="n">row1</span><span class="p">,</span> <span class="n">col1</span><span class="p">,</span> <span class="n">row2</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="n">newValue</span><span class="p">})</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">SubrectangleQueries</span><span class="p">)</span> <span class="n">GetValue</span><span class="p">(</span><span class="n">row</span> <span class="kt">int</span><span class="p">,</span> <span class="n">col</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">ops</span><span class="p">)</span> <span class="o">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span> <span class="p">{</span>
		<span class="n">op</span> <span class="o">:=</span> <span class="n">this</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">op</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">row</span> <span class="o">&amp;&amp;</span> <span class="n">row</span> <span class="o">&lt;=</span> <span class="n">op</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">op</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">col</span> <span class="o">&amp;&amp;</span> <span class="n">col</span> <span class="o">&lt;=</span> <span class="n">op</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">{</span>
			<span class="k">return</span> <span class="n">op</span><span class="p">[</span><span class="m">4</span><span class="p">]</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">this</span><span class="o">.</span><span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span>
<span class="p">}</span>

<span class="c">/**
 * Your SubrectangleQueries object will be instantiated and called as such:
 * obj := Constructor(rectangle);
 * obj.UpdateSubrectangle(row1,col1,row2,col2,newValue);
 * param_2 := obj.GetValue(row,col);
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nx">SubrectangleQueries</span> <span class="p">{</span>
    <span class="nl">g</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][];</span>
    <span class="nl">ops</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][];</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">rectangle</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][])</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="nx">rectangle</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">ops</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>

    <span class="nx">updateSubrectangle</span><span class="p">(</span>
        <span class="nx">row1</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
        <span class="nx">col1</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
        <span class="nx">row2</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
        <span class="nx">col2</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
        <span class="nx">newValue</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
    <span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">ops</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">row1</span><span class="p">,</span> <span class="nx">col1</span><span class="p">,</span> <span class="nx">row2</span><span class="p">,</span> <span class="nx">col2</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="nx">getValue</span><span class="p">(</span><span class="nx">row</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">col</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ops</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">~</span><span class="nx">i</span><span class="p">;</span> <span class="o">--</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="p">[</span><span class="nx">r1</span><span class="p">,</span> <span class="nx">c1</span><span class="p">,</span> <span class="nx">r2</span><span class="p">,</span> <span class="nx">c2</span><span class="p">,</span> <span class="nx">v</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ops</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">r1</span> <span class="o">&lt;=</span> <span class="nx">row</span> <span class="o">&amp;&amp;</span> <span class="nx">row</span> <span class="o">&lt;=</span> <span class="nx">r2</span> <span class="o">&amp;&amp;</span> <span class="nx">c1</span> <span class="o">&lt;=</span> <span class="nx">col</span> <span class="o">&amp;&amp;</span> <span class="nx">col</span> <span class="o">&lt;=</span> <span class="nx">c2</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">v</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">[</span><span class="nx">row</span><span class="p">][</span><span class="nx">col</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**
 * Your SubrectangleQueries object will be instantiated and called as such:
 * var obj = new SubrectangleQueries(rectangle)
 * obj.updateSubrectangle(row1,col1,row2,col2,newValue)
 * var param_2 = obj.getValue(row,col)
 */</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1476.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
