<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-92.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-92.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>92 - Reverse Linked List II</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode Question Formatted question description: https://leetcode.ca/all/92.html Given the head of a singly linked list and two integers left and right where left &amp;lt;= right, reverse the nodes of the list from position left to position right, and return the reversed list. &amp;nbsp; Example 1: Input: head...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-92.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-92.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-92.html" rel="stylesheet"/>
   <link href="solution-92.html" rel="stylesheet"/>
   <link href="solution-92.html" rel="stylesheet"/>
   <link href="solution-92.html" rel="stylesheet"/>
   <link href="solution-92.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="92 - Reverse Linked List II" property="og:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/92.html Given the head of a singly linked list and two integers left and right where left &amp;lt;= right, reverse the nodes of the list from position left to position right, and return the reversed list. &amp;nbsp; Example 1: Input: head = [1,2,3,4,5], left = 2, right = 4 Output: [1,4,3,2,5] Example 2: Input: head = [5], left = 1, right = 1 Output: [5] &amp;nbsp; Constraints: The number of nodes in the list is n. 1 &amp;lt;= n &amp;lt;= 500 -500 &amp;lt;= Node.val &amp;lt;= 500 1 &amp;lt;= left &amp;lt;= right &amp;lt;= n &amp;nbsp; Follow up: Could you do it in one pass? Algorithm Take the example in the title, the three points that are transformed are 2, 3, and 4. We need to find the first node before the transformation node, as long as the pre is moved backward by m-1 steps. Why do you want to subtract 1, because the problem is counting from 1, here only one step is taken, which is node 1, and use pre to point to it. What if the node 1 starts to change? This is why we use the dummy node. Pre can also point to the dummy node. Then the exchange is about to begin. Since only two nodes can be exchanged at a time, we follow the exchange sequence as follows: 1 -&amp;gt; 2 -&amp;gt; 3 -&amp;gt; 4 -&amp;gt; 5 -&amp;gt; NULL 1 -&amp;gt; 3 -&amp;gt; 2 -&amp;gt; 4 -&amp;gt; 5 -&amp;gt; NULL 1 -&amp;gt; 4 -&amp;gt; 3 -&amp;gt; 2 -&amp;gt; 5 -&amp;gt; NULL This problem is a follow-up problem for problem 206. In this problem, only the nodes from position m to n should be reversed, and the reverse operation should be done in one-pass. The iterative solution for problem 206 can be adapted here, with some modification. Obviously, if the list is null, or there is only one element in the list, or position m is the same as position n, then no reverse needs to be done and just return the original list. Since the head may also be reversed, create a dummyHead whose next pointer points to head. Find the reverse start node, the reverse end node, the last node before reverse and the first node after reverse, and then do the reverse operation. For example, for linked list 1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;NULL, m = 2, n = 4, the reverse start node is 2, the reverse end node is 4, the last node before reverse is 1, and the first node after reverse is 5. Like the iterative solution for problem 206, use two pointers prev and curr to do the iteration. After the loop, set the last node before reverse to point to the reverse end node (which is the start of the reverse part after reverse), and set the reverse start node (which is the end of the reverse part after reverse) to point to the first node after reverse. Finally, return dummyHead.next. Code Java C++..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-03-01T21:21:01-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-03-01-92-Reverse-Linked-List-II/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-92.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="92 - Reverse Linked List II" property="twitter:title"/>
   <meta content="Leetcode Question Formatted question description: https://leetcode.ca/all/92.html Given the head of a singly linked list and two integers left and right where left &amp;lt;= right, reverse the nodes of the list from position left to position right, and return the reversed list. &amp;nbsp; Example 1: Input: head = [1,2,3,4,5], left = 2, right = 4 Output: [1,4,3,2,5] Example 2: Input: head = [5], left = 1, right = 1 Output: [5] &amp;nbsp; Constraints: The number of nodes in the list is n. 1 &amp;lt;= n &amp;lt;= 500 -500 &amp;lt;= Node.val &amp;lt;= 500 1 &amp;lt;= left &amp;lt;= right &amp;lt;= n &amp;nbsp; Follow up: Could you do it in one pass? Algorithm Take the example in the title, the three points that are transformed are 2, 3, and 4. We need to find the first node before the transformation node, as long as the pre is moved backward by m-1 steps. Why do you want to subtract 1, because the problem is counting from 1, here only one step is taken, which is node 1, and use pre to point to it. What if the node 1 starts to change? This is why we use the dummy node. Pre can also point to the dummy node. Then the exchange is about to begin. Since only two nodes can be exchanged at a time, we follow the exchange sequence as follows: 1 -&amp;gt; 2 -&amp;gt; 3 -&amp;gt; 4 -&amp;gt; 5 -&amp;gt; NULL 1 -&amp;gt; 3 -&amp;gt; 2 -&amp;gt; 4 -&amp;gt; 5 -&amp;gt; NULL 1 -&amp;gt; 4 -&amp;gt; 3 -&amp;gt; 2 -&amp;gt; 5 -&amp;gt; NULL This problem is a follow-up problem for problem 206. In this problem, only the nodes from position m to n should be reversed, and the reverse operation should be done in one-pass. The iterative solution for problem 206 can be adapted here, with some modification. Obviously, if the list is null, or there is only one element in the list, or position m is the same as position n, then no reverse needs to be done and just return the original list. Since the head may also be reversed, create a dummyHead whose next pointer points to head. Find the reverse start node, the reverse end node, the last node before reverse and the first node after reverse, and then do the reverse operation. For example, for linked list 1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;NULL, m = 2, n = 4, the reverse start node is 2, the reverse end node is 4, the last node before reverse is 1, and the first node after reverse is 5. Like the iterative solution for problem 206, use two pointers prev and curr to do the iteration. After the loop, set the last node before reverse to point to the reverse end node (which is the start of the reverse part after reverse), and set the reverse start node (which is the end of the reverse part after reverse) to point to the first node after reverse. Finally, return dummyHead.next. Code Java C++..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    92 - Reverse Linked List II | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="92 - Reverse Linked List II" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-92.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-03-01-92-Reverse-Linked-List-II/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-03-01T21:21:01-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"92 - Reverse Linked List II","dateModified":"2016-03-01T21:21:01-08:00","datePublished":"2016-03-01T21:21:01-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-03-01-92-Reverse-Linked-List-II/"},"url":"https://leetcode.ca/2016-03-01-92-Reverse-Linked-List-II/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="question">
       Question
      </h1>
      <p>
       Formatted question description:
       <a href="solution-92.html">
        https://leetcode.ca/all/92.html
       </a>
      </p>
      <p>
       Given the
       <code>
        head
       </code>
       of a singly linked list and two integers
       <code>
        left
       </code>
       and
       <code>
        right
       </code>
       where
       <code>
        left &lt;= right
       </code>
       , reverse the nodes of the list from position
       <code>
        left
       </code>
       to position
       <code>
        right
       </code>
       , and return
       <em>
        the reversed list
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0000-0099/0092.Reverse%20Linked%20List%20II/images/rev2ex2.jpg" style="width: 542px; height: 222px;"/>
      </p>
      <pre>
<strong>Input:</strong> head = [1,2,3,4,5], left = 2, right = 4
<strong>Output:</strong> [1,4,3,2,5]
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> head = [5], left = 1, right = 1
<strong>Output:</strong> [5]
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        The number of nodes in the list is
        <code>
         n
        </code>
        .
       </li>
       <li>
        <code>
         1 &lt;= n &lt;= 500
        </code>
       </li>
       <li>
        <code>
         -500 &lt;= Node.val &lt;= 500
        </code>
       </li>
       <li>
        <code>
         1 &lt;= left &lt;= right &lt;= n
        </code>
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong>
        Follow up:
       </strong>
       Could you do it in one pass?
      </p>
      <h1 id="algorithm">
       Algorithm
      </h1>
      <p>
       Take the example in the title, the three points that are transformed are
       <code class="language-plaintext highlighter-rouge">
        2, 3, and 4
       </code>
       . We need to find the first node before the transformation node, as long as the pre is moved backward by
       <code class="language-plaintext highlighter-rouge">
        m-1
       </code>
       steps.
      </p>
      <p>
       Why do you want to subtract 1, because the problem is counting from 1, here only one step is taken, which is node 1, and use pre to point to it. What if the node 1 starts to change? This is why we use the dummy node. Pre can also point to the dummy node. Then the exchange is about to begin. Since only two nodes can be exchanged at a time, we follow the exchange sequence as follows:
      </p>
      <div class="language-plaintext highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code>1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; NULL

1 -&gt; 3 -&gt; 2 -&gt; 4 -&gt; 5 -&gt; NULL

1 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 5 -&gt; NULL
</code></pre>
       </div>
      </div>
      <p>
       This problem is a follow-up problem for
       <a href="solution-92.html">
        problem 206
       </a>
       . In this problem, only the nodes from position
       <em>
        m
       </em>
       to
       <em>
        n
       </em>
       should be reversed, and the reverse operation should be done in one-pass. The iterative solution for problem 206 can be adapted here, with some modification.
      </p>
      <p>
       Obviously, if the list is null, or there is only one element in the list, or position
       <code class="language-plaintext highlighter-rouge">
        m
       </code>
       is the same as position
       <code class="language-plaintext highlighter-rouge">
        n
       </code>
       , then no reverse needs to be done and just return the original list.
      </p>
      <p>
       Since the head may also be reversed, create a
       <code class="language-plaintext highlighter-rouge">
        dummyHead
       </code>
       whose next pointer points to
       <code class="language-plaintext highlighter-rouge">
        head
       </code>
       . Find the reverse start node, the reverse end node, the last node before reverse and the first node after reverse, and then do the reverse operation.
      </p>
      <p>
       For example, for linked list
       <code class="language-plaintext highlighter-rouge">
        1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL
       </code>
       ,
       <em>
        m
       </em>
       = 2,
       <em>
        n
       </em>
       = 4, the reverse start node is 2, the reverse end node is 4, the last node before reverse is 1, and the first node after reverse is 5.
      </p>
      <p>
       Like the iterative solution for
       <a href="solution-92.html">
        problem 206
       </a>
       , use two pointers
       <code class="language-plaintext highlighter-rouge">
        prev
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        curr
       </code>
       to do the iteration. After the loop, set the last node before reverse to point to the reverse end node (which is the start of the reverse part after reverse), and set the reverse start node (which is the end of the reverse part after reverse) to point to the first node after reverse.
      </p>
      <p>
       Finally, return
       <code class="language-plaintext highlighter-rouge">
        dummyHead.next
       </code>
       .
      </p>
      <h1 id="code">
       Code
      </h1>
      <ul class="uk-tab" data-uk-switcher="{connect:'#3a066d3c-a99f-4a1c-939f-6c9e1575c351'}">
       <li class="uk-active">
        <a href="solution-92.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         Javascript
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         C#
        </a>
       </li>
       <li>
        <a href="solution-92.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="3a066d3c-a99f-4a1c-939f-6c9e1575c351">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Stack</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Reverse_Linked_List_II</span> <span class="o">{</span>

	<span class="cm">/**
	 * Definition for singly-linked list.
	 * public class ListNode {
	 *     int val;
	 *     ListNode next;
	 *     ListNode(int x) { val = x; }
	 * }
	 */</span>

	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution_optimize</span> <span class="o">{</span>
	    <span class="kd">public</span> <span class="nc">ListNode</span> <span class="nf">reverseBetween</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">head</span><span class="o">,</span> <span class="kt">int</span> <span class="n">m</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>

	        <span class="nc">ListNode</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ListNode</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
	        <span class="nc">ListNode</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">;</span>

	        <span class="c1">// I missed this one</span>
	        <span class="n">prev</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

	        <span class="nc">ListNode</span> <span class="n">p</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

	        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
	            <span class="n">prev</span> <span class="o">=</span> <span class="n">p</span><span class="o">;</span>
	            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	        <span class="o">}</span>

	        <span class="c1">// @note:@memorize: now p is pointing to m-th node</span>
	        <span class="nc">ListNode</span> <span class="n">originalFirst</span> <span class="o">=</span> <span class="n">p</span><span class="o">;</span>
	        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">m</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
	            <span class="nc">ListNode</span> <span class="n">currentHead</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	            <span class="nc">ListNode</span> <span class="n">futureHead</span> <span class="o">=</span> <span class="n">originalFirst</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>

	            <span class="c1">// swap</span>
	            <span class="c1">// prev.next = currentHead.next;</span>
	            <span class="n">prev</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">futureHead</span><span class="o">;</span>
	            <span class="c1">// currentHead.next = futureHead.next;</span>
	            <span class="n">originalFirst</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">futureHead</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	            <span class="n">futureHead</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">currentHead</span><span class="o">;</span>
	        <span class="o">}</span>

	        <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    <span class="o">}</span>
	<span class="o">}</span>


	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
	    <span class="kd">public</span> <span class="nc">ListNode</span> <span class="nf">reverseBetween</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">head</span><span class="o">,</span> <span class="kt">int</span> <span class="n">m</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>

	    	<span class="k">if</span> <span class="o">(</span><span class="n">m</span> <span class="o">&gt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
	        	<span class="k">return</span> <span class="nf">reverseBetween</span><span class="o">(</span><span class="n">head</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">m</span><span class="o">);</span>
	        <span class="o">}</span>

	    	<span class="kt">int</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="o">;</span>
	    	<span class="k">if</span> <span class="o">(</span><span class="n">diff</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
	    		<span class="k">return</span> <span class="n">head</span><span class="o">;</span>
	    	<span class="o">}</span>

	    	<span class="nc">ListNode</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

	    	<span class="c1">// set diff for both pointers</span>
	    	<span class="c1">// @note: corner case: n-m &gt; list-length</span>
	    	<span class="k">while</span> <span class="o">(</span><span class="n">diff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p1</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
	    		<span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    		<span class="n">diff</span><span class="o">--;</span>
	    	<span class="o">}</span>

	    	<span class="nc">ListNode</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ListNode</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
	    	<span class="n">dummy</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

	    	<span class="nc">ListNode</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">;</span>
	    	<span class="nc">ListNode</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

	    	<span class="kt">int</span> <span class="n">mm</span> <span class="o">=</span> <span class="n">m</span><span class="o">;</span>
	    	<span class="k">while</span> <span class="o">(</span><span class="n">mm</span> <span class="o">-</span> <span class="mi">1</span><span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
	    		<span class="n">prev</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    		<span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    		<span class="n">p2</span> <span class="o">=</span> <span class="n">p2</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>

	    		<span class="n">mm</span><span class="o">--;</span>
	    	<span class="o">}</span>

	    	<span class="nc">ListNode</span> <span class="n">nextRecord</span> <span class="o">=</span> <span class="n">p1</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    	<span class="n">diff</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="o">;</span>

	    	<span class="c1">// start reverse from p1 to p2</span>
	    	<span class="c1">// 1-&gt;2-&gt;3-&gt;4-&gt;5</span>
	    	<span class="nc">Stack</span><span class="o">&lt;</span><span class="nc">ListNode</span><span class="o">&gt;</span> <span class="n">sk</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">&lt;&gt;();</span>
	    	<span class="k">while</span> <span class="o">(</span><span class="n">p2</span> <span class="o">!=</span> <span class="n">p1</span><span class="o">.</span><span class="na">next</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// @note: here, when p1==p2 should enter loop</span>
	    		<span class="n">sk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">p2</span><span class="o">);</span>
	    		<span class="n">p2</span> <span class="o">=</span> <span class="n">p2</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    	<span class="o">}</span>

	    	<span class="k">while</span> <span class="o">(!</span><span class="n">sk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
	    		<span class="n">prev</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">sk</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
	    		<span class="n">prev</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    	<span class="o">}</span>

	    	<span class="n">prev</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">nextRecord</span><span class="o">;</span>

	    	<span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
	    <span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="err">############</span>

<span class="cm">/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">ListNode</span> <span class="nf">reverseBetween</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">head</span><span class="o">,</span> <span class="kt">int</span> <span class="n">left</span><span class="o">,</span> <span class="kt">int</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">head</span><span class="o">.</span><span class="na">next</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">head</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">ListNode</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ListNode</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">head</span><span class="o">);</span>
        <span class="nc">ListNode</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">ListNode</span> <span class="n">p</span> <span class="o">=</span> <span class="n">pre</span><span class="o">;</span>
        <span class="nc">ListNode</span> <span class="n">q</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
        <span class="nc">ListNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">q</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">ListNode</span> <span class="n">t</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="n">cur</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">;</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">p</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">;</span>
        <span class="n">q</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// OJ: https://leetcode.com/problems/reverse-linked-list-ii/</span>
<span class="c1">// Time: O(N)</span>
<span class="c1">// Space: O(1)</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">ListNode</span><span class="o">*</span> <span class="n">reverseBetween</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ListNode</span> <span class="n">dummy</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">dummy</span><span class="p">;</span>
        <span class="n">dummy</span><span class="p">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">,</span> <span class="n">tail</span> <span class="o">=</span> <span class="n">q</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">auto</span> <span class="n">node</span> <span class="o">=</span> <span class="n">q</span><span class="p">;</span>
            <span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
            <span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
            <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">q</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="n">next</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">reverseBetween</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">],</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">head</span><span class="p">.</span><span class="nb">next</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">head</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">head</span><span class="p">)</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">pre</span><span class="p">,</span> <span class="n">pre</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">q</span>
        <span class="c1"># +1, so when for loop done, 'cur' is at right's next node
</span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">pre</span>
            <span class="n">pre</span><span class="p">,</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">,</span> <span class="n">t</span>
        <span class="n">p</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">pre</span>
        <span class="c1"># p,q did not change by the for loop, but now pre at right(or called m) node, cur at right+1 node
</span>        <span class="n">q</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>

<span class="c1">############
</span>
<span class="k">class</span> <span class="nc">Solution_optimize</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">reverseBetween</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="n">prev</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">head</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">p</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="nb">next</span>

        <span class="n">original_first</span> <span class="o">=</span> <span class="n">p</span> <span class="c1"># this is anchor node always pointing to the next-to-be-swapped
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">current_head</span> <span class="o">=</span> <span class="n">prev</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">future_head</span> <span class="o">=</span> <span class="n">original_first</span><span class="p">.</span><span class="nb">next</span>
            
            <span class="n">prev</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">future_head</span>
            <span class="n">original_first</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">future_head</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">future_head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">current_head</span>

        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>

<span class="c1">############
</span>
<span class="c1"># Definition for singly-linked list.
# class ListNode(object):
#     def __init__(self, x):
#         self.val = x
#         self.next = None
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">reverseBetween</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="s">"""
    :type head: ListNode
    :type m: int
    :type n: int
    :rtype: ListNode
    """</span>

    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">prep</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
      <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span>
      <span class="n">pre</span> <span class="o">=</span> <span class="bp">None</span>
      <span class="nb">next</span> <span class="o">=</span> <span class="bp">None</span>
      <span class="k">while</span> <span class="n">cur</span> <span class="ow">and</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">pre</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="nb">next</span>
        <span class="n">k</span> <span class="o">-=</span> <span class="mi">1</span>
      <span class="n">root</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="nb">next</span>
      <span class="n">prep</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">pre</span>
      <span class="k">return</span> <span class="n">pre</span>

    <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">dummy</span>
    <span class="n">start</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">while</span> <span class="n">p</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">p</span>
      <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">reverse</span><span class="p">(</span><span class="n">start</span><span class="p">.</span><span class="nb">next</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>
      <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="nb">next</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c">/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */</span>
<span class="k">func</span> <span class="n">reverseBetween</span><span class="p">(</span><span class="n">head</span> <span class="o">*</span><span class="n">ListNode</span><span class="p">,</span> <span class="n">left</span> <span class="kt">int</span><span class="p">,</span> <span class="n">right</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="n">ListNode</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">head</span><span class="o">.</span><span class="n">Next</span> <span class="o">==</span> <span class="no">nil</span> <span class="o">||</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">head</span>
	<span class="p">}</span>
	<span class="n">dummy</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">ListNode</span><span class="p">{</span><span class="m">0</span><span class="p">,</span> <span class="n">head</span><span class="p">}</span>
	<span class="n">pre</span> <span class="o">:=</span> <span class="n">dummy</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">left</span><span class="o">-</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">Next</span>
	<span class="p">}</span>
	<span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">pre</span><span class="p">,</span> <span class="n">pre</span><span class="o">.</span><span class="n">Next</span>
	<span class="n">cur</span> <span class="o">:=</span> <span class="n">q</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="n">t</span> <span class="o">:=</span> <span class="n">cur</span><span class="o">.</span><span class="n">Next</span>
		<span class="n">cur</span><span class="o">.</span><span class="n">Next</span> <span class="o">=</span> <span class="n">pre</span>
		<span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span>
		<span class="n">cur</span> <span class="o">=</span> <span class="n">t</span>
	<span class="p">}</span>
	<span class="n">p</span><span class="o">.</span><span class="n">Next</span> <span class="o">=</span> <span class="n">pre</span>
	<span class="n">q</span><span class="o">.</span><span class="n">Next</span> <span class="o">=</span> <span class="n">cur</span>
	<span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="n">Next</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * class ListNode {
 *     val: number
 *     next: ListNode | null
 *     constructor(val?: number, next?: ListNode | null) {
 *         this.val = (val===undefined ? 0 : val)
 *         this.next = (next===undefined ? null : next)
 *     }
 * }
 */</span>

<span class="kd">function</span> <span class="nx">reverseBetween</span><span class="p">(</span>
    <span class="nx">head</span><span class="p">:</span> <span class="nx">ListNode</span> <span class="o">|</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">left</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
    <span class="nx">right</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
<span class="p">):</span> <span class="nx">ListNode</span> <span class="o">|</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">right</span> <span class="o">-</span> <span class="nx">left</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">head</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">const</span> <span class="nx">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">head</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">pre</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">cur</span> <span class="o">=</span> <span class="nx">dummy</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">left</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">pre</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
        <span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
    <span class="nx">pre</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="nx">cur</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
        <span class="nx">pre</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
        <span class="nx">cur</span> <span class="o">=</span> <span class="nx">next</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">h</span><span class="p">.</span><span class="nx">next</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
    <span class="nx">h</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">dummy</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-js highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * function ListNode(val, next) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.next = (next===undefined ? null : next)
 * }
 */</span>
<span class="cm">/**
 * @param {ListNode} head
 * @param {number} left
 * @param {number} right
 * @return {ListNode}
 */</span>
<span class="kd">var</span> <span class="nx">reverseBetween</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">head</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">head</span><span class="p">.</span><span class="nx">next</span> <span class="o">||</span> <span class="nx">left</span> <span class="o">==</span> <span class="nx">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">head</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">head</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">pre</span> <span class="o">=</span> <span class="nx">dummy</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">pre</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">cur</span> <span class="o">=</span> <span class="nx">q</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">right</span> <span class="o">-</span> <span class="nx">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
        <span class="nx">cur</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
        <span class="nx">pre</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
        <span class="nx">cur</span> <span class="o">=</span> <span class="nx">t</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">p</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
    <span class="nx">q</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">dummy</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>
<span class="p">};</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     public int val;
 *     public ListNode next;
 *     public ListNode(int val=0, ListNode next=null) {
 *         this.val = val;
 *         this.next = next;
 *     }
 * }
 */</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="k">public</span> <span class="n">ListNode</span> <span class="nf">ReverseBetween</span><span class="p">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">head</span><span class="p">.</span><span class="n">next</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">left</span> <span class="p">==</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">head</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">ListNode</span> <span class="n">dummy</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ListNode</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">head</span><span class="p">);</span>
        <span class="n">ListNode</span> <span class="n">pre</span> <span class="p">=</span> <span class="n">dummy</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">left</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">pre</span> <span class="p">=</span> <span class="n">pre</span><span class="p">.</span><span class="n">next</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">ListNode</span> <span class="n">p</span> <span class="p">=</span> <span class="n">pre</span><span class="p">;</span>
        <span class="n">ListNode</span> <span class="n">q</span> <span class="p">=</span> <span class="n">pre</span><span class="p">.</span><span class="n">next</span><span class="p">;</span>
        <span class="n">ListNode</span> <span class="n">cur</span> <span class="p">=</span> <span class="n">q</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">right</span> <span class="p">-</span> <span class="n">left</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ListNode</span> <span class="n">t</span> <span class="p">=</span> <span class="n">cur</span><span class="p">.</span><span class="n">next</span><span class="p">;</span>
            <span class="n">cur</span><span class="p">.</span><span class="n">next</span> <span class="p">=</span> <span class="n">pre</span><span class="p">;</span>
            <span class="n">pre</span> <span class="p">=</span> <span class="n">cur</span><span class="p">;</span>
            <span class="n">cur</span> <span class="p">=</span> <span class="n">t</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">p</span><span class="p">.</span><span class="n">next</span> <span class="p">=</span> <span class="n">pre</span><span class="p">;</span>
        <span class="n">q</span><span class="p">.</span><span class="n">next</span> <span class="p">=</span> <span class="n">cur</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="n">next</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1">// Definition for singly-linked list.</span>
<span class="c1">// #[derive(PartialEq, Eq, Clone, Debug)]</span>
<span class="c1">// pub struct ListNode {</span>
<span class="c1">//   pub val: i32,</span>
<span class="c1">//   pub next: Option&lt;Box&lt;ListNode&gt;&gt;</span>
<span class="c1">// }</span>
<span class="c1">//</span>
<span class="c1">// impl ListNode {</span>
<span class="c1">//   #[inline]</span>
<span class="c1">//   fn new(val: i32) -&gt; Self {</span>
<span class="c1">//     ListNode {</span>
<span class="c1">//       next: None,</span>
<span class="c1">//       val</span>
<span class="c1">//     }</span>
<span class="c1">//   }</span>
<span class="c1">// }</span>
<span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">reverse_between</span><span class="p">(</span><span class="n">head</span><span class="p">:</span> <span class="nb">Option</span><span class="o">&lt;</span><span class="nb">Box</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&gt;&gt;</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">i32</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">i32</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">Option</span><span class="o">&lt;</span><span class="nb">Box</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">dummy</span> <span class="o">=</span> <span class="nf">Some</span><span class="p">(</span><span class="nn">Box</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">ListNode</span> <span class="p">{</span> <span class="n">val</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">next</span><span class="p">:</span> <span class="n">head</span> <span class="p">}));</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">pre</span> <span class="o">=</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">dummy</span><span class="p">;</span>
        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="n">left</span> <span class="p">{</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">pre</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">pre</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span><span class="nf">.take</span><span class="p">();</span>
        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">{</span>
            <span class="k">let</span> <span class="k">mut</span> <span class="n">next</span> <span class="o">=</span> <span class="n">cur</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span><span class="nf">.take</span><span class="p">();</span>
            <span class="n">cur</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span> <span class="o">=</span> <span class="n">pre</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span><span class="nf">.take</span><span class="p">();</span>
            <span class="n">pre</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span> <span class="o">=</span> <span class="n">cur</span><span class="nf">.take</span><span class="p">();</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">next</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">{</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">pre</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">pre</span><span class="nf">.as_mut</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
        <span class="n">dummy</span><span class="nf">.unwrap</span><span class="p">()</span><span class="py">.next</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-92.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
