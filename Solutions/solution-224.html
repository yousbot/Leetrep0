<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-224.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-224.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>224 - Basic Calculator</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 224. Basic Calculator Description Given a string s representing a valid expression, implement a basic calculator to evaluate it, and return the result of the evaluation. Note: You are not allowed to use any built-in function which evaluates strings as mathematical expressions, such as eval()....">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-224.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-224.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-224.html" rel="stylesheet"/>
   <link href="solution-224.html" rel="stylesheet"/>
   <link href="solution-224.html" rel="stylesheet"/>
   <link href="solution-224.html" rel="stylesheet"/>
   <link href="solution-224.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="224 - Basic Calculator" property="og:title"/>
   <meta content="Leetcode 224. Basic Calculator Description Given a string s representing a valid expression, implement a basic calculator to evaluate it, and return the result of the evaluation. Note: You are not allowed to use any built-in function which evaluates strings as mathematical expressions, such as eval(). &amp;nbsp; Example 1: Input: s = &amp;quot;1 + 1&amp;quot; Output: 2 Example 2: Input: s = &amp;quot; 2-1 + 2 &amp;quot; Output: 3 Example 3: Input: s = &amp;quot;(1+(4+5+2)-3)+(6+8)&amp;quot; Output: 23 &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 3 * 105 s consists of digits, &amp;#39;+&amp;#39;, &amp;#39;-&amp;#39;, &amp;#39;(&amp;#39;, &amp;#39;)&amp;#39;, and &amp;#39; &amp;#39;. s represents a valid expression. &amp;#39;+&amp;#39; is not used as a unary operation (i.e., &amp;quot;+1&amp;quot; and &amp;quot;+(2 + 3)&amp;quot; is invalid). &amp;#39;-&amp;#39; could be used as a unary operation (i.e., &amp;quot;-1&amp;quot; and &amp;quot;-(2 + 3)&amp;quot; is valid). There will be no two consecutive operators in the input. Every number and running calculation will fit in a signed 32-bit integer. Solutions Solution 1: Stack We use a stack $stk$ to save the current calculation result and operator, a variable $sign$ to save the current sign, and a variable $ans$ to save the final calculation result. Next, we traverse each character of the string $s$: If the current character is a number, we use a loop to read the following consecutive numbers, and then add or subtract it to $ans$ according to the current sign. If the current character is '+', we change the variable $sign$ to positive. If the current character is '-', we change the variable $sign$ to negative. If the current character is '(', we push the current $ans$ and $sign$ into the stack, and reset them to empty and 1, and start to calculate the new $ans$ and $sign$. If the current character is ')', we pop the top two elements of the stack, one is the operator, and the other is the number calculated before the bracket. We multiply the current number by the operator, and add the previous number to get the new $ans$. After traversing the string $s$, we return $ans$. The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the string $s$. Java C++ Python Go TypeScript C# class Solution { public int calculate(String s) { Deque&amp;lt;Integer&amp;gt; stk = new ArrayDeque&amp;lt;&amp;gt;(); int sign = 1; int ans = 0; int n = s.length(); for (int i = 0; i &amp;lt; n; ++i) { char c = s.charAt(i); if (Character.isDigit(c)) { int j = i; int x = 0; while (j &amp;lt; n &amp;amp;&amp;amp; Character.isDigit(s.charAt(j))) { x = x * 10 + s.charAt(j) - '0'; j++; } ans += sign * x; i = j - 1; } else if (c == '+') { sign = 1; } else if (c == '-') { sign = -1; } else if (c == '(') { stk.push(ans); stk.push(sign); ans = 0; sign = 1; } else if (c == ')') { ans = stk.pop() * ans + stk.pop();..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-07-11T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-07-11-224-Basic-Calculator/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-224.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="224 - Basic Calculator" property="twitter:title"/>
   <meta content="Leetcode 224. Basic Calculator Description Given a string s representing a valid expression, implement a basic calculator to evaluate it, and return the result of the evaluation. Note: You are not allowed to use any built-in function which evaluates strings as mathematical expressions, such as eval(). &amp;nbsp; Example 1: Input: s = &amp;quot;1 + 1&amp;quot; Output: 2 Example 2: Input: s = &amp;quot; 2-1 + 2 &amp;quot; Output: 3 Example 3: Input: s = &amp;quot;(1+(4+5+2)-3)+(6+8)&amp;quot; Output: 23 &amp;nbsp; Constraints: 1 &amp;lt;= s.length &amp;lt;= 3 * 105 s consists of digits, &amp;#39;+&amp;#39;, &amp;#39;-&amp;#39;, &amp;#39;(&amp;#39;, &amp;#39;)&amp;#39;, and &amp;#39; &amp;#39;. s represents a valid expression. &amp;#39;+&amp;#39; is not used as a unary operation (i.e., &amp;quot;+1&amp;quot; and &amp;quot;+(2 + 3)&amp;quot; is invalid). &amp;#39;-&amp;#39; could be used as a unary operation (i.e., &amp;quot;-1&amp;quot; and &amp;quot;-(2 + 3)&amp;quot; is valid). There will be no two consecutive operators in the input. Every number and running calculation will fit in a signed 32-bit integer. Solutions Solution 1: Stack We use a stack $stk$ to save the current calculation result and operator, a variable $sign$ to save the current sign, and a variable $ans$ to save the final calculation result. Next, we traverse each character of the string $s$: If the current character is a number, we use a loop to read the following consecutive numbers, and then add or subtract it to $ans$ according to the current sign. If the current character is '+', we change the variable $sign$ to positive. If the current character is '-', we change the variable $sign$ to negative. If the current character is '(', we push the current $ans$ and $sign$ into the stack, and reset them to empty and 1, and start to calculate the new $ans$ and $sign$. If the current character is ')', we pop the top two elements of the stack, one is the operator, and the other is the number calculated before the bracket. We multiply the current number by the operator, and add the previous number to get the new $ans$. After traversing the string $s$, we return $ans$. The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the string $s$. Java C++ Python Go TypeScript C# class Solution { public int calculate(String s) { Deque&amp;lt;Integer&amp;gt; stk = new ArrayDeque&amp;lt;&amp;gt;(); int sign = 1; int ans = 0; int n = s.length(); for (int i = 0; i &amp;lt; n; ++i) { char c = s.charAt(i); if (Character.isDigit(c)) { int j = i; int x = 0; while (j &amp;lt; n &amp;amp;&amp;amp; Character.isDigit(s.charAt(j))) { x = x * 10 + s.charAt(j) - '0'; j++; } ans += sign * x; i = j - 1; } else if (c == '+') { sign = 1; } else if (c == '-') { sign = -1; } else if (c == '(') { stk.push(ans); stk.push(sign); ans = 0; sign = 1; } else if (c == ')') { ans = stk.pop() * ans + stk.pop();..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    224 - Basic Calculator | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="224 - Basic Calculator" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-224.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-07-11-224-Basic-Calculator/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-07-11T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"224 - Basic Calculator","dateModified":"2016-07-11T00:00:00-07:00","datePublished":"2016-07-11T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-07-11-224-Basic-Calculator/"},"url":"https://leetcode.ca/2016-07-11-224-Basic-Calculator/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="224-basic-calculator">
       <a href="solution-224.html">
        224. Basic Calculator
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given a string
       <code>
        s
       </code>
       representing a valid expression, implement a basic calculator to evaluate it, and return
       <em>
        the result of the evaluation
       </em>
       .
      </p>
      <p>
       <strong>
        Note:
       </strong>
       You are
       <strong>
        not
       </strong>
       allowed to use any built-in function which evaluates strings as mathematical expressions, such as
       <code>
        eval()
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "1 + 1"
<strong>Output:</strong> 2
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = " 2-1 + 2 "
<strong>Output:</strong> 3
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> s = "(1+(4+5+2)-3)+(6+8)"
<strong>Output:</strong> 23
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= s.length &lt;= 3 * 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         s
        </code>
        consists of digits,
        <code>
         '+'
        </code>
        ,
        <code>
         '-'
        </code>
        ,
        <code>
         '('
        </code>
        ,
        <code>
         ')'
        </code>
        , and
        <code>
         ' '
        </code>
        .
       </li>
       <li>
        <code>
         s
        </code>
        represents a valid expression.
       </li>
       <li>
        <code>
         '+'
        </code>
        is
        <strong>
         not
        </strong>
        used as a unary operation (i.e.,
        <code>
         "+1"
        </code>
        and
        <code>
         "+(2 + 3)"
        </code>
        is invalid).
       </li>
       <li>
        <code>
         '-'
        </code>
        could be used as a unary operation (i.e.,
        <code>
         "-1"
        </code>
        and
        <code>
         "-(2 + 3)"
        </code>
        is valid).
       </li>
       <li>
        There will be no two consecutive operators in the input.
       </li>
       <li>
        Every number and running calculation will fit in a signed 32-bit integer.
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Stack
       </strong>
      </p>
      <p>
       We use a stack $stk$ to save the current calculation result and operator, a variable $sign$ to save the current sign, and a variable $ans$ to save the final calculation result.
      </p>
      <p>
       Next, we traverse each character of the string $s$:
      </p>
      <ul>
       <li>
        If the current character is a number, we use a loop to read the following consecutive numbers, and then add or subtract it to $ans$ according to the current sign.
       </li>
       <li>
        If the current character is
        <code class="language-plaintext highlighter-rouge">
         '+'
        </code>
        , we change the variable $sign$ to positive.
       </li>
       <li>
        If the current character is
        <code class="language-plaintext highlighter-rouge">
         '-'
        </code>
        , we change the variable $sign$ to negative.
       </li>
       <li>
        If the current character is
        <code class="language-plaintext highlighter-rouge">
         '('
        </code>
        , we push the current $ans$ and $sign$ into the stack, and reset them to empty and 1, and start to calculate the new $ans$ and $sign$.
       </li>
       <li>
        If the current character is
        <code class="language-plaintext highlighter-rouge">
         ')'
        </code>
        , we pop the top two elements of the stack, one is the operator, and the other is the number calculated before the bracket. We multiply the current number by the operator, and add the previous number to get the new $ans$.
       </li>
      </ul>
      <p>
       After traversing the string $s$, we return $ans$.
      </p>
      <p>
       The time complexity is $O(n)$, and the space complexity is $O(n)$, where $n$ is the length of the string $s$.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#8021fc5f-7ab5-431b-907b-db28ebfbbcf9'}">
       <li class="uk-active">
        <a href="solution-224.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-224.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-224.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-224.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-224.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-224.html">
         C#
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="8021fc5f-7ab5-431b-907b-db28ebfbbcf9">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">calculate</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span> <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="nc">Character</span><span class="o">.</span><span class="na">isDigit</span><span class="o">(</span><span class="n">c</span><span class="o">))</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="k">while</span> <span class="o">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="nc">Character</span><span class="o">.</span><span class="na">isDigit</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)))</span> <span class="o">{</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
                    <span class="n">j</span><span class="o">++;</span>
                <span class="o">}</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">x</span><span class="o">;</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'+'</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'('</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">ans</span><span class="o">);</span>
                <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">sign</span><span class="o">);</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">')'</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">()</span> <span class="o">*</span> <span class="n">ans</span> <span class="o">+</span> <span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">calculate</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">stk</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">isdigit</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">isdigit</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span> <span class="p">{</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">);</span>
                    <span class="o">++</span><span class="n">j</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">x</span><span class="p">;</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'+'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'-'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'('</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">sign</span><span class="p">);</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">')'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">ans</span> <span class="o">*=</span> <span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="c1"># only + and - , no * , no / 
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">calculate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">stk</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ans</span><span class="p">,</span> <span class="n">sign</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
                <span class="c1"># with this while, no need to do final calculation like below solution
</span>                <span class="k">while</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
                    <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">x</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"+"</span><span class="p">:</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"-"</span><span class="p">:</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"("</span><span class="p">:</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span>
                <span class="n">ans</span><span class="p">,</span> <span class="n">sign</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">")"</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">*</span> <span class="n">ans</span> <span class="o">+</span> <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">ans</span>

<span class="c1">#############
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">calculate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">sign</span><span class="p">]</span>  <span class="c1"># stack[-1]: current env's sign
</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">c</span><span class="p">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="c1"># num = num * 10 + (ord(c) - ord('0')) =&gt; also works
</span>      <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'('</span><span class="p">:</span>
        <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span>
      <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">')'</span><span class="p">:</span>
        <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span> <span class="c1"># pop pairing sign for this () pair
</span>      <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'+'</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'-'</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">num</span>
        <span class="n">sign</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'+'</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># after all + or -, the sign for current num
</span>        <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">ans</span> <span class="o">+</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">num</span> <span class="c1"># final calculation
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">calculate</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">ans</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">stk</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="n">sign</span> <span class="o">:=</span> <span class="m">1</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="k">switch</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">{</span>
		<span class="k">case</span> <span class="sc">' '</span><span class="o">:</span>
		<span class="k">case</span> <span class="sc">'+'</span><span class="o">:</span>
			<span class="n">sign</span> <span class="o">=</span> <span class="m">1</span>
		<span class="k">case</span> <span class="sc">'-'</span><span class="o">:</span>
			<span class="n">sign</span> <span class="o">=</span> <span class="o">-</span><span class="m">1</span>
		<span class="k">case</span> <span class="sc">'('</span><span class="o">:</span>
			<span class="n">stk</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">stk</span><span class="p">,</span> <span class="n">ans</span><span class="p">)</span>
			<span class="n">stk</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">stk</span><span class="p">,</span> <span class="n">sign</span><span class="p">)</span>
			<span class="n">ans</span><span class="p">,</span> <span class="n">sign</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span>
		<span class="k">case</span> <span class="sc">')'</span><span class="o">:</span>
			<span class="n">ans</span> <span class="o">*=</span> <span class="n">stk</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
			<span class="n">stk</span> <span class="o">=</span> <span class="n">stk</span><span class="p">[</span><span class="o">:</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
			<span class="n">ans</span> <span class="o">+=</span> <span class="n">stk</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
			<span class="n">stk</span> <span class="o">=</span> <span class="n">stk</span><span class="p">[</span><span class="o">:</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
		<span class="k">default</span><span class="o">:</span>
			<span class="n">x</span> <span class="o">:=</span> <span class="m">0</span>
			<span class="n">j</span> <span class="o">:=</span> <span class="n">i</span>
			<span class="k">for</span> <span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="sc">'0'</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="sc">'9'</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span> <span class="p">{</span>
				<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="m">10</span> <span class="o">+</span> <span class="kt">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="sc">'0'</span><span class="p">)</span>
			<span class="p">}</span>
			<span class="n">ans</span> <span class="o">+=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">x</span>
			<span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="m">1</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">calculate</span><span class="p">(</span><span class="nx">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">stk</span><span class="p">:</span> <span class="kr">number</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">+</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">(</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">stk</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ans</span><span class="p">);</span>
            <span class="nx">stk</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">sign</span><span class="p">);</span>
            <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">)</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ans</span> <span class="o">*=</span> <span class="nx">stk</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span> <span class="k">as</span> <span class="kr">number</span><span class="p">;</span>
            <span class="nx">ans</span> <span class="o">+=</span> <span class="nx">stk</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span> <span class="k">as</span> <span class="kr">number</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="p">]))</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">;</span> <span class="o">++</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
            <span class="p">}</span>
            <span class="nx">ans</span> <span class="o">+=</span> <span class="nx">sign</span> <span class="o">*</span> <span class="nx">x</span><span class="p">;</span>
            <span class="nx">i</span> <span class="o">=</span> <span class="nx">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="nf">Calculate</span><span class="p">(</span><span class="kt">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">var</span> <span class="n">stk</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
        <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="p">=</span> <span class="n">s</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">==</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'+'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sign</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'-'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sign</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'('</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">stk</span><span class="p">.</span><span class="nf">Push</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span>
                <span class="n">stk</span><span class="p">.</span><span class="nf">Push</span><span class="p">(</span><span class="n">sign</span><span class="p">);</span>
                <span class="n">ans</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="n">sign</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">==</span> <span class="sc">')'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">ans</span> <span class="p">*=</span> <span class="n">stk</span><span class="p">.</span><span class="nf">Pop</span><span class="p">();</span>
                <span class="n">ans</span> <span class="p">+=</span> <span class="n">stk</span><span class="p">.</span><span class="nf">Pop</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">num</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="p">&lt;</span> <span class="n">n</span> <span class="p">&amp;&amp;</span> <span class="kt">char</span><span class="p">.</span><span class="nf">IsDigit</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="p">{</span>
                    <span class="n">num</span> <span class="p">=</span> <span class="n">num</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">-</span> <span class="sc">'0'</span><span class="p">;</span>
                    <span class="p">++</span><span class="n">i</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="p">--</span><span class="n">i</span><span class="p">;</span>
                <span class="n">ans</span> <span class="p">+=</span> <span class="n">sign</span> <span class="p">*</span> <span class="n">num</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-224.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
