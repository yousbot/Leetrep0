<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-84.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-84.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>84 - Largest Rectangle in Histogram</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 84. Largest Rectangle in Histogram Description Given an array of integers heights representing the histogram&amp;#39;s bar height where the width of each bar is 1, return the area of the largest rectangle in the histogram. &amp;nbsp; Example 1: Input: heights = [2,1,5,6,2,3] Output: 10 Explanation:...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-84.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-84.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-84.html" rel="stylesheet"/>
   <link href="solution-84.html" rel="stylesheet"/>
   <link href="solution-84.html" rel="stylesheet"/>
   <link href="solution-84.html" rel="stylesheet"/>
   <link href="solution-84.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="84 - Largest Rectangle in Histogram" property="og:title"/>
   <meta content="Leetcode 84. Largest Rectangle in Histogram Description Given an array of integers heights representing the histogram&amp;#39;s bar height where the width of each bar is 1, return the area of the largest rectangle in the histogram. &amp;nbsp; Example 1: Input: heights = [2,1,5,6,2,3] Output: 10 Explanation: The above is a histogram where width of each bar is 1. The largest rectangle is shown in the red area, which has an area = 10 units. Example 2: Input: heights = [2,4] Output: 4 &amp;nbsp; Constraints: 1 &amp;lt;= heights.length &amp;lt;= 105 0 &amp;lt;= heights[i] &amp;lt;= 104 Solutions Solution 1: Monotonic Stack We can enumerate the height $h$ of each bar as the height of the rectangle. Using a monotonic stack, we find the index $left_i$, $right_i$ of the first bar with a height less than $h$ to the left and right. The area of the rectangle at this time is $h \times (right_i-left_i-1)$. We can find the maximum value. The time complexity is $O(n)$, and the space complexity is $O(n)$. Here, $n$ represents the length of $heights$. Common model of monotonic stack: Find the nearest number to the left/right of each number that is larger/smaller than it. Template: stk = [] for i in range(n): while stk and check(stk[-1], i): stk.pop() stk.append(i) keyword: âEliminate the shadowâ, that is, the lowest bar is the length of a side Intuitively, the area of the two bars depends on the shortest and lowest bar among them. My own doubt is if it is [1,2,3,4,1,2,3,4]. How to prove that the first 1 and last 4 restricted rectangles will definitely not be the largest? Because the stack only maintains the current one, note that there is only one, an increasing sequence. Simplified to [1,2,1,2], then the maximum area is the area 4 formed by the first 1 and the last 2 So the key is that the push and pop conditions of the stack must ensure that the lowest bar is always in the stack. Extend to eg. [3,1,2,1,2], the largest area also comes from the area formed by the first and last bar at 5. Because the lowest one will always be in the stack, and the stack will eventually pop to empty, The last pop is the smallest bar. At this time, the shortest bar is multiplied by the length from the first to the last. The whole question will be clear if you understand this: int currentWidth = sk.isEmpty()? i: (i-1-sk.peek()); sk.peek() is definitely the essence of the quintessence, to find the width of the largest rectangle, I wrote i-currentIndex at the beginning, but I ignored the situation when counting 4 in 2, 8, 8, 4, 6, 8. There are two 88 in front of 4, that is, the width should be from the first 8 to the last 8. At this time, to find this width, you need sk.peek() to find the previous small index There is another pit, which is the application of dummy end, which has the..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2016-02-22T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2016-02-22-84-Largest-Rectangle-in-Histogram/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-84.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="84 - Largest Rectangle in Histogram" property="twitter:title"/>
   <meta content="Leetcode 84. Largest Rectangle in Histogram Description Given an array of integers heights representing the histogram&amp;#39;s bar height where the width of each bar is 1, return the area of the largest rectangle in the histogram. &amp;nbsp; Example 1: Input: heights = [2,1,5,6,2,3] Output: 10 Explanation: The above is a histogram where width of each bar is 1. The largest rectangle is shown in the red area, which has an area = 10 units. Example 2: Input: heights = [2,4] Output: 4 &amp;nbsp; Constraints: 1 &amp;lt;= heights.length &amp;lt;= 105 0 &amp;lt;= heights[i] &amp;lt;= 104 Solutions Solution 1: Monotonic Stack We can enumerate the height $h$ of each bar as the height of the rectangle. Using a monotonic stack, we find the index $left_i$, $right_i$ of the first bar with a height less than $h$ to the left and right. The area of the rectangle at this time is $h \times (right_i-left_i-1)$. We can find the maximum value. The time complexity is $O(n)$, and the space complexity is $O(n)$. Here, $n$ represents the length of $heights$. Common model of monotonic stack: Find the nearest number to the left/right of each number that is larger/smaller than it. Template: stk = [] for i in range(n): while stk and check(stk[-1], i): stk.pop() stk.append(i) keyword: âEliminate the shadowâ, that is, the lowest bar is the length of a side Intuitively, the area of the two bars depends on the shortest and lowest bar among them. My own doubt is if it is [1,2,3,4,1,2,3,4]. How to prove that the first 1 and last 4 restricted rectangles will definitely not be the largest? Because the stack only maintains the current one, note that there is only one, an increasing sequence. Simplified to [1,2,1,2], then the maximum area is the area 4 formed by the first 1 and the last 2 So the key is that the push and pop conditions of the stack must ensure that the lowest bar is always in the stack. Extend to eg. [3,1,2,1,2], the largest area also comes from the area formed by the first and last bar at 5. Because the lowest one will always be in the stack, and the stack will eventually pop to empty, The last pop is the smallest bar. At this time, the shortest bar is multiplied by the length from the first to the last. The whole question will be clear if you understand this: int currentWidth = sk.isEmpty()? i: (i-1-sk.peek()); sk.peek() is definitely the essence of the quintessence, to find the width of the largest rectangle, I wrote i-currentIndex at the beginning, but I ignored the situation when counting 4 in 2, 8, 8, 4, 6, 8. There are two 88 in front of 4, that is, the width should be from the first 8 to the last 8. At this time, to find this width, you need sk.peek() to find the previous small index There is another pit, which is the application of dummy end, which has the..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    84 - Largest Rectangle in Histogram | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="84 - Largest Rectangle in Histogram" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-84.html" rel="canonical">
          <meta content="https://leetcode.ca/2016-02-22-84-Largest-Rectangle-in-Histogram/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2016-02-22T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"84 - Largest Rectangle in Histogram","dateModified":"2016-02-22T00:00:00-08:00","datePublished":"2016-02-22T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2016-02-22-84-Largest-Rectangle-in-Histogram/"},"url":"https://leetcode.ca/2016-02-22-84-Largest-Rectangle-in-Histogram/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="84-largest-rectangle-in-histogram">
       <a href="solution-84.html">
        84. Largest Rectangle in Histogram
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Given an array of integers
       <code>
        heights
       </code>
       representing the histogram's bar height where the width of each bar is
       <code>
        1
       </code>
       , return
       <em>
        the area of the largest rectangle in the histogram
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0000-0099/0084.Largest%20Rectangle%20in%20Histogram/images/histogram.jpg" style="width: 522px; height: 242px;"/>
      </p>
      <pre>
<strong>Input:</strong> heights = [2,1,5,6,2,3]
<strong>Output:</strong> 10
<strong>Explanation:</strong> The above is a histogram where width of each bar is 1.
The largest rectangle is shown in the red area, which has an area = 10 units.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0000-0099/0084.Largest%20Rectangle%20in%20Histogram/images/histogram-1.jpg" style="width: 202px; height: 362px;"/>
      </p>
      <pre>
<strong>Input:</strong> heights = [2,4]
<strong>Output:</strong> 4
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= heights.length &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        <code>
         0 &lt;= heights[i] &lt;= 10
         <sup>
          4
         </sup>
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Monotonic Stack
       </strong>
      </p>
      <p>
       We can enumerate the height $h$ of each bar as the height of the rectangle. Using a monotonic stack, we find the index $left_i$, $right_i$ of the first bar with a height less than $h$ to the left and right. The area of the rectangle at this time is $h \times (right_i-left_i-1)$. We can find the maximum value.
      </p>
      <p>
       The time complexity is $O(n)$, and the space complexity is $O(n)$. Here, $n$ represents the length of $heights$.
      </p>
      <p>
       Common model of monotonic stack: Find the
       <strong>
        nearest
       </strong>
       number to the left/right of each number that is
       <strong>
        larger/smaller
       </strong>
       than it. Template:
      </p>
      <div class="language-python highlighter-rouge">
       <div class="highlight">
        <pre class="highlight"><code><span class="n">stk</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">stk</span> <span class="ow">and</span> <span class="n">check</span><span class="p">(</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">):</span>
        <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="n">stk</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre>
       </div>
      </div>
      <h3 id="keyword-eliminate-the-shadow-that-is-the-lowest-bar-is-the-length-of-a-side">
       keyword: âEliminate the shadowâ, that is, the lowest bar is the length of a side
      </h3>
      <p>
       Intuitively, the area of the two bars depends on the shortest and lowest bar among them.
      </p>
      <p>
       My own doubt is if it is
       <code class="language-plaintext highlighter-rouge">
        [1,2,3,4,1,2,3,4]
       </code>
       .
      </p>
      <p>
       How to prove that the first 1 and last 4 restricted rectangles will definitely not be the largest? Because the stack only maintains the current one, note that there is only one, an increasing sequence.
      </p>
      <p>
       Simplified to
       <code class="language-plaintext highlighter-rouge">
        [1,2,1,2]
       </code>
       , then the maximum area is the area 4 formed by the first 1 and the last 2
      </p>
      <ul>
       <li>
        So the key is that the push and pop conditions of the stack must ensure that the
        <code class="language-plaintext highlighter-rouge">
         lowest bar
        </code>
        is always in the stack.
       </li>
      </ul>
      <p>
       Extend to eg.
       <code class="language-plaintext highlighter-rouge">
        [3,1,2,1,2]
       </code>
       , the largest area also comes from the area formed by the first and last bar at 5.
      </p>
      <p>
       Because the lowest one will always be in the stack, and the stack will eventually pop to empty,
The last pop is the smallest bar. At this time, the shortest bar is multiplied by the length from the first to the last.
      </p>
      <p>
       The whole question will be clear if you understand this:
       <code class="language-plaintext highlighter-rouge">
        int currentWidth = sk.isEmpty()? i: (i-1-sk.peek());
       </code>
      </p>
      <p>
       <code class="language-plaintext highlighter-rouge">
        sk.peek()
       </code>
       is definitely the essence of the quintessence, to find the width of the largest rectangle, I wrote
       <code class="language-plaintext highlighter-rouge">
        i-currentIndex
       </code>
       at the beginning, but I ignored the situation when counting 4 in
       <code class="language-plaintext highlighter-rouge">
        2, 8, 8, 4, 6, 8
       </code>
       . There are two
       <code class="language-plaintext highlighter-rouge">
        88
       </code>
       in front of 4, that is, the width should be from the first 8 to the last 8.
At this time, to find this width, you need sk.peek() to find the previous small index
      </p>
      <p>
       There is another pit, which is the application of dummy end, which has the same effect as dummy head, allowing the for loop to start and run normally.
      </p>
      <p>
       <code class="language-plaintext highlighter-rouge">
        Arrays.copyOfRange(origin, start, end)
       </code>
       , if end exceeds the length of the origin array, 0 will be added automatically
      </p>
      <p>
       The best test case:
      </p>
      <ul>
       <li>
        2,1,2
       </li>
       <li>
        2,0,2
       </li>
       <li>
        2,0,2,1,2
       </li>
      </ul>
      <ul class="uk-tab" data-uk-switcher="{connect:'#54c33053-041d-4185-93a4-8cb9ef6399d8'}">
       <li class="uk-active">
        <a href="solution-84.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-84.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-84.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-84.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-84.html">
         C#
        </a>
       </li>
       <li>
        <a href="solution-84.html">
         RenderScript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="54c33053-041d-4185-93a4-8cb9ef6399d8">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">largestRectangleArea</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">heights</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">heights</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">left</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">right</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="nc">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="n">n</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(!</span><span class="n">stk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">heights</span><span class="o">[</span><span class="n">stk</span><span class="o">.</span><span class="na">peek</span><span class="o">()]</span> <span class="o">&gt;=</span> <span class="n">heights</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="o">{</span>
                <span class="n">right</span><span class="o">[</span><span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">()]</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">left</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">stk</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
            <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">res</span><span class="o">,</span> <span class="n">heights</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">*</span> <span class="o">(</span><span class="n">right</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="n">left</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">largestRectangleArea</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">heights</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">heights</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">stk</span><span class="p">;</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">left</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">right</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">stk</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">heights</span><span class="p">[</span><span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">()]</span> <span class="o">&gt;=</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
                <span class="n">right</span><span class="p">[</span><span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">()]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">stk</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
            <span class="n">stk</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-python highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="s">'''
æä¸¾æ¯æ ¹æ±å­çé«åº¦ h ä½ä¸ºç©å½¢çé«åº¦ï¼åå·¦å³ä¸¤è¾¹æ¾ç¬¬ä¸ä¸ªé«åº¦ å°äº(&lt;) h çä¸æ  left_i, right_i

é£ä¹æ­¤æ¶ç©å½¢é¢ç§¯ä¸º h * (right_i - left_i - 1)ï¼æ±æå¤§å¼å³å¯ã
'''</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">largestRectangleArea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
        <span class="n">stk</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">left</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
        <span class="n">right</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">heights</span><span class="p">):</span>
            <span class="k">while</span> <span class="n">stk</span> <span class="ow">and</span> <span class="n">heights</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">h</span><span class="p">:</span>
                <span class="n">right</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">stk</span><span class="p">:</span>
                <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># same as below: stk[-1] in 'i - stack[-1] - 1'
</span>            <span class="n">stk</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="c1"># valid for one element input [3]
</span>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">heights</span><span class="p">))</span>


<span class="c1">############
</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">largestRectangleArea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">heights</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">heights</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># make for loop running
</span>        <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">heights</span><span class="p">)):</span>
            <span class="k">while</span> <span class="n">stack</span> <span class="ow">and</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">heights</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]:</span>
                <span class="n">currentLowestBarIndex</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">h</span> <span class="o">=</span> <span class="n">heights</span><span class="p">[</span><span class="n">currentLowestBarIndex</span><span class="p">]</span>
                <span class="c1"># stack[-1] is after pop(). why not i-currentLowestBarIndex?
</span>                <span class="c1"># because not working for tie case in the stack,
</span>                <span class="c1"># eg. for input=[4,2,0,3,2,5], expected=6 but output=5
</span>                <span class="c1"># åå·¦å³ä¸¤è¾¹æ¾ç¬¬ä¸ä¸ªé«åº¦ å°äº(&lt;) h çä¸æ  left_i, right_i
</span>                <span class="c1">#   å¦ææ¯å·¦å³ä¸¤è¾¹é½æ¯ å¤§äº h çä¸æ ï¼é£ä¹å®½åº¦æ¯ right-left+1
</span>                <span class="c1">#   ä½æ¯è¿éæ¯ å°äº hçä¸æ ï¼right-left+1 æåµ åå·¦åå³ é½æå±ä¸ä¸ªindexï¼å¤äºä¸¤ä¸ªï¼+1 -2 å¾ -1
</span>                <span class="n">w</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">stack</span> <span class="k">else</span> <span class="n">i</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="n">w</span><span class="p">)</span>
            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="n">heights</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span> <span class="c1"># restore, pop -1
</span>        <span class="k">return</span> <span class="n">ans</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">largestRectangleArea</span><span class="p">(</span><span class="n">heights</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">res</span><span class="p">,</span> <span class="n">n</span> <span class="o">:=</span> <span class="m">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
	<span class="k">var</span> <span class="n">stk</span> <span class="p">[]</span><span class="kt">int</span>
	<span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">right</span> <span class="p">{</span>
		<span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">heights</span> <span class="p">{</span>
		<span class="k">for</span> <span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">heights</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">h</span> <span class="p">{</span>
			<span class="n">right</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>
			<span class="n">stk</span> <span class="o">=</span> <span class="n">stk</span><span class="p">[</span><span class="o">:</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
			<span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stk</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stk</span><span class="p">)</span><span class="o">-</span><span class="m">1</span><span class="p">]</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="m">1</span>
		<span class="p">}</span>
		<span class="n">stk</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">stk</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">heights</span> <span class="p">{</span>
		<span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">h</span><span class="o">*</span><span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="m">1</span><span class="p">))</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">res</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="nf">LargestRectangleArea</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">var</span> <span class="n">stack</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
        <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="p">&lt;</span> <span class="n">height</span><span class="p">.</span><span class="n">Length</span> <span class="p">||</span> <span class="n">stack</span><span class="p">.</span><span class="nf">Any</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">stack</span><span class="p">.</span><span class="nf">Any</span><span class="p">()</span> <span class="p">||</span> <span class="p">(</span><span class="n">i</span> <span class="p">&lt;</span> <span class="n">height</span><span class="p">.</span><span class="n">Length</span> <span class="p">&amp;&amp;</span> <span class="n">height</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="nf">Peek</span><span class="p">()]</span> <span class="p">&lt;</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
            <span class="p">{</span>
                <span class="n">stack</span><span class="p">.</span><span class="nf">Push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
                <span class="p">++</span><span class="n">i</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="kt">var</span> <span class="n">previousIndex</span> <span class="p">=</span> <span class="n">stack</span><span class="p">.</span><span class="nf">Pop</span><span class="p">();</span>
                <span class="kt">var</span> <span class="n">area</span> <span class="p">=</span> <span class="n">height</span><span class="p">[</span><span class="n">previousIndex</span><span class="p">]</span> <span class="p">*</span> <span class="p">(</span><span class="n">stack</span><span class="p">.</span><span class="nf">Any</span><span class="p">()</span> <span class="p">?</span> <span class="p">(</span><span class="n">i</span> <span class="p">-</span> <span class="n">stack</span><span class="p">.</span><span class="nf">Peek</span><span class="p">()</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">i</span><span class="p">);</span>
                <span class="n">result</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">area</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-rs highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">impl</span> <span class="n">Solution</span> <span class="p">{</span>
    <span class="nd">#[allow(dead_code)]</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">largest_rectangle_area</span><span class="p">(</span><span class="n">heights</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">i32</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">i32</span> <span class="p">{</span>
        <span class="k">let</span> <span class="n">n</span> <span class="o">=</span> <span class="n">heights</span><span class="nf">.len</span><span class="p">();</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">left</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">n</span><span class="p">];</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">right</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">n</span><span class="p">];</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">stack</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="p">(</span><span class="nb">usize</span><span class="p">,</span> <span class="nb">i32</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nn">Vec</span><span class="p">::</span><span class="nf">new</span><span class="p">();</span>
        <span class="k">let</span> <span class="k">mut</span> <span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

        <span class="c1">// Build left vector</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="k">in</span> <span class="n">heights</span><span class="nf">.iter</span><span class="p">()</span><span class="nf">.enumerate</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">while</span> <span class="o">!</span><span class="n">stack</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">stack</span><span class="nf">.last</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="na">.1</span> <span class="o">&gt;=</span> <span class="o">*</span><span class="n">h</span> <span class="p">{</span>
                <span class="n">stack</span><span class="nf">.pop</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">stack</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stack</span><span class="nf">.last</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="na">.0</span> <span class="k">as</span> <span class="nb">i32</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">stack</span><span class="nf">.push</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="o">*</span><span class="n">h</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="n">stack</span><span class="nf">.clear</span><span class="p">();</span>

        <span class="c1">// Build right vector</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="k">in</span> <span class="n">heights</span><span class="nf">.iter</span><span class="p">()</span><span class="nf">.enumerate</span><span class="p">()</span><span class="nf">.rev</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">while</span> <span class="o">!</span><span class="n">stack</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">stack</span><span class="nf">.last</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="na">.1</span> <span class="o">&gt;=</span> <span class="o">*</span><span class="n">h</span> <span class="p">{</span>
                <span class="n">stack</span><span class="nf">.pop</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">stack</span><span class="nf">.is_empty</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span> <span class="k">as</span> <span class="nb">i32</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stack</span><span class="nf">.last</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span><span class="na">.0</span> <span class="k">as</span> <span class="nb">i32</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">stack</span><span class="nf">.push</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="o">*</span><span class="n">h</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="c1">// Calculate the max area</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="k">in</span> <span class="n">heights</span><span class="nf">.iter</span><span class="p">()</span><span class="nf">.enumerate</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="nn">std</span><span class="p">::</span><span class="nn">cmp</span><span class="p">::</span><span class="nf">max</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">*</span><span class="n">h</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">ret</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-84.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
