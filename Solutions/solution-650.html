<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-650.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-650.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>650 - 2 Keys Keyboard</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 650. 2 Keys Keyboard Description There is only one character &amp;#39;A&amp;#39; on the screen of a notepad. You can perform one of two operations on this notepad for each step: Copy All: You can copy all the characters present on the screen (a partial copy...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-650.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-650.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-650.html" rel="stylesheet"/>
   <link href="solution-650.html" rel="stylesheet"/>
   <link href="solution-650.html" rel="stylesheet"/>
   <link href="solution-650.html" rel="stylesheet"/>
   <link href="solution-650.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="650 - 2 Keys Keyboard" property="og:title"/>
   <meta content="Leetcode 650. 2 Keys Keyboard Description There is only one character &amp;#39;A&amp;#39; on the screen of a notepad. You can perform one of two operations on this notepad for each step: Copy All: You can copy all the characters present on the screen (a partial copy is not allowed). Paste: You can paste the characters which are copied last time. Given an integer n, return the minimum number of operations to get the character &amp;#39;A&amp;#39; exactly n times on the screen. &amp;nbsp; Example 1: Input: n = 3 Output: 3 Explanation: Initially, we have one character &amp;#39;A&amp;#39;. In step 1, we use Copy All operation. In step 2, we use Paste operation to get &amp;#39;AA&amp;#39;. In step 3, we use Paste operation to get &amp;#39;AAA&amp;#39;. Example 2: Input: n = 1 Output: 0 &amp;nbsp; Constraints: 1 &amp;lt;= n &amp;lt;= 1000 Solutions These two keys are used to print out n A. Note that when copying, all are copied, and you cannot select parts to copy. Then copy and paste are both operation steps, ask how many steps are needed to print out n A. For this kind of problem with obvious recurrence characteristics, you must have a vague feeling, and you must try recursion and DP. Recursive solutions are generally close to brute force search, but sometimes they can be optimized to pass OJ. If recursion is not possible, then DP can be solved generally. Another point is that for this kind of problem, finding the pattern is the most important. DP must find the state transition equation, and if the inner connection cannot be found, then the state transition equation is more difficult to write. So, start with a simple example and try to find a pattern: When n = 1, there is already an A, no other operations are needed, return 0 When n = 2, need to copy once, paste once, return 2 When n = 3, you need to copy once and paste twice, return 3 When n = 4, there are two ways to do this, one is to copy once and paste three times, a total of 4 steps, the other is to copy once, paste once to get AA, then copy again, paste once to get AAAA, both methods return 4 When n = 5, you need to copy once, paste four times, and return to 5. When n = 6, you need to copy once and paste twice to get AAA, and copy again and paste once to get AAAAAA, 5 steps in total, return to 5. By analyzing the above 6 simple examples, we can conclude some rules. First of all, for any n (except 1), the worst case is to use n steps, no more than n steps, but it may be less than n steps. For example, when n=6, only 5 steps are used. After careful analysis, it is first spelled as AAA, and then copied and pasted to AAAAAA. So under what circumstances can..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2017-09-10T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2017-09-10-650-2-Keys-Keyboard/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-650.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="650 - 2 Keys Keyboard" property="twitter:title"/>
   <meta content="Leetcode 650. 2 Keys Keyboard Description There is only one character &amp;#39;A&amp;#39; on the screen of a notepad. You can perform one of two operations on this notepad for each step: Copy All: You can copy all the characters present on the screen (a partial copy is not allowed). Paste: You can paste the characters which are copied last time. Given an integer n, return the minimum number of operations to get the character &amp;#39;A&amp;#39; exactly n times on the screen. &amp;nbsp; Example 1: Input: n = 3 Output: 3 Explanation: Initially, we have one character &amp;#39;A&amp;#39;. In step 1, we use Copy All operation. In step 2, we use Paste operation to get &amp;#39;AA&amp;#39;. In step 3, we use Paste operation to get &amp;#39;AAA&amp;#39;. Example 2: Input: n = 1 Output: 0 &amp;nbsp; Constraints: 1 &amp;lt;= n &amp;lt;= 1000 Solutions These two keys are used to print out n A. Note that when copying, all are copied, and you cannot select parts to copy. Then copy and paste are both operation steps, ask how many steps are needed to print out n A. For this kind of problem with obvious recurrence characteristics, you must have a vague feeling, and you must try recursion and DP. Recursive solutions are generally close to brute force search, but sometimes they can be optimized to pass OJ. If recursion is not possible, then DP can be solved generally. Another point is that for this kind of problem, finding the pattern is the most important. DP must find the state transition equation, and if the inner connection cannot be found, then the state transition equation is more difficult to write. So, start with a simple example and try to find a pattern: When n = 1, there is already an A, no other operations are needed, return 0 When n = 2, need to copy once, paste once, return 2 When n = 3, you need to copy once and paste twice, return 3 When n = 4, there are two ways to do this, one is to copy once and paste three times, a total of 4 steps, the other is to copy once, paste once to get AA, then copy again, paste once to get AAAA, both methods return 4 When n = 5, you need to copy once, paste four times, and return to 5. When n = 6, you need to copy once and paste twice to get AAA, and copy again and paste once to get AAAAAA, 5 steps in total, return to 5. By analyzing the above 6 simple examples, we can conclude some rules. First of all, for any n (except 1), the worst case is to use n steps, no more than n steps, but it may be less than n steps. For example, when n=6, only 5 steps are used. After careful analysis, it is first spelled as AAA, and then copied and pasted to AAAAAA. So under what circumstances can..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    650 - 2 Keys Keyboard | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="650 - 2 Keys Keyboard" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-650.html" rel="canonical">
          <meta content="https://leetcode.ca/2017-09-10-650-2-Keys-Keyboard/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2017-09-10T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"650 - 2 Keys Keyboard","dateModified":"2017-09-10T00:00:00-07:00","datePublished":"2017-09-10T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2017-09-10-650-2-Keys-Keyboard/"},"url":"https://leetcode.ca/2017-09-10-650-2-Keys-Keyboard/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="650-2-keys-keyboard">
       <a href="solution-650.html">
        650. 2 Keys Keyboard
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       There is only one character
       <code>
        'A'
       </code>
       on the screen of a notepad. You can perform one of two operations on this notepad for each step:
      </p>
      <ul>
       <li>
        Copy All: You can copy all the characters present on the screen (a partial copy is not allowed).
       </li>
       <li>
        Paste: You can paste the characters which are copied last time.
       </li>
      </ul>
      <p>
       Given an integer
       <code>
        n
       </code>
       , return
       <em>
        the minimum number of operations to get the character
       </em>
       <code>
        'A'
       </code>
       <em>
        exactly
       </em>
       <code>
        n
       </code>
       <em>
        times on the screen
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> n = 3
<strong>Output:</strong> 3
<strong>Explanation:</strong> Initially, we have one character 'A'.
In step 1, we use Copy All operation.
In step 2, we use Paste operation to get 'AA'.
In step 3, we use Paste operation to get 'AAA'.
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> n = 1
<strong>Output:</strong> 0
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= n &lt;= 1000
        </code>
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       These two keys are used to print out n A. Note that when copying, all are copied, and you cannot select parts to copy. Then copy and paste are both operation steps, ask how many steps are needed to print out n A.
      </p>
      <p>
       For this kind of problem with obvious
       <code class="language-plaintext highlighter-rouge">
        recurrence
       </code>
       characteristics, you must have a vague feeling, and you must try
       <code class="language-plaintext highlighter-rouge">
        recursion
       </code>
       and
       <code class="language-plaintext highlighter-rouge">
        DP
       </code>
       . Recursive solutions are generally close to brute force search, but sometimes they can be optimized to pass OJ. If recursion is not possible, then DP can be solved generally.
      </p>
      <p>
       Another point is that for this kind of problem, finding the pattern is the most important. DP must find the state transition equation, and if the inner connection cannot be found, then the state transition equation is more difficult to write. So, start with a simple example and try to find a pattern:
      </p>
      <p>
       When
       <code class="language-plaintext highlighter-rouge">
        n = 1
       </code>
       , there is already an A, no other operations are needed, return 0
      </p>
      <p>
       When
       <code class="language-plaintext highlighter-rouge">
        n = 2
       </code>
       , need to
       <code class="language-plaintext highlighter-rouge">
        copy
       </code>
       once,
       <code class="language-plaintext highlighter-rouge">
        paste
       </code>
       once, return 2
      </p>
      <p>
       When
       <code class="language-plaintext highlighter-rouge">
        n = 3
       </code>
       , you need to
       <code class="language-plaintext highlighter-rouge">
        copy
       </code>
       once and
       <code class="language-plaintext highlighter-rouge">
        paste
       </code>
       twice, return 3
      </p>
      <p>
       When
       <code class="language-plaintext highlighter-rouge">
        n = 4
       </code>
       , there are two ways to do this,
      </p>
      <ul>
       <li>
        one is to
        <code class="language-plaintext highlighter-rouge">
         copy
        </code>
        once and
        <code class="language-plaintext highlighter-rouge">
         paste
        </code>
        three times, a total of 4 steps,
       </li>
       <li>
        the other is to
        <code class="language-plaintext highlighter-rouge">
         copy
        </code>
        once,
        <code class="language-plaintext highlighter-rouge">
         paste
        </code>
        once to get AA, then
        <code class="language-plaintext highlighter-rouge">
         copy
        </code>
        again, paste once to get AAAA, both methods return 4
       </li>
      </ul>
      <p>
       When
       <code class="language-plaintext highlighter-rouge">
        n = 5
       </code>
       , you need to
       <code class="language-plaintext highlighter-rouge">
        copy
       </code>
       once,
       <code class="language-plaintext highlighter-rouge">
        paste
       </code>
       four times, and return to 5.
      </p>
      <p>
       When
       <code class="language-plaintext highlighter-rouge">
        n = 6
       </code>
       , you need to
       <code class="language-plaintext highlighter-rouge">
        copy
       </code>
       once and
       <code class="language-plaintext highlighter-rouge">
        paste
       </code>
       twice to get AAA, and
       <code class="language-plaintext highlighter-rouge">
        copy
       </code>
       again and
       <code class="language-plaintext highlighter-rouge">
        paste
       </code>
       once to get
       <code class="language-plaintext highlighter-rouge">
        AAAAAA
       </code>
       , 5 steps in total, return to 5.
      </p>
      <p>
       By analyzing the above 6 simple examples, we can conclude some rules.
      </p>
      <ol>
       <li>
        First of all, for any n (except 1), the
        <code class="language-plaintext highlighter-rouge">
         worst case is to use n steps
        </code>
        , no more than n steps,
       </li>
       <li>
        but it may be less than n steps. For example, when n=6, only 5 steps are used. After careful analysis, it is first spelled as AAA, and then copied and pasted to AAAAAA.
       </li>
       <li>
        So under what circumstances can this method be used to reduce steps? Analysis found that the
        <code class="language-plaintext highlighter-rouge">
         length of the small module
        </code>
        must be
        <code class="language-plaintext highlighter-rouge">
         divisible
        </code>
        by
        <code class="language-plaintext highlighter-rouge">
         n
        </code>
        in order to be split. For
        <code class="language-plaintext highlighter-rouge">
         n=6
        </code>
        , we can actually print AA first, then copy and paste it twice, and get 5 again.
       </li>
      </ol>
      <p>
       At this point in the analysis, the idea of solving the problem should be clearer, find out all the
       <code class="language-plaintext highlighter-rouge">
        factors of n
       </code>
       , and then this
       <code class="language-plaintext highlighter-rouge">
        factor
       </code>
       can be used as the
       <code class="language-plaintext highlighter-rouge">
        number of modules
       </code>
       , and then calculate the length of the module
       <code class="language-plaintext highlighter-rouge">
        n/i
       </code>
       , call recursion, and add the number of modules i To update the result
       <code class="language-plaintext highlighter-rouge">
        res
       </code>
       .
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#620cf034-dce8-4dc3-ba82-8ff0f004e1ce'}">
       <li class="uk-active">
        <a href="solution-650.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-650.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-650.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-650.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="620cf034-dce8-4dc3-ba82-8ff0f004e1ce">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minSteps</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="n">i</span><span class="o">;</span>
                <span class="n">n</span> <span class="o">/=</span> <span class="n">i</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">minSteps</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">f</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span> <span class="o">/</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="n">i</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">ans</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minSteps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">i</span><span class="p">,</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># factor `i` can be used as the number of modules
</span>                    <span class="c1"># n // i, length of the module `n/i`
</span>                    <span class="n">ans</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">ans</span>

        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="c1">############
</span>
<span class="c1"># iteration
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minSteps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">while</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="n">i</span>
                <span class="n">n</span> <span class="o">//=</span> <span class="n">i</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">res</span>

<span class="c1">############
</span>
<span class="s">"""
1. group operations as ([^C][^V][^V]...[^V]) that has in total k operations and it gets k * # of A
2. n can be written as x_1 * x_2 * ... * x_N
3. then total operations # = x_1 + x_2 + ... + x_N
4. since p * q &gt;= p + q for integers &gt; 1, to min the result
5. decomposite x_1 to x_N to min the sum
"""</span>

<span class="s">'''
`yield` is a keyword that is used like return, except the function will return a generator.

https://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do-in-python
'''</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">_minSteps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="s">"""
    :type n: int
    :rtype: int
    """</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="k">return</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">((</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="bp">self</span><span class="p">.</span><span class="n">minSteps</span><span class="p">(</span><span class="n">n</span> <span class="o">/</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">n</span>

  <span class="k">def</span> <span class="nf">minSteps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">factor</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
      <span class="n">d</span> <span class="o">=</span> <span class="mi">2</span>
      <span class="k">while</span> <span class="n">d</span> <span class="o">*</span> <span class="n">d</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">n</span> <span class="o">%</span> <span class="n">d</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
          <span class="n">n</span> <span class="o">/=</span> <span class="n">d</span>
          <span class="k">yield</span> <span class="n">d</span>
        <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">n</span>

    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">factor</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">minSteps</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">f</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">f</span> <span class="p">{</span>
		<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="m">1</span>
	<span class="p">}</span>
	<span class="k">var</span> <span class="n">dfs</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span>
	<span class="n">dfs</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="m">1</span> <span class="p">{</span>
			<span class="k">return</span> <span class="m">0</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="m">1</span> <span class="p">{</span>
			<span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
		<span class="p">}</span>
		<span class="n">ans</span> <span class="o">:=</span> <span class="n">n</span>
		<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">2</span><span class="p">;</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
				<span class="n">ans</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="n">i</span><span class="p">)</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="n">ans</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-650.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
