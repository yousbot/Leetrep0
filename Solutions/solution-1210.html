<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1210.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1210.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1210 - Minimum Moves to Reach Target with Rotations</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1210. Minimum Moves to Reach Target with Rotations Description In an&amp;nbsp;n*n&amp;nbsp;grid, there is a snake that spans 2 cells and starts moving from the top left corner at (0, 0) and (0, 1). The grid has empty cells represented by zeros and blocked cells represented...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1210.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1210.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1210.html" rel="stylesheet"/>
   <link href="solution-1210.html" rel="stylesheet"/>
   <link href="solution-1210.html" rel="stylesheet"/>
   <link href="solution-1210.html" rel="stylesheet"/>
   <link href="solution-1210.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1210 - Minimum Moves to Reach Target with Rotations" property="og:title"/>
   <meta content="Leetcode 1210. Minimum Moves to Reach Target with Rotations Description In an&amp;nbsp;n*n&amp;nbsp;grid, there is a snake that spans 2 cells and starts moving from the top left corner at (0, 0) and (0, 1). The grid has empty cells represented by zeros and blocked cells represented by ones. The snake wants to reach the lower right corner at&amp;nbsp;(n-1, n-2)&amp;nbsp;and&amp;nbsp;(n-1, n-1). In one move the snake can: Move one cell to the right&amp;nbsp;if there are no blocked cells there. This move keeps the horizontal/vertical position of the snake as it is. Move down one cell&amp;nbsp;if there are no blocked cells there. This move keeps the horizontal/vertical position of the snake as it is. Rotate clockwise if it&amp;#39;s in a horizontal position and the two cells under it are both empty. In that case the snake moves from&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r, c+1)&amp;nbsp;to&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r+1, c). Rotate counterclockwise&amp;nbsp;if it&amp;#39;s in a vertical position and the two cells to its right are both empty. In that case the snake moves from&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r+1, c)&amp;nbsp;to&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r, c+1). Return the minimum number of moves to reach the target. If there is no way to reach the target, return&amp;nbsp;-1. &amp;nbsp; Example 1: Input: grid = [[0,0,0,0,0,1], [1,1,0,0,1,0], &amp;nbsp; [0,0,0,0,1,1], &amp;nbsp; [0,0,1,0,1,0], &amp;nbsp; [0,1,1,0,0,0], &amp;nbsp; [0,1,1,0,0,0]] Output: 11 Explanation: One possible solution is [right, right, rotate clockwise, right, down, down, down, down, rotate counterclockwise, right, down]. Example 2: Input: grid = [[0,0,1,1,1,1], &amp;nbsp; [0,0,0,0,1,1], &amp;nbsp; [1,1,0,0,0,1], &amp;nbsp; [1,1,1,0,0,1], &amp;nbsp; [1,1,1,0,0,1], &amp;nbsp; [1,1,1,0,0,0]] Output: 9 &amp;nbsp; Constraints: 2 &amp;lt;= n &amp;lt;= 100 0 &amp;lt;= grid[i][j] &amp;lt;= 1 It is guaranteed that the snake starts at empty cells. Solutions Solution 1: BFS The problem asks for the minimum number of moves for the snake to reach the target position from the starting position. We consider using Breadth-First Search (BFS) to solve it. We define the following data structures or variables: Queue $q$: Stores the current position of the snake. Each position is a tuple $(a, b)$, where $a$ represents the tail position of the snake, and $b$ represents the head position of the snake. Initially, we add the position $(0, 1)$ to the queue $q$. If we flatten the 2D maze into a 1D array, then the position $(0, 1)$ represents the two cells with indices $0$ and $1$ in the 1D array. Target position $target$: The value is fixed at $(n^2 - 2, n^2 - 1)$, which is the last two cells of the last row of the 2D maze. Array or set $vis$: Stores whether the current position state of the snake has been visited. Each state is a tuple $(a, status)$, where $a$ represents the tail position of the snake, and $status$ represents the current state of the snake, with values of $0$ or $1$, representing the horizontal and vertical states of the snake, respectively. Initially, add the state of the starting position $(0, 1)$ to the set $vis$. Answer variable $ans$: Stores the number of moves for the snake to reach the target position from the..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2019-03-24T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2019-03-24-1210-Minimum-Moves-to-Reach-Target-with-Rotations/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1210.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1210 - Minimum Moves to Reach Target with Rotations" property="twitter:title"/>
   <meta content="Leetcode 1210. Minimum Moves to Reach Target with Rotations Description In an&amp;nbsp;n*n&amp;nbsp;grid, there is a snake that spans 2 cells and starts moving from the top left corner at (0, 0) and (0, 1). The grid has empty cells represented by zeros and blocked cells represented by ones. The snake wants to reach the lower right corner at&amp;nbsp;(n-1, n-2)&amp;nbsp;and&amp;nbsp;(n-1, n-1). In one move the snake can: Move one cell to the right&amp;nbsp;if there are no blocked cells there. This move keeps the horizontal/vertical position of the snake as it is. Move down one cell&amp;nbsp;if there are no blocked cells there. This move keeps the horizontal/vertical position of the snake as it is. Rotate clockwise if it&amp;#39;s in a horizontal position and the two cells under it are both empty. In that case the snake moves from&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r, c+1)&amp;nbsp;to&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r+1, c). Rotate counterclockwise&amp;nbsp;if it&amp;#39;s in a vertical position and the two cells to its right are both empty. In that case the snake moves from&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r+1, c)&amp;nbsp;to&amp;nbsp;(r, c)&amp;nbsp;and&amp;nbsp;(r, c+1). Return the minimum number of moves to reach the target. If there is no way to reach the target, return&amp;nbsp;-1. &amp;nbsp; Example 1: Input: grid = [[0,0,0,0,0,1], [1,1,0,0,1,0], &amp;nbsp; [0,0,0,0,1,1], &amp;nbsp; [0,0,1,0,1,0], &amp;nbsp; [0,1,1,0,0,0], &amp;nbsp; [0,1,1,0,0,0]] Output: 11 Explanation: One possible solution is [right, right, rotate clockwise, right, down, down, down, down, rotate counterclockwise, right, down]. Example 2: Input: grid = [[0,0,1,1,1,1], &amp;nbsp; [0,0,0,0,1,1], &amp;nbsp; [1,1,0,0,0,1], &amp;nbsp; [1,1,1,0,0,1], &amp;nbsp; [1,1,1,0,0,1], &amp;nbsp; [1,1,1,0,0,0]] Output: 9 &amp;nbsp; Constraints: 2 &amp;lt;= n &amp;lt;= 100 0 &amp;lt;= grid[i][j] &amp;lt;= 1 It is guaranteed that the snake starts at empty cells. Solutions Solution 1: BFS The problem asks for the minimum number of moves for the snake to reach the target position from the starting position. We consider using Breadth-First Search (BFS) to solve it. We define the following data structures or variables: Queue $q$: Stores the current position of the snake. Each position is a tuple $(a, b)$, where $a$ represents the tail position of the snake, and $b$ represents the head position of the snake. Initially, we add the position $(0, 1)$ to the queue $q$. If we flatten the 2D maze into a 1D array, then the position $(0, 1)$ represents the two cells with indices $0$ and $1$ in the 1D array. Target position $target$: The value is fixed at $(n^2 - 2, n^2 - 1)$, which is the last two cells of the last row of the 2D maze. Array or set $vis$: Stores whether the current position state of the snake has been visited. Each state is a tuple $(a, status)$, where $a$ represents the tail position of the snake, and $status$ represents the current state of the snake, with values of $0$ or $1$, representing the horizontal and vertical states of the snake, respectively. Initially, add the state of the starting position $(0, 1)$ to the set $vis$. Answer variable $ans$: Stores the number of moves for the snake to reach the target position from the..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1210 - Minimum Moves to Reach Target with Rotations | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1210 - Minimum Moves to Reach Target with Rotations" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1210.html" rel="canonical">
          <meta content="https://leetcode.ca/2019-03-24-1210-Minimum-Moves-to-Reach-Target-with-Rotations/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2019-03-24T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1210 - Minimum Moves to Reach Target with Rotations","dateModified":"2019-03-24T00:00:00-07:00","datePublished":"2019-03-24T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2019-03-24-1210-Minimum-Moves-to-Reach-Target-with-Rotations/"},"url":"https://leetcode.ca/2019-03-24-1210-Minimum-Moves-to-Reach-Target-with-Rotations/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1210-minimum-moves-to-reach-target-with-rotations">
       <a href="solution-1210.html">
        1210. Minimum Moves to Reach Target with Rotations
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       In an
       <code>
        n*n
       </code>
       grid, there is a snake that spans 2 cells and starts moving from the top left corner at
       <code>
        (0, 0)
       </code>
       and
       <code>
        (0, 1)
       </code>
       . The grid has empty cells represented by zeros and blocked cells represented by ones. The snake wants to reach the lower right corner at
       <code>
        (n-1, n-2)
       </code>
       and
       <code>
        (n-1, n-1)
       </code>
       .
      </p>
      <p>
       In one move the snake can:
      </p>
      <ul>
       <li>
        Move one cell to the right if there are no blocked cells there. This move keeps the horizontal/vertical position of the snake as it is.
       </li>
       <li>
        Move down one cell if there are no blocked cells there. This move keeps the horizontal/vertical position of the snake as it is.
       </li>
       <li>
        Rotate clockwise if it's in a horizontal position and the two cells under it are both empty. In that case the snake moves from
        <code>
         (r, c)
        </code>
        and
        <code>
         (r, c+1)
        </code>
        to
        <code>
         (r, c)
        </code>
        and
        <code>
         (r+1, c)
        </code>
        .
        <br/>
        <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1210.Minimum%20Moves%20to%20Reach%20Target%20with%20Rotations/images/image-2.png" style="width: 300px; height: 134px;"/>
       </li>
       <li>
        Rotate counterclockwise if it's in a vertical position and the two cells to its right are both empty. In that case the snake moves from
        <code>
         (r, c)
        </code>
        and
        <code>
         (r+1, c)
        </code>
        to
        <code>
         (r, c)
        </code>
        and
        <code>
         (r, c+1)
        </code>
        .
        <br/>
        <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1210.Minimum%20Moves%20to%20Reach%20Target%20with%20Rotations/images/image-1.png" style="width: 300px; height: 121px;"/>
       </li>
      </ul>
      <p>
       Return the minimum number of moves to reach the target.
      </p>
      <p>
       If there is no way to reach the target, return
       <code>
        -1
       </code>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <strong>
        <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1210.Minimum%20Moves%20to%20Reach%20Target%20with%20Rotations/images/image.png" style="width: 400px; height: 439px;"/>
       </strong>
      </p>
      <pre>
<strong>Input:</strong> grid = [[0,0,0,0,0,1],
               [1,1,0,0,1,0],
               [0,0,0,0,1,1],
               [0,0,1,0,1,0],
               [0,1,1,0,0,0],
               [0,1,1,0,0,0]]
<strong>Output:</strong> 11
<strong>Explanation:
</strong>One possible solution is [right, right, rotate clockwise, right, down, down, down, down, rotate counterclockwise, right, down].
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> grid = [[0,0,1,1,1,1],
               [0,0,0,0,1,1],
               [1,1,0,0,0,1],
               [1,1,1,0,0,1],
               [1,1,1,0,0,1],
               [1,1,1,0,0,0]]
<strong>Output:</strong> 9
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         2 &lt;= n &lt;= 100
        </code>
       </li>
       <li>
        <code>
         0 &lt;= grid[i][j] &lt;= 1
        </code>
       </li>
       <li>
        It is guaranteed that the snake starts at empty cells.
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: BFS
       </strong>
      </p>
      <p>
       The problem asks for the minimum number of moves for the snake to reach the target position from the starting position. We consider using Breadth-First Search (BFS) to solve it.
      </p>
      <p>
       We define the following data structures or variables:
      </p>
      <ul>
       <li>
        Queue $q$: Stores the current position of the snake. Each position is a tuple $(a, b)$, where $a$ represents the tail position of the snake, and $b$ represents the head position of the snake. Initially, we add the position $(0, 1)$ to the queue $q$. If we flatten the 2D maze into a 1D array, then the position $(0, 1)$ represents the two cells with indices $0$ and $1$ in the 1D array.
       </li>
       <li>
        Target position $target$: The value is fixed at $(n^2 - 2, n^2 - 1)$, which is the last two cells of the last row of the 2D maze.
       </li>
       <li>
        Array or set $vis$: Stores whether the current position state of the snake has been visited. Each state is a tuple $(a, status)$, where $a$ represents the tail position of the snake, and $status$ represents the current state of the snake, with values of $0$ or $1$, representing the horizontal and vertical states of the snake, respectively. Initially, add the state of the starting position $(0, 1)$ to the set $vis$.
       </li>
       <li>
        Answer variable $ans$: Stores the number of moves for the snake to reach the target position from the starting position. Initially, it is $0$.
       </li>
      </ul>
      <p>
       We use BFS to solve it. Each time we take a position from the queue $q$, we check whether the position is the target position $target$. If it is, we directly return the answer variable $ans$. If not, we add the next possible position of this position to the queue $q$ and add this position to $vis$. Note that the next position could be the horizontal or vertical state of the snake, and we need to judge them separately (see the following code comments). At the end of each round of search, the answer variable $ans$ increments by $1$.
      </p>
      <p>
       Finally, if the queue $q$ is empty, it means that it is impossible to reach the target position from the starting position, so return $-1$.
      </p>
      <p>
       The time complexity is $O(n^2)$, and the space complexity is $O(n^2)$. Here, $n$ is the number of rows or columns of the 2D maze.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#29565f72-15b3-488e-918a-aa011a490cf6'}">
       <li class="uk-active">
        <a href="solution-1210.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1210.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1210.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1210.html">
         Go
        </a>
       </li>
       <li>
        <a href="solution-1210.html">
         TypeScript
        </a>
       </li>
       <li>
        <a href="solution-1210.html">
         Javascript
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="29565f72-15b3-488e-918a-aa011a490cf6">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">n</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span><span class="o">[][]</span> <span class="n">vis</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minimumMoves</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">grid</span> <span class="o">=</span> <span class="n">grid</span><span class="o">;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="n">vis</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="o">][</span><span class="mi">2</span><span class="o">];</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">target</span> <span class="o">=</span> <span class="o">{</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="o">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">};</span>
        <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">});</span>
        <span class="n">vis</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">q</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">var</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">p</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="n">target</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="n">target</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="kt">int</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">/</span> <span class="n">n</span><span class="o">,</span> <span class="n">j1</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">%</span> <span class="n">n</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">/</span> <span class="n">n</span><span class="o">,</span> <span class="n">j2</span> <span class="o">=</span> <span class="n">p</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">%</span> <span class="n">n</span><span class="o">;</span>
                <span class="c1">// å°è¯åå³å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
                <span class="n">move</span><span class="o">(</span><span class="n">i1</span><span class="o">,</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">i2</span><span class="o">,</span> <span class="n">j2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
                <span class="c1">// å°è¯åä¸å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
                <span class="n">move</span><span class="o">(</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">j1</span><span class="o">,</span> <span class="n">i2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">j2</span><span class="o">);</span>
                <span class="c1">// å½åå¤äºæ°´å¹³ç¶æï¼ä¸ grid[i1 + 1][j2] æ éç¢ï¼å°è¯é¡ºæ¶éæè½¬90Â°</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="o">&amp;&amp;</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j2</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">move</span><span class="o">(</span><span class="n">i1</span><span class="o">,</span> <span class="n">j1</span><span class="o">,</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">j1</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="c1">// å½åå¤äºåç´ç¶æï¼ä¸ grid[i2][j1 + 1] æ éç¢ï¼å°è¯éæ¶éæè½¬90Â°</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">j1</span> <span class="o">==</span> <span class="n">j2</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i2</span><span class="o">][</span><span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">move</span><span class="o">(</span><span class="n">i1</span><span class="o">,</span> <span class="n">j1</span><span class="o">,</span> <span class="n">i1</span><span class="o">,</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="o">++</span><span class="n">ans</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">move</span><span class="o">(</span><span class="kt">int</span> <span class="n">i1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">i1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">i1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">i2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">i2</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j2</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j1</span><span class="o">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">i2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j2</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">status</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">vis</span><span class="o">[</span><span class="n">a</span><span class="o">][</span><span class="n">status</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i1</span><span class="o">][</span><span class="n">j1</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i2</span><span class="o">][</span><span class="n">j2</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">});</span>
                <span class="n">vis</span><span class="o">[</span><span class="n">a</span><span class="o">][</span><span class="n">status</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">minimumMoves</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">grid</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">auto</span> <span class="n">target</span> <span class="o">=</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
        <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="kt">bool</span> <span class="n">vis</span><span class="p">[</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
        <span class="n">memset</span><span class="p">(</span><span class="n">vis</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span> <span class="n">vis</span><span class="p">);</span>
        <span class="n">vis</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

        <span class="k">auto</span> <span class="n">move</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span> <span class="n">i1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">i2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j2</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">i1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">i2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">i2</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j2</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j1</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">i2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j2</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">status</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">status</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="n">j1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
                    <span class="n">vis</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">status</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">k</span><span class="p">;</span> <span class="o">--</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
                <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">auto</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">n</span><span class="p">,</span> <span class="n">j1</span> <span class="o">=</span> <span class="n">a</span> <span class="o">%</span> <span class="n">n</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">b</span> <span class="o">/</span> <span class="n">n</span><span class="p">,</span> <span class="n">j2</span> <span class="o">=</span> <span class="n">b</span> <span class="o">%</span> <span class="n">n</span><span class="p">;</span>
                <span class="c1">// å°è¯åå³å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
                <span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                <span class="c1">// å°è¯åä¸å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
                <span class="n">move</span><span class="p">(</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j2</span><span class="p">);</span>
                <span class="c1">// å½åå¤äºæ°´å¹³ç¶æï¼ä¸ grid[i1 + 1][j2] æ éç¢ï¼å°è¯é¡ºæ¶éæè½¬90Â°</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="o">&amp;&amp;</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j1</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="c1">// å½åå¤äºåç´ç¶æï¼ä¸ grid[i2][j1 + 1] æ éç¢ï¼å°è¯éæ¶éæè½¬90Â°</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">j1</span> <span class="o">==</span> <span class="n">j2</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="o">++</span><span class="n">ans</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minimumMoves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span><span class="p">):</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">j1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i2</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">j2</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">j2</span>
                <span class="n">status</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="k">else</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vis</span> <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="n">j1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
                    <span class="n">vis</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
        <span class="n">vis</span> <span class="o">=</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)):</span>
                <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">ans</span>
                <span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">=</span> <span class="n">a</span> <span class="o">//</span> <span class="n">n</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">n</span>
                <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span> <span class="o">=</span> <span class="n">b</span> <span class="o">//</span> <span class="n">n</span><span class="p">,</span> <span class="n">b</span> <span class="o">%</span> <span class="n">n</span>
                <span class="c1"># å°è¯åå³å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼
</span>                <span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="c1"># å°è¯åä¸å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼
</span>                <span class="n">move</span><span class="p">(</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j2</span><span class="p">)</span>
                <span class="c1"># å½åå¤äºæ°´å¹³ç¶æï¼ä¸ grid[i1 + 1][j2] æ éç¢ï¼å°è¯é¡ºæ¶éæè½¬90Â°
</span>                <span class="k">if</span> <span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="ow">and</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j1</span><span class="p">)</span>
                <span class="c1"># å½åå¤äºåç´ç¶æï¼ä¸ grid[i2][j1 + 1] æ éç¢ï¼å°è¯éæ¶éæè½¬90Â°
</span>                <span class="k">if</span> <span class="n">j1</span> <span class="o">==</span> <span class="n">j2</span> <span class="ow">and</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">minimumMoves</span><span class="p">(</span><span class="n">grid</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
	<span class="k">type</span> <span class="n">pair</span> <span class="k">struct</span><span class="p">{</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span> <span class="p">}</span>
	<span class="n">target</span> <span class="o">:=</span> <span class="n">pair</span><span class="p">{</span><span class="n">n</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="m">2</span><span class="p">,</span> <span class="n">n</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="m">1</span><span class="p">}</span>
	<span class="n">q</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">pair</span><span class="p">{</span><span class="n">pair</span><span class="p">{</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">}</span> <span class="p">}</span>
	<span class="n">vis</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][</span><span class="m">2</span><span class="p">]</span><span class="kt">bool</span><span class="p">,</span> <span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
	<span class="n">vis</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="no">true</span>

	<span class="n">move</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">i1</span> <span class="o">&gt;=</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">i1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">&gt;=</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">i2</span> <span class="o">&gt;=</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">i2</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j2</span> <span class="o">&gt;=</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">j2</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
			<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">i1</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="n">j1</span><span class="p">,</span> <span class="n">i2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="n">j2</span>
			<span class="n">status</span> <span class="o">:=</span> <span class="m">1</span>
			<span class="k">if</span> <span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="p">{</span>
				<span class="n">status</span> <span class="o">=</span> <span class="m">0</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">status</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="n">j1</span><span class="p">]</span> <span class="o">==</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
				<span class="n">q</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">pair</span><span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">})</span>
				<span class="n">vis</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">status</span><span class="p">]</span> <span class="o">=</span> <span class="no">true</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="n">ans</span> <span class="o">:=</span> <span class="m">0</span>
	<span class="k">for</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="k">for</span> <span class="n">k</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">);</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="o">--</span> <span class="p">{</span>
			<span class="n">p</span> <span class="o">:=</span> <span class="n">q</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
			<span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span>
			<span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="n">target</span> <span class="p">{</span>
				<span class="k">return</span> <span class="n">ans</span>
			<span class="p">}</span>
			<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">p</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">b</span>
			<span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">:=</span> <span class="n">a</span><span class="o">/</span><span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="o">%</span><span class="n">n</span>
			<span class="n">i2</span><span class="p">,</span> <span class="n">j2</span> <span class="o">:=</span> <span class="n">b</span><span class="o">/</span><span class="n">n</span><span class="p">,</span> <span class="n">b</span><span class="o">%</span><span class="n">n</span>
			<span class="c">// å°è¯åå³å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
			<span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
			<span class="c">// å°è¯åä¸å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
			<span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i2</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">j2</span><span class="p">)</span>
			<span class="c">// å½åå¤äºæ°´å¹³ç¶æï¼ä¸ grid[i1 + 1][j2] æ éç¢ï¼å°è¯é¡ºæ¶éæè½¬90Â°</span>
			<span class="k">if</span> <span class="n">i1</span> <span class="o">==</span> <span class="n">i2</span> <span class="o">&amp;&amp;</span> <span class="n">i1</span><span class="o">+</span><span class="m">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i1</span><span class="o">+</span><span class="m">1</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
				<span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i1</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">j1</span><span class="p">)</span>
			<span class="p">}</span>
			<span class="c">// å½åå¤äºåç´ç¶æï¼ä¸ grid[i2][j1 + 1] æ éç¢ï¼å°è¯éæ¶éæè½¬90Â°</span>
			<span class="k">if</span> <span class="n">j1</span> <span class="o">==</span> <span class="n">j2</span> <span class="o">&amp;&amp;</span> <span class="n">j1</span><span class="o">+</span><span class="m">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j1</span><span class="o">+</span><span class="m">1</span><span class="p">]</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
				<span class="n">move</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">ans</span><span class="o">++</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="o">-</span><span class="m">1</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-ts highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">function</span> <span class="nx">minimumMoves</span><span class="p">(</span><span class="nx">grid</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][]):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">target</span><span class="p">:</span> <span class="kr">number</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">n</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">q</span><span class="p">:</span> <span class="kr">number</span><span class="p">[][]</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]];</span>
    <span class="kd">const</span> <span class="nx">vis</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">n</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">false</span><span class="p">));</span>
    <span class="nx">vis</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">move</span> <span class="o">=</span> <span class="p">(</span><span class="nx">i1</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">j1</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">i2</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">j2</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">i1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">j1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">j1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">i2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i2</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">j2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">j2</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">+</span> <span class="nx">j1</span><span class="p">;</span>
            <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">i2</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">+</span> <span class="nx">j2</span><span class="p">;</span>
            <span class="kd">const</span> <span class="nx">status</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">===</span> <span class="nx">i2</span> <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">vis</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">status</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i1</span><span class="p">][</span><span class="nx">j1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i2</span><span class="p">][</span><span class="nx">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]);</span>
                <span class="nx">vis</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">status</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">k</span><span class="p">;</span> <span class="o">--</span><span class="nx">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">p</span><span class="p">:</span> <span class="kr">number</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kd">const</span> <span class="p">[</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">~~</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="nx">n</span><span class="p">),</span> <span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">%</span> <span class="nx">n</span><span class="p">];</span>
            <span class="kd">const</span> <span class="p">[</span><span class="nx">i2</span><span class="p">,</span> <span class="nx">j2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">~~</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="nx">n</span><span class="p">),</span> <span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">%</span> <span class="nx">n</span><span class="p">];</span>
            <span class="c1">// å°è¯åå³å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
            <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i2</span><span class="p">,</span> <span class="nx">j2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
            <span class="c1">// å°è¯åä¸å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
            <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j2</span><span class="p">);</span>
            <span class="c1">// å½åå¤äºæ°´å¹³ç¶æï¼ä¸ grid[i1 + 1][j2] æ éç¢ï¼å°è¯é¡ºæ¶éæè½¬90Â°</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">i1</span> <span class="o">==</span> <span class="nx">i2</span> <span class="o">&amp;&amp;</span> <span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="nx">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">// å½åå¤äºåç´ç¶æï¼ä¸ grid[i2][j1 + 1] æ éç¢ï¼å°è¯éæ¶éæè½¬90Â°</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">j1</span> <span class="o">==</span> <span class="nx">j2</span> <span class="o">&amp;&amp;</span> <span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i2</span><span class="p">][</span><span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="o">++</span><span class="nx">ans</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-js highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="cm">/**
 * @param {number[][]} grid
 * @return {number}
 */</span>
<span class="kd">var</span> <span class="nx">minimumMoves</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">grid</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">target</span> <span class="o">=</span> <span class="p">[</span><span class="nx">n</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">q</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]];</span>
    <span class="kd">const</span> <span class="nx">vis</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">n</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">false</span><span class="p">));</span>
    <span class="nx">vis</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">move</span> <span class="o">=</span> <span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i2</span><span class="p">,</span> <span class="nx">j2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">i1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">j1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">j1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">i2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i2</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">j2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">j2</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">+</span> <span class="nx">j1</span><span class="p">;</span>
            <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">i2</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">+</span> <span class="nx">j2</span><span class="p">;</span>
            <span class="kd">const</span> <span class="nx">status</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">===</span> <span class="nx">i2</span> <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">vis</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">status</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i1</span><span class="p">][</span><span class="nx">j1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i2</span><span class="p">][</span><span class="nx">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]);</span>
                <span class="nx">vis</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">status</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="kd">let</span> <span class="nx">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">k</span><span class="p">;</span> <span class="o">--</span><span class="nx">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">ans</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kd">const</span> <span class="p">[</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">~~</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="nx">n</span><span class="p">),</span> <span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">%</span> <span class="nx">n</span><span class="p">];</span>
            <span class="kd">const</span> <span class="p">[</span><span class="nx">i2</span><span class="p">,</span> <span class="nx">j2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">~~</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="nx">n</span><span class="p">),</span> <span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">%</span> <span class="nx">n</span><span class="p">];</span>
            <span class="c1">// å°è¯åå³å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
            <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i2</span><span class="p">,</span> <span class="nx">j2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
            <span class="c1">// å°è¯åä¸å¹³ç§»ï¼ä¿æèº«ä½æ°´å¹³/åç´ç¶æï¼</span>
            <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j2</span><span class="p">);</span>
            <span class="c1">// å½åå¤äºæ°´å¹³ç¶æï¼ä¸ grid[i1 + 1][j2] æ éç¢ï¼å°è¯é¡ºæ¶éæè½¬90Â°</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">i1</span> <span class="o">==</span> <span class="nx">i2</span> <span class="o">&amp;&amp;</span> <span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="nx">j2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">// å½åå¤äºåç´ç¶æï¼ä¸ grid[i2][j1 + 1] æ éç¢ï¼å°è¯éæ¶éæè½¬90Â°</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">j1</span> <span class="o">==</span> <span class="nx">j2</span> <span class="o">&amp;&amp;</span> <span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">i2</span><span class="p">][</span><span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">move</span><span class="p">(</span><span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span><span class="p">,</span> <span class="nx">i1</span><span class="p">,</span> <span class="nx">j1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="o">++</span><span class="nx">ans</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>

</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1210.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
