<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1273.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1273.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1273 - Delete Tree Nodes</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1273. Delete Tree Nodes Description A tree rooted at node 0 is given as follows: The number of nodes is nodes; The value of the ith node is value[i]; The parent of the ith node is parent[i]. Remove every subtree whose sum of values of...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1273.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1273.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1273.html" rel="stylesheet"/>
   <link href="solution-1273.html" rel="stylesheet"/>
   <link href="solution-1273.html" rel="stylesheet"/>
   <link href="solution-1273.html" rel="stylesheet"/>
   <link href="solution-1273.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1273 - Delete Tree Nodes" property="og:title"/>
   <meta content="Leetcode 1273. Delete Tree Nodes Description A tree rooted at node 0 is given as follows: The number of nodes is nodes; The value of the ith node is value[i]; The parent of the ith node is parent[i]. Remove every subtree whose sum of values of nodes is zero. Return the number of the remaining nodes in the tree. &amp;nbsp; Example 1: Input: nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-1] Output: 2 Example 2: Input: nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-2] Output: 6 &amp;nbsp; Constraints: 1 &amp;lt;= nodes &amp;lt;= 104 parent.length == nodes 0 &amp;lt;= parent[i] &amp;lt;= nodes - 1 parent[0] == -1 which indicates that 0 is the root. value.length == nodes -105 &amp;lt;= value[i] &amp;lt;= 105 The given input is guaranteed to represent a valid tree. Solutions Solution 1: DFS First, we convert the tree into a graph $g$, where $g[i]$ represents all the child nodes of node $i$. Then we design a function $dfs(i)$, which represents the number of nodes and the sum of the weights in the subtree rooted at node $i$. The answer is $dfs(0)[1]$. In this function, we recursively calculate the number of nodes and the sum of the weights in the subtree rooted at each child node $j$, and then accumulate these values. If the accumulated value is zero, we set the number of nodes in this subtree to zero. Finally, we return the number of nodes and the sum of the weights in the subtree rooted at node $i$. The time complexity is $O(n)$, and the space complexity is $O(n)$. Where $n$ is the number of nodes in the tree. Java C++ Python Go class Solution { private List&amp;lt;Integer&amp;gt;[] g; private int[] value; public int deleteTreeNodes(int nodes, int[] parent, int[] value) { g = new List[nodes]; Arrays.setAll(g, k -&amp;gt; new ArrayList&amp;lt;&amp;gt;()); for (int i = 1; i &amp;lt; nodes; ++i) { g[parent[i]].add(i); } this.value = value; return dfs(0)[1]; } private int[] dfs(int i) { int[] res = new int[] {value[i], 1}; for (int j : g[i]) { int[] t = dfs(j); res[0] += t[0]; res[1] += t[1]; } if (res[0] == 0) { res[1] = 0; } return res; } } class Solution { public: int deleteTreeNodes(int nodes, vector&amp;lt;int&amp;gt;&amp;amp; parent, vector&amp;lt;int&amp;gt;&amp;amp; value) { vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; g(nodes); for (int i = 1; i &amp;lt; nodes; ++i) { g[parent[i]].emplace_back(i); } function&amp;lt;pair&amp;lt;int, int&amp;gt;(int)&amp;gt; dfs = [&amp;amp;](int i) -&amp;gt; pair&amp;lt;int, int&amp;gt; { int s = value[i], m = 1; for (int j : g[i]) { auto [t, n] = dfs(j); s += t; m += n; } if (s == 0) { m = 0; } return pair&amp;lt;int, int&amp;gt;{s, m}; }; return dfs(0).second; } }; class Solution: def deleteTreeNodes(self, nodes: int, parent: List[int], value: List[int]) -&amp;gt; int: def dfs(i): s, m = value[i], 1 for j in g[i]: t, n = dfs(j) s += t m += n if s == 0: m = 0 return (s, m) g = defaultdict(list) for i in range(1, nodes): g[parent[i]].append(i) return..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2019-05-26T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2019-05-26-1273-Delete-Tree-Nodes/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1273.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1273 - Delete Tree Nodes" property="twitter:title"/>
   <meta content="Leetcode 1273. Delete Tree Nodes Description A tree rooted at node 0 is given as follows: The number of nodes is nodes; The value of the ith node is value[i]; The parent of the ith node is parent[i]. Remove every subtree whose sum of values of nodes is zero. Return the number of the remaining nodes in the tree. &amp;nbsp; Example 1: Input: nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-1] Output: 2 Example 2: Input: nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-2] Output: 6 &amp;nbsp; Constraints: 1 &amp;lt;= nodes &amp;lt;= 104 parent.length == nodes 0 &amp;lt;= parent[i] &amp;lt;= nodes - 1 parent[0] == -1 which indicates that 0 is the root. value.length == nodes -105 &amp;lt;= value[i] &amp;lt;= 105 The given input is guaranteed to represent a valid tree. Solutions Solution 1: DFS First, we convert the tree into a graph $g$, where $g[i]$ represents all the child nodes of node $i$. Then we design a function $dfs(i)$, which represents the number of nodes and the sum of the weights in the subtree rooted at node $i$. The answer is $dfs(0)[1]$. In this function, we recursively calculate the number of nodes and the sum of the weights in the subtree rooted at each child node $j$, and then accumulate these values. If the accumulated value is zero, we set the number of nodes in this subtree to zero. Finally, we return the number of nodes and the sum of the weights in the subtree rooted at node $i$. The time complexity is $O(n)$, and the space complexity is $O(n)$. Where $n$ is the number of nodes in the tree. Java C++ Python Go class Solution { private List&amp;lt;Integer&amp;gt;[] g; private int[] value; public int deleteTreeNodes(int nodes, int[] parent, int[] value) { g = new List[nodes]; Arrays.setAll(g, k -&amp;gt; new ArrayList&amp;lt;&amp;gt;()); for (int i = 1; i &amp;lt; nodes; ++i) { g[parent[i]].add(i); } this.value = value; return dfs(0)[1]; } private int[] dfs(int i) { int[] res = new int[] {value[i], 1}; for (int j : g[i]) { int[] t = dfs(j); res[0] += t[0]; res[1] += t[1]; } if (res[0] == 0) { res[1] = 0; } return res; } } class Solution { public: int deleteTreeNodes(int nodes, vector&amp;lt;int&amp;gt;&amp;amp; parent, vector&amp;lt;int&amp;gt;&amp;amp; value) { vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; g(nodes); for (int i = 1; i &amp;lt; nodes; ++i) { g[parent[i]].emplace_back(i); } function&amp;lt;pair&amp;lt;int, int&amp;gt;(int)&amp;gt; dfs = [&amp;amp;](int i) -&amp;gt; pair&amp;lt;int, int&amp;gt; { int s = value[i], m = 1; for (int j : g[i]) { auto [t, n] = dfs(j); s += t; m += n; } if (s == 0) { m = 0; } return pair&amp;lt;int, int&amp;gt;{s, m}; }; return dfs(0).second; } }; class Solution: def deleteTreeNodes(self, nodes: int, parent: List[int], value: List[int]) -&amp;gt; int: def dfs(i): s, m = value[i], 1 for j in g[i]: t, n = dfs(j) s += t m += n if s == 0: m = 0 return (s, m) g = defaultdict(list) for i in range(1, nodes): g[parent[i]].append(i) return..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1273 - Delete Tree Nodes | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1273 - Delete Tree Nodes" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1273.html" rel="canonical">
          <meta content="https://leetcode.ca/2019-05-26-1273-Delete-Tree-Nodes/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2019-05-26T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1273 - Delete Tree Nodes","dateModified":"2019-05-26T00:00:00-07:00","datePublished":"2019-05-26T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2019-05-26-1273-Delete-Tree-Nodes/"},"url":"https://leetcode.ca/2019-05-26-1273-Delete-Tree-Nodes/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1273-delete-tree-nodes">
       <a href="solution-1273.html">
        1273. Delete Tree Nodes
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       A tree rooted at node 0 is given as follows:
      </p>
      <ul>
       <li>
        The number of nodes is
        <code>
         nodes
        </code>
        ;
       </li>
       <li>
        The value of the
        <code>
         i
         <sup>
          th
         </sup>
        </code>
        node is
        <code>
         value[i]
        </code>
        ;
       </li>
       <li>
        The parent of the
        <code>
         i
         <sup>
          th
         </sup>
        </code>
        node is
        <code>
         parent[i]
        </code>
        .
       </li>
      </ul>
      <p>
       Remove every subtree whose sum of values of nodes is zero.
      </p>
      <p>
       Return
       <em>
        the number of the remaining nodes in the tree
       </em>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <p>
       <img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1273.Delete%20Tree%20Nodes/images/1421_sample_1.png" style="width: 403px; height: 347px;"/>
      </p>
      <pre>
<strong>Input:</strong> nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-1]
<strong>Output:</strong> 2
</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-2]
<strong>Output:</strong> 6
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= nodes &lt;= 10
         <sup>
          4
         </sup>
        </code>
       </li>
       <li>
        <code>
         parent.length == nodes
        </code>
       </li>
       <li>
        <code>
         0 &lt;= parent[i] &lt;= nodes - 1
        </code>
       </li>
       <li>
        <code>
         parent[0] == -1
        </code>
        which indicates that
        <code>
         0
        </code>
        is the root.
       </li>
       <li>
        <code>
         value.length == nodes
        </code>
       </li>
       <li>
        <code>
         -10
         <sup>
          5
         </sup>
         &lt;= value[i] &lt;= 10
         <sup>
          5
         </sup>
        </code>
       </li>
       <li>
        The given input is
        <strong>
         guaranteed
        </strong>
        to represent a
        <strong>
         valid tree
        </strong>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: DFS
       </strong>
      </p>
      <p>
       First, we convert the tree into a graph $g$, where $g[i]$ represents all the child nodes of node $i$.
      </p>
      <p>
       Then we design a function $dfs(i)$, which represents the number of nodes and the sum of the weights in the subtree rooted at node $i$. The answer is $dfs(0)[1]$.
      </p>
      <p>
       In this function, we recursively calculate the number of nodes and the sum of the weights in the subtree rooted at each child node $j$, and then accumulate these values. If the accumulated value is zero, we set the number of nodes in this subtree to zero. Finally, we return the number of nodes and the sum of the weights in the subtree rooted at node $i$.
      </p>
      <p>
       The time complexity is $O(n)$, and the space complexity is $O(n)$. Where $n$ is the number of nodes in the tree.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#fd1ac17c-9948-451f-8467-ad662abfb9e5'}">
       <li class="uk-active">
        <a href="solution-1273.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1273.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1273.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1273.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="fd1ac17c-9948-451f-8467-ad662abfb9e5">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;[]</span> <span class="n">g</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">value</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">deleteTreeNodes</span><span class="o">(</span><span class="kt">int</span> <span class="n">nodes</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">parent</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">g</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">List</span><span class="o">[</span><span class="n">nodes</span><span class="o">];</span>
        <span class="nc">Arrays</span><span class="o">.</span><span class="na">setAll</span><span class="o">(</span><span class="n">g</span><span class="o">,</span> <span class="n">k</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;());</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nodes</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">g</span><span class="o">[</span><span class="n">parent</span><span class="o">[</span><span class="n">i</span><span class="o">]].</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="mi">0</span><span class="o">)[</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">value</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="mi">1</span><span class="o">};</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">:</span> <span class="n">g</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">t</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
            <span class="n">res</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">t</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
            <span class="n">res</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">+=</span> <span class="n">t</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">res</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">res</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">deleteTreeNodes</span><span class="p">(</span><span class="kt">int</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">parent</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">(</span><span class="n">nodes</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nodes</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">g</span><span class="p">[</span><span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">function</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">dfs</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">:</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">auto</span> <span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="n">t</span><span class="p">;</span>
                <span class="n">m</span> <span class="o">+=</span> <span class="n">n</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">{</span><span class="n">s</span><span class="p">,</span> <span class="n">m</span><span class="p">};</span>
        <span class="p">};</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">second</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteTreeNodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">s</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">t</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="n">t</span>
                <span class="n">m</span> <span class="o">+=</span> <span class="n">n</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>

        <span class="n">g</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">nodes</span><span class="p">):</span>
            <span class="n">g</span><span class="p">[</span><span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">deleteTreeNodes</span><span class="p">(</span><span class="n">nodes</span> <span class="kt">int</span><span class="p">,</span> <span class="n">parent</span> <span class="p">[]</span><span class="kt">int</span><span class="p">,</span> <span class="n">value</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="n">g</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][]</span><span class="kt">int</span><span class="p">,</span> <span class="n">nodes</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nodes</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="n">g</span><span class="p">[</span><span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">i</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="k">type</span> <span class="n">pair</span> <span class="k">struct</span><span class="p">{</span> <span class="n">s</span><span class="p">,</span> <span class="n">n</span> <span class="kt">int</span> <span class="p">}</span>
	<span class="k">var</span> <span class="n">dfs</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">pair</span>
	<span class="n">dfs</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="n">pair</span> <span class="p">{</span>
		<span class="n">s</span><span class="p">,</span> <span class="n">m</span> <span class="o">:=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">1</span>
		<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">j</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">{</span>
			<span class="n">t</span> <span class="o">:=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
			<span class="n">s</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">s</span>
			<span class="n">m</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">n</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
			<span class="n">m</span> <span class="o">=</span> <span class="m">0</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="n">pair</span><span class="p">{</span><span class="n">s</span><span class="p">,</span> <span class="n">m</span><span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="m">0</span><span class="p">)</span><span class="o">.</span><span class="n">n</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1273.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
