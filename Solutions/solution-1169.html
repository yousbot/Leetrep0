<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-1169.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-1169.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>1169 - Invalid Transactions</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 1169. Invalid Transactions Description A transaction is possibly invalid if: the amount exceeds $1000, or; if it occurs within (and including) 60 minutes of another transaction with the same name in a different city. You are given an array of strings transaction where transactions[i] consists...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-1169.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-1169.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-1169.html" rel="stylesheet"/>
   <link href="solution-1169.html" rel="stylesheet"/>
   <link href="solution-1169.html" rel="stylesheet"/>
   <link href="solution-1169.html" rel="stylesheet"/>
   <link href="solution-1169.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="1169 - Invalid Transactions" property="og:title"/>
   <meta content='Leetcode 1169. Invalid Transactions Description A transaction is possibly invalid if: the amount exceeds $1000, or; if it occurs within (and including) 60 minutes of another transaction with the same name in a different city. You are given an array of strings transaction where transactions[i] consists of comma-separated values representing the name, time (in minutes), amount, and city of the transaction. Return a list of transactions that are possibly invalid. You may return the answer in any order. &amp;nbsp; Example 1: Input: transactions = [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;alice,50,100,beijing&amp;quot;] Output: [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;alice,50,100,beijing&amp;quot;] Explanation: The first transaction is invalid because the second transaction occurs within a difference of 60 minutes, have the same name and is in a different city. Similarly the second one is invalid too. Example 2: Input: transactions = [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;alice,50,1200,mtv&amp;quot;] Output: [&amp;quot;alice,50,1200,mtv&amp;quot;] Example 3: Input: transactions = [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;bob,50,1200,mtv&amp;quot;] Output: [&amp;quot;bob,50,1200,mtv&amp;quot;] &amp;nbsp; Constraints: transactions.length &amp;lt;= 1000 Each transactions[i] takes the form &amp;quot;{name},{time},{amount},{city}&amp;quot; Each {name} and {city} consist of lowercase English letters, and have lengths between 1 and 10. Each {time} consist of digits, and represent an integer between 0 and 1000. Each {amount} consist of digits, and represent an integer between 0 and 2000. Solutions Solution 1: Hash Table + Simulation We traverse the transaction list. For each transaction, if the amount is greater than 1000, or if the transaction has the same name but different cities and the time interval does not exceed 60 minutes, then add it to the answer. Specifically, we use a hash table d to record each transaction, where the key is the transaction name, and the value is a list. Each element in the list is a tuple (time, city, index), indicating that a transaction with the number index was conducted in the city city at the moment time. At the same time, we use a hash table idx to record the transaction number in the answer. We traverse the transaction list. For each transaction, we first add it to the hash table d, and then judge whether its amount is greater than 1000. If so, add its number to the answer. Then we traverse the transactions in the hash table d. If the transaction names are the same but the cities are different and the time interval does not exceed 60 minutes, add its number to the answer. Finally, we traverse the transaction numbers in the answer and add the corresponding transactions to the answer. The time complexity is $O(n^2)$, and the space complexity is $O(n)$. Here, $n$ is the length of the transaction list. Java C++ Python Go class Solution { public List&amp;lt;String&amp;gt; invalidTransactions(String[] transactions) { Map&amp;lt;String, List&amp;lt;Item&amp;gt;&amp;gt; d = new HashMap&amp;lt;&amp;gt;(); Set&amp;lt;Integer&amp;gt; idx = new HashSet&amp;lt;&amp;gt;(); for (int i = 0; i &amp;lt; transactions.length; ++i) { var e = transactions[i].split(","); String name = e[0]; int time = Integer.parseInt(e[1]); int amount = Integer.parseInt(e[2]); String city = e[3]; d.computeIfAbsent(name, k -&amp;gt; new ArrayList&amp;lt;&amp;gt;()).add(new Item(time, city, i)); if (amount &amp;gt; 1000) { idx.add(i); } for (Item item : d.get(name)) { if (!city.equals(item.city) &amp;amp;&amp;amp; Math.abs(time...' property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2019-02-11T00:00:00-08:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2019-02-11-1169-Invalid-Transactions/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-1169.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="1169 - Invalid Transactions" property="twitter:title"/>
   <meta content='Leetcode 1169. Invalid Transactions Description A transaction is possibly invalid if: the amount exceeds $1000, or; if it occurs within (and including) 60 minutes of another transaction with the same name in a different city. You are given an array of strings transaction where transactions[i] consists of comma-separated values representing the name, time (in minutes), amount, and city of the transaction. Return a list of transactions that are possibly invalid. You may return the answer in any order. &amp;nbsp; Example 1: Input: transactions = [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;alice,50,100,beijing&amp;quot;] Output: [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;alice,50,100,beijing&amp;quot;] Explanation: The first transaction is invalid because the second transaction occurs within a difference of 60 minutes, have the same name and is in a different city. Similarly the second one is invalid too. Example 2: Input: transactions = [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;alice,50,1200,mtv&amp;quot;] Output: [&amp;quot;alice,50,1200,mtv&amp;quot;] Example 3: Input: transactions = [&amp;quot;alice,20,800,mtv&amp;quot;,&amp;quot;bob,50,1200,mtv&amp;quot;] Output: [&amp;quot;bob,50,1200,mtv&amp;quot;] &amp;nbsp; Constraints: transactions.length &amp;lt;= 1000 Each transactions[i] takes the form &amp;quot;{name},{time},{amount},{city}&amp;quot; Each {name} and {city} consist of lowercase English letters, and have lengths between 1 and 10. Each {time} consist of digits, and represent an integer between 0 and 1000. Each {amount} consist of digits, and represent an integer between 0 and 2000. Solutions Solution 1: Hash Table + Simulation We traverse the transaction list. For each transaction, if the amount is greater than 1000, or if the transaction has the same name but different cities and the time interval does not exceed 60 minutes, then add it to the answer. Specifically, we use a hash table d to record each transaction, where the key is the transaction name, and the value is a list. Each element in the list is a tuple (time, city, index), indicating that a transaction with the number index was conducted in the city city at the moment time. At the same time, we use a hash table idx to record the transaction number in the answer. We traverse the transaction list. For each transaction, we first add it to the hash table d, and then judge whether its amount is greater than 1000. If so, add its number to the answer. Then we traverse the transactions in the hash table d. If the transaction names are the same but the cities are different and the time interval does not exceed 60 minutes, add its number to the answer. Finally, we traverse the transaction numbers in the answer and add the corresponding transactions to the answer. The time complexity is $O(n^2)$, and the space complexity is $O(n)$. Here, $n$ is the length of the transaction list. Java C++ Python Go class Solution { public List&amp;lt;String&amp;gt; invalidTransactions(String[] transactions) { Map&amp;lt;String, List&amp;lt;Item&amp;gt;&amp;gt; d = new HashMap&amp;lt;&amp;gt;(); Set&amp;lt;Integer&amp;gt; idx = new HashSet&amp;lt;&amp;gt;(); for (int i = 0; i &amp;lt; transactions.length; ++i) { var e = transactions[i].split(","); String name = e[0]; int time = Integer.parseInt(e[1]); int amount = Integer.parseInt(e[2]); String city = e[3]; d.computeIfAbsent(name, k -&amp;gt; new ArrayList&amp;lt;&amp;gt;()).add(new Item(time, city, i)); if (amount &amp;gt; 1000) { idx.add(i); } for (Item item : d.get(name)) { if (!city.equals(item.city) &amp;amp;&amp;amp; Math.abs(time...' property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    1169 - Invalid Transactions | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="1169 - Invalid Transactions" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-1169.html" rel="canonical">
          <meta content="https://leetcode.ca/2019-02-11-1169-Invalid-Transactions/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2019-02-11T00:00:00-08:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"1169 - Invalid Transactions","dateModified":"2019-02-11T00:00:00-08:00","datePublished":"2019-02-11T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2019-02-11-1169-Invalid-Transactions/"},"url":"https://leetcode.ca/2019-02-11-1169-Invalid-Transactions/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="1169-invalid-transactions">
       <a href="solution-1169.html">
        1169. Invalid Transactions
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       A transaction is possibly invalid if:
      </p>
      <ul>
       <li>
        the amount exceeds
        <code>
         $1000
        </code>
        , or;
       </li>
       <li>
        if it occurs within (and including)
        <code>
         60
        </code>
        minutes of another transaction with the
        <strong>
         same name
        </strong>
        in a
        <strong>
         different city
        </strong>
        .
       </li>
      </ul>
      <p>
       You are given an array of strings
       <code>
        transaction
       </code>
       where
       <code>
        transactions[i]
       </code>
       consists of comma-separated values representing the name, time (in minutes), amount, and city of the transaction.
      </p>
      <p>
       Return a list of
       <code>
        transactions
       </code>
       that are possibly invalid. You may return the answer in
       <strong>
        any order
       </strong>
       .
      </p>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> transactions = ["alice,20,800,mtv","alice,50,100,beijing"]
<strong>Output:</strong> ["alice,20,800,mtv","alice,50,100,beijing"]
<strong>Explanation:</strong> The first transaction is invalid because the second transaction occurs within a difference of 60 minutes, have the same name and is in a different city. Similarly the second one is invalid too.</pre>
      <p>
       <strong class="example">
        Example 2:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> transactions = ["alice,20,800,mtv","alice,50,1200,mtv"]
<strong>Output:</strong> ["alice,50,1200,mtv"]
</pre>
      <p>
       <strong class="example">
        Example 3:
       </strong>
      </p>
      <pre>
<strong>Input:</strong> transactions = ["alice,20,800,mtv","bob,50,1200,mtv"]
<strong>Output:</strong> ["bob,50,1200,mtv"]
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         transactions.length &lt;= 1000
        </code>
       </li>
       <li>
        Each
        <code>
         transactions[i]
        </code>
        takes the form
        <code>
         "{name},{time},{amount},{city}"
        </code>
       </li>
       <li>
        Each
        <code>
         {name}
        </code>
        and
        <code>
         {city}
        </code>
        consist of lowercase English letters, and have lengths between
        <code>
         1
        </code>
        and
        <code>
         10
        </code>
        .
       </li>
       <li>
        Each
        <code>
         {time}
        </code>
        consist of digits, and represent an integer between
        <code>
         0
        </code>
        and
        <code>
         1000
        </code>
        .
       </li>
       <li>
        Each
        <code>
         {amount}
        </code>
        consist of digits, and represent an integer between
        <code>
         0
        </code>
        and
        <code>
         2000
        </code>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <p>
       <strong>
        Solution 1: Hash Table + Simulation
       </strong>
      </p>
      <p>
       We traverse the transaction list. For each transaction, if the amount is greater than 1000, or if the transaction has the same name but different cities and the time interval does not exceed 60 minutes, then add it to the answer.
      </p>
      <p>
       Specifically, we use a hash table
       <code class="language-plaintext highlighter-rouge">
        d
       </code>
       to record each transaction, where the key is the transaction name, and the value is a list. Each element in the list is a tuple
       <code class="language-plaintext highlighter-rouge">
        (time, city, index)
       </code>
       , indicating that a transaction with the number
       <code class="language-plaintext highlighter-rouge">
        index
       </code>
       was conducted in the city
       <code class="language-plaintext highlighter-rouge">
        city
       </code>
       at the moment
       <code class="language-plaintext highlighter-rouge">
        time
       </code>
       . At the same time, we use a hash table
       <code class="language-plaintext highlighter-rouge">
        idx
       </code>
       to record the transaction number in the answer.
      </p>
      <p>
       We traverse the transaction list. For each transaction, we first add it to the hash table
       <code class="language-plaintext highlighter-rouge">
        d
       </code>
       , and then judge whether its amount is greater than 1000. If so, add its number to the answer. Then we traverse the transactions in the hash table
       <code class="language-plaintext highlighter-rouge">
        d
       </code>
       . If the transaction names are the same but the cities are different and the time interval does not exceed 60 minutes, add its number to the answer.
      </p>
      <p>
       Finally, we traverse the transaction numbers in the answer and add the corresponding transactions to the answer.
      </p>
      <p>
       The time complexity is $O(n^2)$, and the space complexity is $O(n)$. Here, $n$ is the length of the transaction list.
      </p>
      <ul class="uk-tab" data-uk-switcher="{connect:'#941535b7-277d-4ffc-9b9e-6fcadfcfd8d5'}">
       <li class="uk-active">
        <a href="solution-1169.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-1169.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-1169.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-1169.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="941535b7-277d-4ffc-9b9e-6fcadfcfd8d5">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">invalidTransactions</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">transactions</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">idx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">transactions</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">var</span> <span class="n">e</span> <span class="o">=</span> <span class="n">transactions</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
            <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">e</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">time</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">e</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
            <span class="kt">int</span> <span class="n">amount</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">e</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
            <span class="nc">String</span> <span class="n">city</span> <span class="o">=</span> <span class="n">e</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>
            <span class="n">d</span><span class="o">.</span><span class="na">computeIfAbsent</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">k</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;()).</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Item</span><span class="o">(</span><span class="n">time</span><span class="o">,</span> <span class="n">city</span><span class="o">,</span> <span class="n">i</span><span class="o">));</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">idx</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">for</span> <span class="o">(</span><span class="nc">Item</span> <span class="n">item</span> <span class="o">:</span> <span class="n">d</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">name</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">city</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">city</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">time</span> <span class="o">-</span> <span class="n">item</span><span class="o">.</span><span class="na">t</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="mi">60</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">idx</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                    <span class="n">idx</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">i</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">:</span> <span class="n">idx</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">transactions</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Item</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">t</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">city</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">i</span><span class="o">;</span>

    <span class="nc">Item</span><span class="o">(</span><span class="kt">int</span> <span class="n">t</span><span class="o">,</span> <span class="nc">String</span> <span class="n">city</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">city</span> <span class="o">=</span> <span class="n">city</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">invalidTransactions</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">transactions</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="p">;</span>
        <span class="n">unordered_set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">idx</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">transactions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">e</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="n">transactions</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="sc">','</span><span class="p">);</span>
            <span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
            <span class="kt">int</span> <span class="n">time</span> <span class="o">=</span> <span class="n">stoi</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
            <span class="kt">int</span> <span class="n">amount</span> <span class="o">=</span> <span class="n">stoi</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
            <span class="n">string</span> <span class="n">city</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
            <span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">].</span><span class="n">push_back</span><span class="p">({</span><span class="n">time</span><span class="p">,</span> <span class="n">city</span><span class="p">,</span> <span class="n">i</span><span class="p">});</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">idx</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">:</span> <span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="n">city</span> <span class="o">&amp;&amp;</span> <span class="n">abs</span><span class="p">(</span><span class="n">time</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">idx</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
                    <span class="n">idx</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">:</span> <span class="n">idx</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">transactions</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">split</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="kt">char</span> <span class="n">delim</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">stringstream</span> <span class="n">ss</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
        <span class="n">string</span> <span class="n">item</span><span class="p">;</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">res</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">delim</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">res</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">invalidTransactions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transactions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">transactions</span><span class="p">):</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">city</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">","</span><span class="p">)</span>
            <span class="n">time</span><span class="p">,</span> <span class="n">amount</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
            <span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">].</span><span class="n">append</span><span class="p">((</span><span class="n">time</span><span class="p">,</span> <span class="n">city</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
                <span class="n">idx</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">city</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">time</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">60</span><span class="p">:</span>
                    <span class="n">idx</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                    <span class="n">idx</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">transactions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idx</span><span class="p">]</span>

</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">func</span> <span class="n">invalidTransactions</span><span class="p">(</span><span class="n">transactions</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">ans</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">d</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="n">tuple</span><span class="p">{}</span>
	<span class="n">idx</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">bool</span><span class="p">{}</span>
	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">transactions</span> <span class="p">{</span>
		<span class="n">e</span> <span class="o">:=</span> <span class="n">strings</span><span class="o">.</span><span class="n">Split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">","</span><span class="p">)</span>
		<span class="n">name</span> <span class="o">:=</span> <span class="n">e</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
		<span class="n">time</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Atoi</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="m">1</span><span class="p">])</span>
		<span class="n">amount</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Atoi</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="m">2</span><span class="p">])</span>
		<span class="n">city</span> <span class="o">:=</span> <span class="n">e</span><span class="p">[</span><span class="m">3</span><span class="p">]</span>
		<span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">tuple</span><span class="p">{</span><span class="n">time</span><span class="p">,</span> <span class="n">city</span><span class="p">,</span> <span class="n">i</span><span class="p">})</span>
		<span class="k">if</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="m">1000</span> <span class="p">{</span>
			<span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="no">true</span>
		<span class="p">}</span>
		<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">item</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="p">{</span>
			<span class="k">if</span> <span class="n">city</span> <span class="o">!=</span> <span class="n">item</span><span class="o">.</span><span class="n">city</span> <span class="o">&amp;&amp;</span> <span class="n">abs</span><span class="p">(</span><span class="n">time</span><span class="o">-</span><span class="n">item</span><span class="o">.</span><span class="n">t</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="m">60</span> <span class="p">{</span>
				<span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">idx</span><span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="no">true</span><span class="p">,</span> <span class="no">true</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">idx</span> <span class="p">{</span>
		<span class="n">ans</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">transactions</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
	<span class="p">}</span>
	<span class="k">return</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">abs</span><span class="p">(</span><span class="n">x</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">x</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">x</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">tuple</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">t</span>    <span class="kt">int</span>
	<span class="n">city</span> <span class="kt">string</span>
	<span class="n">i</span>    <span class="kt">int</span>
<span class="p">}</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-1169.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
