<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <link href="solution-604.html" rel="shortcut icon" type="image/png"/>
  <link href="solution-604.html" rel="stylesheet">
   <script src="assets_js_uikit.min.js" type="text/javascript">
   </script>
   <script src="assets_js_uikit-icons.min.js" type="text/javascript">
   </script>
   <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        packages: {'[+]': ['ams']}  // Include the 'ams' package
      },
      svg: {
        fontCache: 'global'
      }
    };
   </script>
   <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   <!-- below block is overlapping with SEO plugin generated title and description   -->
   <!-- 
  <title>604 - Design Compressed String Iterator</title>

  
  <meta name="author" content="Leetcode">
  

  
  <meta name="description" content="Leetcode 604. Design Compressed String Iterator Description Design and implement a data structure for a compressed string iterator. The given compressed string will be in the form of each letter followed by a positive integer representing the number of this letter existing in the original uncompressed...">
   -->
   <meta content="LeetCode, Solution, Company Tag, Unlock Prime, Java, C++, Interview, Job, Algorithm, SQL, Canada" name="keywords"/>
   <link href="solution-604.html" rel="alternate" title="Leetcode" type="application/rss+xml"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K108N8L891">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K108N8L891');
   </script>
   <!-- End Google Analytics -->
   <script async="" data-ad-client="ca-pub-6766885420008650" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
   </script>
   <link crossorigin="anonymous" href="solution-604.html" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet"/>
   <link href="solution-604.html" rel="stylesheet"/>
   <link href="solution-604.html" rel="stylesheet"/>
   <link href="solution-604.html" rel="stylesheet"/>
   <link href="solution-604.html" rel="stylesheet"/>
   <link href="solution-604.html" rel="stylesheet"/>
   <meta content="Leetcode" property="og:site_name"/>
   <meta content="604 - Design Compressed String Iterator" property="og:title"/>
   <meta content="Leetcode 604. Design Compressed String Iterator Description Design and implement a data structure for a compressed string iterator. The given compressed string will be in the form of each letter followed by a positive integer representing the number of this letter existing in the original uncompressed string. Implement the&amp;nbsp;StringIterator class: next()&amp;nbsp;Returns the next character if the original string still has uncompressed characters, otherwise returns a white space. hasNext()&amp;nbsp;Returns true if&amp;nbsp;there is any letter needs to be uncompressed in the original string, otherwise returns false. &amp;nbsp; Example 1: Input [&amp;quot;StringIterator&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;hasNext&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;hasNext&amp;quot;] [[&amp;quot;L1e2t1C1o1d1e1&amp;quot;], [], [], [], [], [], [], [], [], []] Output [null, &amp;quot;L&amp;quot;, &amp;quot;e&amp;quot;, &amp;quot;e&amp;quot;, &amp;quot;t&amp;quot;, &amp;quot;C&amp;quot;, &amp;quot;o&amp;quot;, true, &amp;quot;d&amp;quot;, true] Explanation StringIterator stringIterator = new StringIterator(&amp;quot;L1e2t1C1o1d1e1&amp;quot;); stringIterator.next(); // return &amp;quot;L&amp;quot; stringIterator.next(); // return &amp;quot;e&amp;quot; stringIterator.next(); // return &amp;quot;e&amp;quot; stringIterator.next(); // return &amp;quot;t&amp;quot; stringIterator.next(); // return &amp;quot;C&amp;quot; stringIterator.next(); // return &amp;quot;o&amp;quot; stringIterator.hasNext(); // return True stringIterator.next(); // return &amp;quot;d&amp;quot; stringIterator.hasNext(); // return True &amp;nbsp; Constraints: 1 &amp;lt;=&amp;nbsp;compressedString.length &amp;lt;= 1000 compressedString consists of lower-case an upper-case English letters and digits. The number of a single character repetitions in&amp;nbsp;compressedString is in the range [1, 10^9] At most 100 calls will be made to next and hasNext. Solutions Class StringIterator __init__ Method Parameters: Takes compressedString, a string where each letter is followed by a positive integer indicating the number of times the letter appears consecutively. Logic: The method initializes an empty list self.d to store pairs [character, count]. self.p is initialized to 0 and will serve as a pointer to the current element in self.d. It then iterates over compressedString to extract each character and its corresponding count. This is achieved using a nested loop where the outer loop picks the character and the inner loop computes the count (which may have more than one digit). next Method Functionality: Returns the next character in the uncompressed version of the string. Logic: First, it checks if there are any characters left using hasNext(). If none, it returns a space ' '. It retrieves the current character (ans) from self.d[self.p][0]. Decrements the count of this character by 1. If the count of the current character becomes 0, it increments the pointer self.p to move to the next character. Returns ans, the current character. hasNext Method Functionality: Checks if there are more characters to return. Logic: Returns True if self.p is less than the length of self.d and the count of the current character (self.d[self.p][1]) is greater than 0. Otherwise, returns False. Java C++ Python Go class StringIterator { private List&amp;lt;Node&amp;gt; d = new ArrayList&amp;lt;&amp;gt;(); private int p; public StringIterator(String compressedString) { int n = compressedString.length(); int i = 0; while (i &amp;lt; n) { char c = compressedString.charAt(i); int x = 0; while (++i &amp;lt; n &amp;amp;&amp;amp; Character.isDigit(compressedString.charAt(i))) { x = x * 10 + (compressedString.charAt(i) - '0'); } d.add(new Node(c, x)); } } public char next() { if (!hasNext()) { return ' '; } char ans = d.get(p).c; if (--d.get(p).x == 0)..." property="og:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" property="og:image"/>
   <!-- remove canonical below to use SEO plugin -->
   <meta content="article" property="og:type"/>
   <meta content="Leetcode" property="og:article:author"/>
   <meta content="2017-07-26T00:00:00-07:00" property="og:article:published_time"/>
   <meta content="https://leetcode.ca/2017-07-26-604-Design-Compressed-String-Iterator/" property="og:url"/>
   <!-- <link rel="canonical" href="solution-604.html"> -->
   <meta content="summary" name="twitter:card"/>
   <meta content="@" name="twitter:site"/>
   <meta content="@" name="twitter:creator"/>
   <meta content="604 - Design Compressed String Iterator" property="twitter:title"/>
   <meta content="Leetcode 604. Design Compressed String Iterator Description Design and implement a data structure for a compressed string iterator. The given compressed string will be in the form of each letter followed by a positive integer representing the number of this letter existing in the original uncompressed string. Implement the&amp;nbsp;StringIterator class: next()&amp;nbsp;Returns the next character if the original string still has uncompressed characters, otherwise returns a white space. hasNext()&amp;nbsp;Returns true if&amp;nbsp;there is any letter needs to be uncompressed in the original string, otherwise returns false. &amp;nbsp; Example 1: Input [&amp;quot;StringIterator&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;hasNext&amp;quot;, &amp;quot;next&amp;quot;, &amp;quot;hasNext&amp;quot;] [[&amp;quot;L1e2t1C1o1d1e1&amp;quot;], [], [], [], [], [], [], [], [], []] Output [null, &amp;quot;L&amp;quot;, &amp;quot;e&amp;quot;, &amp;quot;e&amp;quot;, &amp;quot;t&amp;quot;, &amp;quot;C&amp;quot;, &amp;quot;o&amp;quot;, true, &amp;quot;d&amp;quot;, true] Explanation StringIterator stringIterator = new StringIterator(&amp;quot;L1e2t1C1o1d1e1&amp;quot;); stringIterator.next(); // return &amp;quot;L&amp;quot; stringIterator.next(); // return &amp;quot;e&amp;quot; stringIterator.next(); // return &amp;quot;e&amp;quot; stringIterator.next(); // return &amp;quot;t&amp;quot; stringIterator.next(); // return &amp;quot;C&amp;quot; stringIterator.next(); // return &amp;quot;o&amp;quot; stringIterator.hasNext(); // return True stringIterator.next(); // return &amp;quot;d&amp;quot; stringIterator.hasNext(); // return True &amp;nbsp; Constraints: 1 &amp;lt;=&amp;nbsp;compressedString.length &amp;lt;= 1000 compressedString consists of lower-case an upper-case English letters and digits. The number of a single character repetitions in&amp;nbsp;compressedString is in the range [1, 10^9] At most 100 calls will be made to next and hasNext. Solutions Class StringIterator __init__ Method Parameters: Takes compressedString, a string where each letter is followed by a positive integer indicating the number of times the letter appears consecutively. Logic: The method initializes an empty list self.d to store pairs [character, count]. self.p is initialized to 0 and will serve as a pointer to the current element in self.d. It then iterates over compressedString to extract each character and its corresponding count. This is achieved using a nested loop where the outer loop picks the character and the inner loop computes the count (which may have more than one digit). next Method Functionality: Returns the next character in the uncompressed version of the string. Logic: First, it checks if there are any characters left using hasNext(). If none, it returns a space ' '. It retrieves the current character (ans) from self.d[self.p][0]. Decrements the count of this character by 1. If the count of the current character becomes 0, it increments the pointer self.p to move to the next character. Returns ans, the current character. hasNext Method Functionality: Checks if there are more characters to return. Logic: Returns True if self.p is less than the length of self.d and the count of the current character (self.d[self.p][1]) is greater than 0. Otherwise, returns False. Java C++ Python Go class StringIterator { private List&amp;lt;Node&amp;gt; d = new ArrayList&amp;lt;&amp;gt;(); private int p; public StringIterator(String compressedString) { int n = compressedString.length(); int i = 0; while (i &amp;lt; n) { char c = compressedString.charAt(i); int x = 0; while (++i &amp;lt; n &amp;amp;&amp;amp; Character.isDigit(compressedString.charAt(i))) { x = x * 10 + (compressedString.charAt(i) - '0'); } d.add(new Node(c, x)); } } public char next() { if (!hasNext()) { return ' '; } char ans = d.get(p).c; if (--d.get(p).x == 0)..." property="twitter:description"/>
   <meta content="https://leetcode.ca/assets/img/avatar-icon.jpg" name="twitter:image"/>
   <!-- Begin Jekyll SEO tag v2.6.1 -->
   <title>
    604 - Design Compressed String Iterator | Leetcode
   </title>
   <meta content="Jekyll v3.10.0" name="generator">
    <meta content="604 - Design Compressed String Iterator" property="og:title">
     <meta content="Leetcode" name="author">
      <meta content="en_US" property="og:locale">
       <meta content="Leetcode" name="description">
        <meta content="Leetcode" property="og:description">
         <link href="solution-604.html" rel="canonical">
          <meta content="https://leetcode.ca/2017-07-26-604-Design-Compressed-String-Iterator/" property="og:url">
           <meta content="Leetcode" property="og:site_name">
            <meta content="article" property="og:type">
             <meta content="2017-07-26T00:00:00-07:00" property="article:published_time">
              <script type="application/ld+json">
               {"description":"Leetcode","headline":"604 - Design Compressed String Iterator","dateModified":"2017-07-26T00:00:00-07:00","datePublished":"2017-07-26T00:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://leetcode.ca/2017-07-26-604-Design-Compressed-String-Iterator/"},"url":"https://leetcode.ca/2017-07-26-604-Design-Compressed-String-Iterator/","author":{"@type":"Person","name":"Leetcode"},"@type":"BlogPosting","@context":"https://schema.org"}
              </script>
              <!-- End Jekyll SEO tag -->
             </meta>
            </meta>
           </meta>
          </meta>
         </link>
        </meta>
       </meta>
      </meta>
     </meta>
    </meta>
   </meta>
  </link>
 </head>
 <body>
  
  <!-- TODO this file has become a mess, refactor it -->
  
  <div class="container-md">
   <div class="row">
    <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
     <article class="blog-post" role="main">
      
      <script src="https://apis.google.com/js/platform.js">
      </script>
      <div class="g-ytsubscribe" data-channelid="UCslk3mmaMJy1enit3L9vWig" data-count="hidden" data-layout="full">
      </div>
      <h1 id="604-design-compressed-string-iterator">
       <a href="solution-604.html">
        604. Design Compressed String Iterator
       </a>
      </h1>
      <h2 id="description">
       Description
      </h2>
      <p>
       Design and implement a data structure for a compressed string iterator. The given compressed string will be in the form of each letter followed by a positive integer representing the number of this letter existing in the original uncompressed string.
      </p>
      <p>
       Implement the StringIterator class:
      </p>
      <ul>
       <li>
        <code>
         next()
        </code>
        Returns
        <strong>
         the next character
        </strong>
        if the original string still has uncompressed characters, otherwise returns a
        <strong>
         white space
        </strong>
        .
       </li>
       <li>
        <code>
         hasNext()
        </code>
        Returns true if there is any letter needs to be uncompressed in the original string, otherwise returns
        <code>
         false
        </code>
        .
       </li>
      </ul>
      <p>
      </p>
      <p>
       <strong class="example">
        Example 1:
       </strong>
      </p>
      <pre>
<strong>Input</strong>
["StringIterator", "next", "next", "next", "next", "next", "next", "hasNext", "next", "hasNext"]
[["L1e2t1C1o1d1e1"], [], [], [], [], [], [], [], [], []]
<strong>Output</strong>
[null, "L", "e", "e", "t", "C", "o", true, "d", true]

<strong>Explanation</strong>
StringIterator stringIterator = new StringIterator("L1e2t1C1o1d1e1");
stringIterator.next(); // return "L"
stringIterator.next(); // return "e"
stringIterator.next(); // return "e"
stringIterator.next(); // return "t"
stringIterator.next(); // return "C"
stringIterator.next(); // return "o"
stringIterator.hasNext(); // return True
stringIterator.next(); // return "d"
stringIterator.hasNext(); // return True
</pre>
      <p>
      </p>
      <p>
       <strong>
        Constraints:
       </strong>
      </p>
      <ul>
       <li>
        <code>
         1 &lt;= compressedString.length &lt;= 1000
        </code>
       </li>
       <li>
        <code>
         compressedString
        </code>
        consists of lower-case an upper-case English letters and digits.
       </li>
       <li>
        The number of a single character repetitions in
        <code>
         compressedString
        </code>
        is in the range
        <code>
         [1, 10^9]
        </code>
       </li>
       <li>
        At most
        <code>
         100
        </code>
        calls will be made to
        <code>
         next
        </code>
        and
        <code>
         hasNext
        </code>
        .
       </li>
      </ul>
      <h2 id="solutions">
       Solutions
      </h2>
      <h3 id="class-stringiterator">
       Class StringIterator
      </h3>
      <h4 id="__init__-method">
       <code class="language-plaintext highlighter-rouge">
        __init__
       </code>
       Method
      </h4>
      <ul>
       <li>
        <strong>
         Parameters:
        </strong>
        Takes
        <code class="language-plaintext highlighter-rouge">
         compressedString
        </code>
        , a string where each letter is followed by a positive integer indicating the number of times the letter appears consecutively.
       </li>
       <li>
        <strong>
         Logic:
        </strong>
        <ul>
         <li>
          The method initializes an empty list
          <code class="language-plaintext highlighter-rouge">
           self.d
          </code>
          to store pairs
          <code class="language-plaintext highlighter-rouge">
           [character, count]
          </code>
          .
         </li>
         <li>
          <code class="language-plaintext highlighter-rouge">
           self.p
          </code>
          is initialized to
          <code class="language-plaintext highlighter-rouge">
           0
          </code>
          and will serve as a pointer to the current element in
          <code class="language-plaintext highlighter-rouge">
           self.d
          </code>
          .
         </li>
         <li>
          It then iterates over
          <code class="language-plaintext highlighter-rouge">
           compressedString
          </code>
          to extract each character and its corresponding count. This is achieved using a nested loop where the outer loop picks the character and the inner loop computes the count (which may have more than one digit).
         </li>
        </ul>
       </li>
      </ul>
      <h4 id="next-method">
       <code class="language-plaintext highlighter-rouge">
        next
       </code>
       Method
      </h4>
      <ul>
       <li>
        <strong>
         Functionality:
        </strong>
        Returns the next character in the uncompressed version of the string.
       </li>
       <li>
        <strong>
         Logic:
        </strong>
        <ul>
         <li>
          First, it checks if there are any characters left using
          <code class="language-plaintext highlighter-rouge">
           hasNext()
          </code>
          . If none, it returns a space
          <code class="language-plaintext highlighter-rouge">
           ' '
          </code>
          .
         </li>
         <li>
          It retrieves the current character (
          <code class="language-plaintext highlighter-rouge">
           ans
          </code>
          ) from
          <code class="language-plaintext highlighter-rouge">
           self.d[self.p][0]
          </code>
          .
         </li>
         <li>
          Decrements the count of this character by
          <code class="language-plaintext highlighter-rouge">
           1
          </code>
          .
         </li>
         <li>
          If the count of the current character becomes
          <code class="language-plaintext highlighter-rouge">
           0
          </code>
          , it increments the pointer
          <code class="language-plaintext highlighter-rouge">
           self.p
          </code>
          to move to the next character.
         </li>
         <li>
          Returns
          <code class="language-plaintext highlighter-rouge">
           ans
          </code>
          , the current character.
         </li>
        </ul>
       </li>
      </ul>
      <h4 id="hasnext-method">
       <code class="language-plaintext highlighter-rouge">
        hasNext
       </code>
       Method
      </h4>
      <ul>
       <li>
        <strong>
         Functionality:
        </strong>
        Checks if there are more characters to return.
       </li>
       <li>
        <strong>
         Logic:
        </strong>
        <ul>
         <li>
          Returns
          <code class="language-plaintext highlighter-rouge">
           True
          </code>
          if
          <code class="language-plaintext highlighter-rouge">
           self.p
          </code>
          is less than the length of
          <code class="language-plaintext highlighter-rouge">
           self.d
          </code>
          and the count of the current character (
          <code class="language-plaintext highlighter-rouge">
           self.d[self.p][1]
          </code>
          ) is greater than
          <code class="language-plaintext highlighter-rouge">
           0
          </code>
          . Otherwise, returns
          <code class="language-plaintext highlighter-rouge">
           False
          </code>
          .
         </li>
        </ul>
       </li>
      </ul>
      <ul class="uk-tab" data-uk-switcher="{connect:'#55f91c6d-d44e-4212-b413-6fa2b917a58c'}">
       <li class="uk-active">
        <a href="solution-604.html">
         Java
        </a>
       </li>
       <li>
        <a href="solution-604.html">
         C++
        </a>
       </li>
       <li>
        <a href="solution-604.html">
         Python
        </a>
       </li>
       <li>
        <a href="solution-604.html">
         Go
        </a>
       </li>
      </ul>
      <ul class="uk-switcher uk-margin" id="55f91c6d-d44e-4212-b413-6fa2b917a58c">
       <li>
        <div class="language-java highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="kd">class</span> <span class="nc">StringIterator</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">p</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">StringIterator</span><span class="o">(</span><span class="nc">String</span> <span class="n">compressedString</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">compressedString</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">compressedString</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(++</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="nc">Character</span><span class="o">.</span><span class="na">isDigit</span><span class="o">(</span><span class="n">compressedString</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)))</span> <span class="o">{</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="o">(</span><span class="n">compressedString</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">d</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="n">x</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">char</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">hasNext</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">return</span> <span class="sc">' '</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">char</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p</span><span class="o">).</span><span class="na">c</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(--</span><span class="n">d</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p</span><span class="o">).</span><span class="na">x</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="o">++</span><span class="n">p</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">d</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p</span><span class="o">).</span><span class="na">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Node</span> <span class="o">{</span>
    <span class="kt">char</span> <span class="n">c</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>

    <span class="nc">Node</span><span class="o">(</span><span class="kt">char</span> <span class="n">c</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * Your StringIterator object will be instantiated and called as such:
 * StringIterator obj = new StringIterator(compressedString);
 * char param_1 = obj.next();
 * boolean param_2 = obj.hasNext();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-cpp highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">class</span> <span class="nc">StringIterator</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">StringIterator</span><span class="p">(</span><span class="n">string</span> <span class="n">compressedString</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">compressedString</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">isdigit</span><span class="p">(</span><span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="p">{</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="p">(</span><span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">char</span> <span class="n">next</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">hasNext</span><span class="p">())</span> <span class="k">return</span> <span class="sc">' '</span><span class="p">;</span>
        <span class="kt">char</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">first</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">--</span><span class="n">d</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">second</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">++</span><span class="n">p</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">bool</span> <span class="n">hasNext</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">d</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">d</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">second</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nl">private:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">d</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
 * Your StringIterator object will be instantiated and called as such:
 * StringIterator* obj = new StringIterator(compressedString);
 * char param_1 = obj-&gt;next();
 * bool param_2 = obj-&gt;hasNext();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-py highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="s">'''
Lazy Evaluation: Characters are processed and returned on-demand, 
which can be advantageous for large data or in scenarios where the entire string might not be needed.
'''</span>
<span class="k">class</span> <span class="nc">StringIterator</span><span class="p">:</span> <span class="c1"># more memory-efficient
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compressedString</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">compressedString</span> <span class="o">=</span> <span class="n">compressedString</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">currentChar</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">compressedString</span><span class="p">)</span>

    <span class="s">'''
        This private method updates the currentChar and charCount to the next character 
        and its count in the compressed string. 
        It's called when the current character count reaches zero.
    '''</span>
    <span class="k">def</span> <span class="nf">_updateNextChar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">index</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">currentChar</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">compressedString</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">index</span><span class="p">]</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="bp">self</span><span class="p">.</span><span class="n">index</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="ow">and</span> <span class="bp">self</span><span class="p">.</span><span class="n">compressedString</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">index</span><span class="p">].</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">compressedString</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">index</span><span class="p">])</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">currentChar</span> <span class="o">=</span> <span class="s">' '</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_updateNextChar</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">currentChar</span>
        <span class="k">return</span> <span class="s">' '</span>

    <span class="k">def</span> <span class="nf">hasNext</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">index</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="ow">or</span> <span class="bp">self</span><span class="p">.</span><span class="n">charCount</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="c1">##########
</span>
<span class="k">class</span> <span class="nc">StringIterator</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compressedString</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">d</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">compressedString</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span> <span class="c1"># just flat it right away
</span>            <span class="n">c</span> <span class="o">=</span> <span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">d</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">hasNext</span><span class="p">():</span>
            <span class="k">return</span> <span class="s">' '</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">d</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">p</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">d</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">d</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">p</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">ans</span>

    <span class="k">def</span> <span class="nf">hasNext</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">p</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">d</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="p">.</span><span class="n">d</span><span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span>


<span class="c1"># Your StringIterator object will be instantiated and called as such:
# obj = StringIterator(compressedString)
# param_1 = obj.next()
# param_2 = obj.hasNext()
</span>
</code></pre>
         </div>
        </div>
       </li>
       <li>
        <div class="language-go highlighter-rouge">
         <div class="highlight">
          <pre class="highlight"><code><span class="k">type</span> <span class="n">pair</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">c</span> <span class="kt">byte</span>
	<span class="n">x</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">StringIterator</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">d</span> <span class="p">[]</span><span class="n">pair</span>
	<span class="n">p</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Constructor</span><span class="p">(</span><span class="n">compressedString</span> <span class="kt">string</span><span class="p">)</span> <span class="n">StringIterator</span> <span class="p">{</span>
	<span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">compressedString</span><span class="p">)</span>
	<span class="n">i</span> <span class="o">:=</span> <span class="m">0</span>
	<span class="n">d</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">pair</span><span class="p">{}</span>
	<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
		<span class="n">c</span> <span class="o">:=</span> <span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
		<span class="n">x</span> <span class="o">:=</span> <span class="m">0</span>
		<span class="n">i</span><span class="o">++</span>
		<span class="k">for</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="sc">'0'</span> <span class="o">&amp;&amp;</span> <span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="sc">'9'</span> <span class="p">{</span>
			<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="m">10</span> <span class="o">+</span> <span class="kt">int</span><span class="p">(</span><span class="n">compressedString</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="sc">'0'</span><span class="p">)</span>
			<span class="n">i</span><span class="o">++</span>
		<span class="p">}</span>
		<span class="n">d</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">pair</span><span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">})</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">StringIterator</span><span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="m">0</span><span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">StringIterator</span><span class="p">)</span> <span class="n">Next</span><span class="p">()</span> <span class="kt">byte</span> <span class="p">{</span>
	<span class="k">if</span> <span class="o">!</span><span class="n">this</span><span class="o">.</span><span class="n">HasNext</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sc">' '</span>
	<span class="p">}</span>
	<span class="n">ans</span> <span class="o">:=</span> <span class="n">this</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">this</span><span class="o">.</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">c</span>
	<span class="n">this</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">this</span><span class="o">.</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="o">--</span>
	<span class="k">if</span> <span class="n">this</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">this</span><span class="o">.</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
		<span class="n">this</span><span class="o">.</span><span class="n">p</span><span class="o">++</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">ans</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">this</span> <span class="o">*</span><span class="n">StringIterator</span><span class="p">)</span> <span class="n">HasNext</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">this</span><span class="o">.</span><span class="n">p</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">d</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">this</span><span class="o">.</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="m">0</span>
<span class="p">}</span>

<span class="c">/**
 * Your StringIterator object will be instantiated and called as such:
 * obj := Constructor(compressedString);
 * param_1 := obj.Next();
 * param_2 := obj.HasNext();
 */</span>
</code></pre>
         </div>
        </div>
       </li>
      </ul>
      
     </article>
     
     
     <div class="disqus-comments">
      <div class="comments">
       <div id="disqus_thread">
       </div>
       <script type="text/javascript">
        var disqus_shortname = 'leetcodeca';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
       </script>
       <noscript>
        Please enable JavaScript to view the
        <a href="solution-604.html">
         comments powered by Disqus.
        </a>
       </noscript>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <script crossorigin="anonymous" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" src="https://code.jquery.com/jquery-3.5.1.slim.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
  </script>
  <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
  <script src="assets_js_beautifuljekyll.js">
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js">
  </script>
  <script src="assets_js_anchor-js-config.js">
  </script>
 </body>
</html>
